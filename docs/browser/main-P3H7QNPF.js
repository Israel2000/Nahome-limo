import{A as Sa,B as bo,C as qv,D as Yv,E as R,F as tt,G as De,H as vd,I as Zv,J as Io,K as Ue,L as fn,M as Ta,N as yd,O as Qv,P as Zr,Q as So,R as _d,S as Kv,T as Jv,U as To,V as Ma,W as Be,X as xt,a as C,b as G,c as ae,d as kv,e as Da,f as Fv,g as Lv,h as w,i as Yr,j as ba,k as Vv,l as jv,m as Uv,n as Se,o as Bv,p as md,q as $v,r as $t,s as Hv,t as Wv,u as Ia,v as ye,w as zv,x as Gv,y as gt,z as Fn}from"./chunk-ZLZU4UU4.js";function Xv(e,n){return Object.is(e,n)}var be=null,Aa=!1,xa=1,hn=Symbol("SIGNAL");function Q(e){let n=be;return be=e,n}function ey(){return be}var Ao={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ed(e){if(Aa)throw new Error("");if(be===null)return;be.consumerOnSignalRead(e);let n=be.nextProducerIndex++;if(Oa(be),n<be.producerNode.length&&be.producerNode[n]!==e&&Mo(be)){let t=be.producerNode[n];Pa(t,be.producerIndexOfThis[n])}be.producerNode[n]!==e&&(be.producerNode[n]=e,be.producerIndexOfThis[n]=Mo(be)?iy(e,be,n):0),be.producerLastReadVersion[n]=e.version}function vI(){xa++}function ty(e){if(!(Mo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===xa)){if(!e.producerMustRecompute(e)&&!bd(e)){e.dirty=!1,e.lastCleanEpoch=xa;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=xa}}function ny(e){if(e.liveConsumerNode===void 0)return;let n=Aa;Aa=!0;try{for(let t of e.liveConsumerNode)t.dirty||yI(t)}finally{Aa=n}}function ry(){return be?.consumerAllowSignalWrites!==!1}function yI(e){e.dirty=!0,ny(e),e.consumerMarkedDirty?.(e)}function Ra(e){return e&&(e.nextProducerIndex=0),Q(e)}function Dd(e,n){if(Q(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Mo(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Pa(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function bd(e){Oa(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(ty(t),r!==t.version))return!0}return!1}function Id(e){if(Oa(e),Mo(e))for(let n=0;n<e.producerNode.length;n++)Pa(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function iy(e,n,t){if(oy(e),e.liveConsumerNode.length===0&&sy(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=iy(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Pa(e,n){if(oy(e),e.liveConsumerNode.length===1&&sy(e))for(let r=0;r<e.producerNode.length;r++)Pa(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Oa(i),i.producerIndexOfThis[r]=n}}function Mo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Oa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function oy(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function sy(e){return e.producerNode!==void 0}function ay(e){let n=Object.create(_I);n.computation=e;let t=()=>{if(ty(n),Ed(n),n.value===Na)throw n.error;return n.value};return t[hn]=n,t}var Cd=Symbol("UNSET"),wd=Symbol("COMPUTING"),Na=Symbol("ERRORED"),_I=G(C({},Ao),{value:Cd,dirty:!0,error:null,equal:Xv,producerMustRecompute(e){return e.value===Cd||e.value===wd},producerRecomputeValue(e){if(e.value===wd)throw new Error("Detected cycle in computations.");let n=e.value;e.value=wd;let t=Ra(e),r;try{r=e.computation()}catch(i){r=Na,e.error=i}finally{Dd(e,t)}if(n!==Cd&&n!==Na&&r!==Na&&e.equal(n,r)){e.value=n;return}e.value=r,e.version++}});function CI(){throw new Error}var ly=CI;function cy(){ly()}function uy(e){ly=e}var wI=null;function dy(e){let n=Object.create(hy);n.value=e;let t=()=>(Ed(n),n.value);return t[hn]=n,t}function Sd(e,n){ry()||cy(),e.equal(e.value,n)||(e.value=n,EI(e))}function fy(e,n){ry()||cy(),Sd(e,n(e.value))}var hy=G(C({},Ao),{equal:Xv,value:void 0});function EI(e){e.version++,vI(),ny(e),wI?.()}function O(e){return typeof e=="function"}function Qr(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ka=Qr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function mr(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var ge=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(o){n=o instanceof ka?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{py(o)}catch(s){n=n??[],s instanceof ka?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ka(n)}}add(n){var t;if(n&&n!==this)if(this.closed)py(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&mr(t,n)}remove(n){let{_finalizers:t}=this;t&&mr(t,n),n instanceof e&&n._removeParent(this)}};ge.EMPTY=(()=>{let e=new ge;return e.closed=!0,e})();var Td=ge.EMPTY;function Fa(e){return e instanceof ge||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function py(e){O(e)?e():e.unsubscribe()}var Nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Kr={setTimeout(e,n,...t){let{delegate:r}=Kr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Kr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function La(e){Kr.setTimeout(()=>{let{onUnhandledError:n}=Nt;if(n)n(e);else throw e})}function vr(){}var gy=Md("C",void 0,void 0);function my(e){return Md("E",void 0,e)}function vy(e){return Md("N",e,void 0)}function Md(e,n,t){return{kind:e,value:n,error:t}}var yr=null;function Jr(e){if(Nt.useDeprecatedSynchronousErrorHandling){let n=!yr;if(n&&(yr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=yr;if(yr=null,t)throw r}}else e()}function yy(e){Nt.useDeprecatedSynchronousErrorHandling&&yr&&(yr.errorThrown=!0,yr.error=e)}var _r=class extends ge{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Fa(n)&&n.add(this)):this.destination=II}static create(n,t,r){return new pn(n,t,r)}next(n){this.isStopped?xd(vy(n),this):this._next(n)}error(n){this.isStopped?xd(my(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?xd(gy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},DI=Function.prototype.bind;function Ad(e,n){return DI.call(e,n)}var Nd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Va(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Va(r)}else Va(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Va(t)}}},pn=class extends _r{constructor(n,t,r){super();let i;if(O(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Nt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Ad(n.next,o),error:n.error&&Ad(n.error,o),complete:n.complete&&Ad(n.complete,o)}):i=n}this.destination=new Nd(i)}};function Va(e){Nt.useDeprecatedSynchronousErrorHandling?yy(e):La(e)}function bI(e){throw e}function xd(e,n){let{onStoppedNotification:t}=Nt;t&&Kr.setTimeout(()=>t(e,n))}var II={closed:!0,next:vr,error:bI,complete:vr};var Xr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xe(e){return e}function Rd(...e){return Pd(e)}function Pd(e){return e.length===0?xe:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var V=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=TI(t)?t:new pn(t,r,i);return Jr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=_y(r),new r((i,o)=>{let s=new pn({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Xr](){return this}pipe(...t){return Pd(t)(this)}toPromise(t){return t=_y(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function _y(e){var n;return(n=e??Nt.Promise)!==null&&n!==void 0?n:Promise}function SI(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}function TI(e){return e&&e instanceof _r||SI(e)&&Fa(e)}function Od(e){return O(e?.lift)}function j(e){return n=>{if(Od(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(e,n,t,r,i){return new kd(e,n,t,r,i)}var kd=class extends _r{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function ei(){return j((e,n)=>{let t=null;e._refCount++;let r=F(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var ti=class extends V{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Od(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ge;let t=this.getSubject();n.add(this.source.subscribe(F(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ge.EMPTY)}return n}refCount(){return ei()(this)}};var Cy=Qr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=(()=>{class e extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ja(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Cy}next(t){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Td:(this.currentObservers=null,o.push(t),new ge(()=>{this.currentObservers=null,mr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new V;return t.source=this,t}}return e.create=(n,t)=>new ja(n,t),e})(),ja=class extends ue{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Td}};var Ne=class extends ue{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var xo={now(){return(xo.delegate||Date).now()},delegate:void 0};var Ua=class extends ue{constructor(n=1/0,t=1/0,r=xo){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(n),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!n.closed;s+=r?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Ba=class extends ge{constructor(n,t){super()}schedule(n,t=0){return this}};var No={setInterval(e,n,...t){let{delegate:r}=No;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=No;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var ni=class extends Ba{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,r=0){return No.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&No.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r=!1,i;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,mr(r,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var ri=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}};ri.now=xo.now;var ii=class extends ri{constructor(n,t=ri.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}};var Ro=new ii(ni);var $a=class extends ni{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(n,t,r):(n.flush(this),0)}};var Ha=class extends ii{};var Fd=new Ha($a);var $e=new V(e=>e.complete());function wy(e){return e&&O(e.schedule)}function Ld(e){return e[e.length-1]}function oi(e){return O(Ld(e))?e.pop():void 0}function Ht(e){return wy(Ld(e))?e.pop():void 0}function Ey(e,n){return typeof Ld(e)=="number"?e.pop():n}var Wa=e=>e&&typeof e.length=="number"&&typeof e!="function";function za(e){return O(e?.then)}function Ga(e){return O(e[Xr])}function qa(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function Ya(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Za=MI();function Qa(e){return O(e?.[Za])}function Ka(e){return Fv(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield Da(t.read());if(i)return yield Da(void 0);yield yield Da(r)}}finally{t.releaseLock()}})}function Ja(e){return O(e?.getReader)}function ne(e){if(e instanceof V)return e;if(e!=null){if(Ga(e))return AI(e);if(Wa(e))return xI(e);if(za(e))return NI(e);if(qa(e))return Dy(e);if(Qa(e))return RI(e);if(Ja(e))return PI(e)}throw Ya(e)}function AI(e){return new V(n=>{let t=e[Xr]();if(O(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xI(e){return new V(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function NI(e){return new V(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,La)})}function RI(e){return new V(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Dy(e){return new V(n=>{OI(e,n).catch(t=>n.error(t))})}function PI(e){return Dy(Ka(e))}function OI(e,n){var t,r,i,o;return kv(this,void 0,void 0,function*(){try{for(t=Lv(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function nt(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function st(e,n=0){return j((t,r)=>{t.subscribe(F(r,i=>nt(r,e,()=>r.next(i),n),()=>nt(r,e,()=>r.complete(),n),i=>nt(r,e,()=>r.error(i),n)))})}function mt(e,n=0){return j((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function by(e,n){return ne(e).pipe(mt(n),st(n))}function Iy(e,n){return ne(e).pipe(mt(n),st(n))}function Sy(e,n){return new V(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Ty(e,n){return new V(t=>{let r;return nt(t,n,()=>{r=e[Za](),nt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function Xa(e,n){if(!e)throw new Error("Iterable cannot be null");return new V(t=>{nt(t,n,()=>{let r=e[Symbol.asyncIterator]();nt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function My(e,n){return Xa(Ka(e),n)}function Ay(e,n){if(e!=null){if(Ga(e))return by(e,n);if(Wa(e))return Sy(e,n);if(za(e))return Iy(e,n);if(qa(e))return Xa(e,n);if(Qa(e))return Ty(e,n);if(Ja(e))return My(e,n)}throw Ya(e)}function X(e,n){return n?Ay(e,n):ne(e)}function A(...e){let n=Ht(e);return X(e,n)}function si(e,n){let t=O(e)?e:()=>e,r=i=>i.error(t());return new V(n?i=>n.schedule(r,0,i):r)}function Vd(e){return!!e&&(e instanceof V||O(e.lift)&&O(e.subscribe))}var gn=Qr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function N(e,n){return j((t,r)=>{let i=0;t.subscribe(F(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:kI}=Array;function FI(e,n){return kI(n)?e(...n):e(n)}function el(e){return N(n=>FI(e,n))}var{isArray:LI}=Array,{getPrototypeOf:VI,prototype:jI,keys:UI}=Object;function tl(e){if(e.length===1){let n=e[0];if(LI(n))return{args:n,keys:null};if(BI(n)){let t=UI(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function BI(e){return e&&typeof e=="object"&&VI(e)===jI}function nl(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Po(...e){let n=Ht(e),t=oi(e),{args:r,keys:i}=tl(e);if(r.length===0)return X([],n);let o=new V($I(r,n,i?s=>nl(i,s):xe));return t?o.pipe(el(t)):o}function $I(e,n,t=xe){return r=>{xy(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)xy(n,()=>{let c=X(e[l],n),u=!1;c.subscribe(F(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function xy(e,n,t){e?nt(t,e,n):n()}function Ny(e,n,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&n.complete()},g=y=>c<r?v(y):l.push(y),v=y=>{o&&n.next(y),c++;let E=!1;ne(t(y,u++)).subscribe(F(n,M=>{i?.(M),o?g(M):n.next(M)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<r;){let M=l.shift();s?nt(n,s,()=>v(M)):v(M)}f()}catch(M){n.error(M)}}))};return e.subscribe(F(n,g,()=>{d=!0,f()})),()=>{a?.()}}function _e(e,n,t=1/0){return O(n)?_e((r,i)=>N((o,s)=>n(r,o,i,s))(ne(e(r,i))),t):(typeof n=="number"&&(t=n),j((r,i)=>Ny(r,i,e,t)))}function Ln(e=1/0){return _e(xe,e)}function Ry(){return Ln(1)}function ai(...e){return Ry()(X(e,Ht(e)))}function rl(e){return new V(n=>{ne(e()).subscribe(n)})}function jd(...e){let n=oi(e),{args:t,keys:r}=tl(e),i=new V(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;ne(t[u]).subscribe(F(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?nl(r,a):a),o.complete())}))}});return n?i.pipe(el(n)):i}function li(...e){let n=Ht(e),t=Ey(e,1/0),r=e;return r.length?r.length===1?ne(r[0]):Ln(t)(X(r,n)):$e}function Pe(e,n){return j((t,r)=>{let i=0;t.subscribe(F(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Vn(e){return j((n,t)=>{let r=null,i=!1,o;r=n.subscribe(F(t,void 0,void 0,s=>{o=ne(e(s,Vn(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Py(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(F(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function mn(e,n){return O(n)?_e(e,n,1):_e(e,1)}function jn(e){return j((n,t)=>{let r=!1;n.subscribe(F(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function vn(e){return e<=0?()=>$e:j((n,t)=>{let r=0;n.subscribe(F(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Ud(e){return N(()=>e)}function Bd(e,n=xe){return e=e??HI,j((t,r)=>{let i,o=!0;t.subscribe(F(r,s=>{let a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function HI(e,n){return e===n}function il(e=WI){return j((n,t)=>{let r=!1;n.subscribe(F(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function WI(){return new gn}function Cr(e){return j((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function vt(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Pe((i,o)=>e(i,o,r)):xe,vn(1),t?jn(n):il(()=>new gn))}function ci(e){return e<=0?()=>$e:j((n,t)=>{let r=[];n.subscribe(F(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function $d(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Pe((i,o)=>e(i,o,r)):xe,ci(1),t?jn(n):il(()=>new gn))}function ui(e,n){return j(Py(e,n,arguments.length>=2,!0))}function Oo(e={}){let{connector:n=()=>new ue,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},g=()=>{f(),s=l=void 0,u=d=!1},v=()=>{let y=s;g(),y?.unsubscribe()};return j((y,E)=>{c++,!d&&!u&&f();let M=l=l??n();E.add(()=>{c--,c===0&&!d&&!u&&(a=Hd(v,i))}),M.subscribe(E),!s&&c>0&&(s=new pn({next:B=>M.next(B),error:B=>{d=!0,f(),a=Hd(g,t,B),M.error(B)},complete:()=>{u=!0,f(),a=Hd(g,r),M.complete()}}),ne(y).subscribe(s))})(o)}}function Hd(e,n,...t){if(n===!0){e();return}if(n===!1)return;let r=new pn({next:()=>{r.unsubscribe(),e()}});return ne(n(...t)).subscribe(r)}function ol(e,n,t){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:t}=e:r=e??1/0,Oo({connector:()=>new Ua(r,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Wd(e){return j((n,t)=>{let r=!1,i=0;n.subscribe(F(t,o=>(r||(r=!e(o,i++)))&&t.next(o)))})}function zd(...e){let n=Ht(e);return j((t,r)=>{(n?ai(e,t,n):ai(e,t)).subscribe(r)})}function oe(e,n){return j((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(F(r,l=>{i?.unsubscribe();let c=0,u=o++;ne(e(l,u)).subscribe(i=F(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sl(e,n){return O(n)?oe(()=>e,n):oe(()=>e)}function Gd(e){return j((n,t)=>{ne(e).subscribe(F(t,()=>t.complete(),vr)),!t.closed&&n.subscribe(t)})}function Ce(e,n,t){let r=O(e)||n||t?{next:e,error:n,complete:t}:e;return r?j((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(F(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):xe}function qd(...e){let n=oi(e);return j((t,r)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)ne(e[l]).subscribe(F(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(xe))&&(s=null))},vr));t.subscribe(F(r,l=>{if(a){let c=[l,...o];r.next(n?n(...c):c)}}))})}var v_="https://g.co/ng/security#xss",x=class extends Error{constructor(n,t){super(Bl(n,t)),this.code=n}};function Bl(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}function Wo(e){return{toString:e}.toString()}var al="__parameters__";function zI(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function y_(e,n,t){return Wo(()=>{let r=zI(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(al)?l[al]:Object.defineProperty(l,al,{value:[]})[al];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Lo=globalThis;function re(e){for(let n in e)if(e[n]===re)return n;throw Error("Could not find renamed property on target object.")}function GI(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function We(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(We).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let t=n.indexOf(`
`);return t===-1?n:n.substring(0,t)}function Oy(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var qI=re({__forward_ref__:re});function rt(e){return e.__forward_ref__=rt,e.toString=function(){return We(this())},e}function He(e){return __(e)?e():e}function __(e){return typeof e=="function"&&e.hasOwnProperty(qI)&&e.__forward_ref__===rt}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qe(e){return{providers:e.providers||[],imports:e.imports||[]}}function $l(e){return ky(e,w_)||ky(e,E_)}function C_(e){return $l(e)!==null}function ky(e,n){return e.hasOwnProperty(n)?e[n]:null}function YI(e){let n=e&&(e[w_]||e[E_]);return n||null}function Fy(e){return e&&(e.hasOwnProperty(Ly)||e.hasOwnProperty(ZI))?e[Ly]:null}var w_=re({\u0275prov:re}),Ly=re({\u0275inj:re}),E_=re({ngInjectableDef:re}),ZI=re({ngInjectorDef:re}),b=class{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function D_(e){return e&&!!e.\u0275providers}var QI=re({\u0275cmp:re}),KI=re({\u0275dir:re}),JI=re({\u0275pipe:re}),XI=re({\u0275mod:re}),yl=re({\u0275fac:re}),Fo=re({__NG_ELEMENT_ID__:re}),Vy=re({__NG_ENV_ID__:re});function Hl(e){return typeof e=="string"?e:e==null?"":String(e)}function eS(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Hl(e)}function tS(e,n){let t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new x(-200,e)}function Yf(e,n){throw new x(-201,!1)}var $=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}($||{}),lf;function b_(){return lf}function yt(e){let n=lf;return lf=e,n}function I_(e,n,t){let r=$l(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&$.Optional)return null;if(n!==void 0)return n;Yf(e,"Injector")}var nS={},Vo=nS,cf="__NG_DI_FLAG__",_l="ngTempTokenPath",rS="ngTokenPath",iS=/\n/gm,oS="\u0275",jy="__source",gi;function sS(){return gi}function Un(e){let n=gi;return gi=e,n}function aS(e,n=$.Default){if(gi===void 0)throw new x(-203,!1);return gi===null?I_(e,void 0,n):gi.get(e,n&$.Optional?null:void 0,n)}function D(e,n=$.Default){return(b_()||aS)(He(e),n)}function _(e,n=$.Default){return D(e,Wl(n))}function Wl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function uf(e){let n=[];for(let t=0;t<e.length;t++){let r=He(e[t]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],l=lS(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(D(i,o))}else n.push(D(r))}return n}function S_(e,n){return e[cf]=n,e.prototype[cf]=n,e}function lS(e){return e[cf]}function cS(e,n,t,r){let i=e[_l];throw n[jy]&&i.unshift(n[jy]),e.message=uS(`
`+e.message,i,t,r),e[rS]=i,e[_l]=null,e}function uS(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==oS?e.slice(2):e;let i=We(n);if(Array.isArray(n))i=n.map(We).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):We(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(iS,`
  `)}`}var Et=S_(y_("Optional"),8);var T_=S_(y_("SkipSelf"),4);function vi(e,n){let t=e.hasOwnProperty(yl);return t?e[yl]:null}function Zf(e,n){e.forEach(t=>Array.isArray(t)?Zf(t,n):n(t))}function M_(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Cl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function dS(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function fS(e,n,t){let r=zo(e,n);return r>=0?e[r|1]=t:(r=~r,dS(e,r,n,t)),r}function Yd(e,n){let t=zo(e,n);if(t>=0)return e[t|1]}function zo(e,n){return hS(e,n,1)}function hS(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var yi={},_t=[],_i=new b(""),A_=new b("",-1),x_=new b(""),wl=class{get(n,t=Vo){if(t===Vo){let r=new Error(`NullInjectorError: No provider for ${We(n)}!`);throw r.name="NullInjectorError",r}return t}},N_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(N_||{}),Gt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gt||{}),Hn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Hn||{});function pS(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function df(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];gS(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function R_(e){return e===3||e===4||e===6}function gS(e){return e.charCodeAt(0)===64}function jo(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Uy(e,t,i,null,n[++r]):Uy(e,t,i,null,null))}}return e}function Uy(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var P_="ng-template";function mS(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&pS(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Qf(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Qf(e){return e.type===4&&e.value!==P_}function vS(e,n,t){let r=e.type===4&&!t?P_:e.value;return n===r}function yS(e,n,t){let r=4,i=e.attrs,o=i!==null?wS(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Rt(r)&&!Rt(l))return!1;if(s&&Rt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!vS(e,l,t)||l===""&&n.length===1){if(Rt(r))return!1;s=!0}}else if(r&8){if(i===null||!mS(e,i,l,t)){if(Rt(r))return!1;s=!0}}else{let c=n[++a],u=_S(l,i,Qf(e),t);if(u===-1){if(Rt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Rt(r))return!1;s=!0}}}}return Rt(r)||s}function Rt(e){return(e&1)===0}function _S(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ES(n,e)}function CS(e,n,t=!1){for(let r=0;r<n.length;r++)if(yS(e,n[r],t))return!0;return!1}function wS(e){for(let n=0;n<e.length;n++){let t=e[n];if(R_(t))return n}return e.length}function ES(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function By(e,n){return e?":not("+n.trim()+")":n}function DS(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rt(s)&&(n+=By(o,i),i=""),r=s,o=o||!Rt(r);t++}return i!==""&&(n+=By(o,i)),n}function bS(e){return e.map(DS).join(",")}function IS(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Rt(i))break;i=o}r++}return{attrs:n,classes:t}}function it(e){return Wo(()=>{let n=V_(e),t=G(C({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===N_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gt.Emulated,styles:e.styles||_t,_:null,schemas:e.schemas||null,tView:null,id:""});j_(t);let r=e.dependencies;return t.directiveDefs=Hy(r,!1),t.pipeDefs=Hy(r,!0),t.id=MS(t),t})}function SS(e){return Wn(e)||O_(e)}function TS(e){return e!==null}function Ye(e){return Wo(()=>({type:e.type,bootstrap:e.bootstrap||_t,declarations:e.declarations||_t,imports:e.imports||_t,exports:e.exports||_t,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $y(e,n){if(e==null)return yi;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Hn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(t[o]=a!==Hn.None?[r,a]:r,n[o]=s):t[o]=r}return t}function ce(e){return Wo(()=>{let n=V_(e);return j_(n),n})}function Wn(e){return e[QI]||null}function O_(e){return e[KI]||null}function k_(e){return e[JI]||null}function F_(e){let n=Wn(e)||O_(e)||k_(e);return n!==null?n.standalone:!1}function L_(e,n){let t=e[XI]||null;if(!t&&n===!0)throw new Error(`Type ${We(e)} does not have '\u0275mod' property.`);return t}function V_(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||yi,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||_t,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$y(e.inputs,n),outputs:$y(e.outputs),debugInfo:null}}function j_(e){e.features?.forEach(n=>n(e))}function Hy(e,n){if(!e)return null;let t=n?k_:SS;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(TS)}function MS(e){let n=0,t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Qt(e){return{\u0275providers:e}}function AS(...e){return{\u0275providers:U_(!0,e),\u0275fromNgModule:!0}}function U_(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return Zf(n,s=>{let a=s;ff(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&B_(i,o),t}function B_(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Kf(i,o=>{n(o,r)})}}function ff(e,n,t,r){if(e=He(e),!e)return!1;let i=null,o=Fy(e),s=!o&&Wn(e);if(!o&&!s){let l=e.ngModule;if(o=Fy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)ff(c,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Zf(o.imports,u=>{ff(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&B_(c,n)}if(!a){let c=vi(i)||(()=>new i);n({provide:i,useFactory:c,deps:_t},i),n({provide:x_,useValue:i,multi:!0},i),n({provide:_i,useValue:()=>D(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Kf(l,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Kf(e,n){for(let t of e)D_(t)&&(t=t.\u0275providers),Array.isArray(t)?Kf(t,n):n(t)}var xS=re({provide:String,useValue:re});function $_(e){return e!==null&&typeof e=="object"&&xS in e}function NS(e){return!!(e&&e.useExisting)}function RS(e){return!!(e&&e.useFactory)}function Ci(e){return typeof e=="function"}function PS(e){return!!e.useClass}var zl=new b(""),hl={},OS={},Zd;function Jf(){return Zd===void 0&&(Zd=new wl),Zd}var ze=class{},Uo=class extends ze{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pf(n,s=>this.processProvider(s)),this.records.set(A_,di(void 0,this)),i.has("environment")&&this.records.set(ze,di(void 0,this));let o=this.records.get(zl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(x_,_t,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let t=Un(this),r=yt(void 0),i;try{return n()}finally{Un(t),yt(r)}}get(n,t=Vo,r=$.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Vy))return n[Vy](this);r=Wl(r);let i,o=Un(this),s=yt(void 0);try{if(!(r&$.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=jS(n)&&$l(n);c&&this.injectableDefInScope(c)?l=di(hf(n),hl):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&$.Self?Jf():this.parent;return t=r&$.Optional&&t===Vo?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[_l]=a[_l]||[]).unshift(We(n)),o)throw a;return cS(a,n,"R3InjectorError",this.source)}else throw a}finally{yt(s),Un(o)}}resolveInjectorInitializers(){let n=Q(null),t=Un(this),r=yt(void 0),i;try{let o=this.get(_i,_t,$.Self);for(let s of o)s()}finally{Un(t),yt(r),Q(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(We(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(n){n=He(n);let t=Ci(n)?n:He(n&&n.provide),r=FS(n);if(!Ci(n)&&n.multi===!0){let i=this.records.get(t);i||(i=di(void 0,hl,!0),i.factory=()=>uf(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=Q(null);try{return t.value===hl&&(t.value=OS,t.value=t.factory()),typeof t.value=="object"&&t.value&&VS(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Q(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=He(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hf(e){let n=$l(e),t=n!==null?n.factory:vi(e);if(t!==null)return t;if(e instanceof b)throw new x(204,!1);if(e instanceof Function)return kS(e);throw new x(204,!1)}function kS(e){if(e.length>0)throw new x(204,!1);let t=YI(e);return t!==null?()=>t.factory(e):()=>new e}function FS(e){if($_(e))return di(void 0,e.useValue);{let n=H_(e);return di(n,hl)}}function H_(e,n,t){let r;if(Ci(e)){let i=He(e);return vi(i)||hf(i)}else if($_(e))r=()=>He(e.useValue);else if(RS(e))r=()=>e.useFactory(...uf(e.deps||[]));else if(NS(e))r=()=>D(He(e.useExisting));else{let i=He(e&&(e.useClass||e.provide));if(LS(e))r=()=>new i(...uf(e.deps));else return vi(i)||hf(i)}return r}function di(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function LS(e){return!!e.deps}function VS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function jS(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function pf(e,n){for(let t of e)Array.isArray(t)?pf(t,n):t&&D_(t)?pf(t.\u0275providers,n):n(t)}function Dt(e,n){e instanceof Uo&&e.assertNotDestroyed();let t,r=Un(e),i=yt(void 0);try{return n()}finally{Un(r),yt(i)}}function W_(){return b_()!==void 0||sS()!=null}function US(e){if(!W_())throw new x(-203,!1)}function BS(e){return typeof e=="function"}var wn=0,q=1,k=2,Ge=3,Pt=4,kt=5,El=6,Dl=7,Ot=8,wi=9,qt=10,Ie=11,Bo=12,Wy=13,xi=14,Yt=15,Ei=16,fi=17,Di=18,Gl=19,z_=20,Bn=21,Qd=22,Ct=23,zn=25,G_=1;var Er=7,bl=8,Il=9,wt=10,Sl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Sl||{});function $n(e){return Array.isArray(e)&&typeof e[G_]=="object"}function En(e){return Array.isArray(e)&&e[G_]===!0}function q_(e){return(e.flags&4)!==0}function ql(e){return e.componentOffset>-1}function Xf(e){return(e.flags&1)===1}function Gn(e){return!!e.template}function gf(e){return(e[k]&512)!==0}var mf=class{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Y_(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}function Kt(){return Z_}function Z_(e){return e.type.prototype.ngOnChanges&&(e.setInput=HS),$S}Kt.ngInherit=!0;function $S(){let e=K_(this),n=e?.current;if(n){let t=e.previous;if(t===yi)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function HS(e,n,t,r,i){let o=this.declaredInputs[r],s=K_(e)||WS(e,{previous:yi,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new mf(c&&c.currentValue,t,l===yi),Y_(e,n,i,t)}var Q_="__ngSimpleChanges__";function K_(e){return e[Q_]||null}function WS(e,n){return e[Q_]=n}var zy=null;var Wt=function(e,n,t){zy?.(e,n,t)},zS="svg",GS="math";function Zt(e){for(;Array.isArray(e);)e=e[wn];return e}function J_(e,n){return Zt(n[e])}function bt(e,n){return Zt(n[e.index])}function X_(e,n){return e.data[n]}function Yn(e,n){let t=n[e];return $n(t)?t:t[wn]}function eh(e){return(e[k]&128)===128}function qS(e){return En(e[Ge])}function Tl(e,n){return n==null?null:e[n]}function eC(e){e[fi]=0}function tC(e){e[k]&1024||(e[k]|=1024,eh(e)&&Zl(e))}function YS(e,n){for(;e>0;)n=n[xi],e--;return n}function Yl(e){return!!(e[k]&9216||e[Ct]?.dirty)}function vf(e){e[qt].changeDetectionScheduler?.notify(8),e[k]&64&&(e[k]|=1024),Yl(e)&&Zl(e)}function Zl(e){e[qt].changeDetectionScheduler?.notify(0);let n=Dr(e);for(;n!==null&&!(n[k]&8192||(n[k]|=8192,!eh(n)));)n=Dr(n)}function nC(e,n){if((e[k]&256)===256)throw new x(911,!1);e[Bn]===null&&(e[Bn]=[]),e[Bn].push(n)}function ZS(e,n){if(e[Bn]===null)return;let t=e[Bn].indexOf(n);t!==-1&&e[Bn].splice(t,1)}function Dr(e){let n=e[Ge];return En(n)?n[Ge]:n}var Y={lFrame:dC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rC=!1;function QS(){return Y.lFrame.elementDepthCount}function KS(){Y.lFrame.elementDepthCount++}function JS(){Y.lFrame.elementDepthCount--}function iC(){return Y.bindingsEnabled}function XS(){return Y.skipHydrationRootTNode!==null}function eT(e){return Y.skipHydrationRootTNode===e}function tT(){Y.skipHydrationRootTNode=null}function le(){return Y.lFrame.lView}function at(){return Y.lFrame.tView}function th(e){return Y.lFrame.contextLView=e,e[Ot]}function nh(e){return Y.lFrame.contextLView=null,e}function Ze(){let e=oC();for(;e!==null&&e.type===64;)e=e.parent;return e}function oC(){return Y.lFrame.currentTNode}function nT(){let e=Y.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Go(e,n){let t=Y.lFrame;t.currentTNode=e,t.isParent=n}function sC(){return Y.lFrame.isParent}function rT(){Y.lFrame.isParent=!1}function aC(){return rC}function Gy(e){rC=e}function iT(e){return Y.lFrame.bindingIndex=e}function Ql(){return Y.lFrame.bindingIndex++}function oT(e){let n=Y.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function sT(){return Y.lFrame.inI18n}function aT(e,n){let t=Y.lFrame;t.bindingIndex=t.bindingRootIndex=e,yf(n)}function lT(){return Y.lFrame.currentDirectiveIndex}function yf(e){Y.lFrame.currentDirectiveIndex=e}function cT(e){let n=Y.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function lC(e){Y.lFrame.currentQueryIndex=e}function uT(e){let n=e[q];return n.type===2?n.declTNode:n.type===1?e[kt]:null}function cC(e,n,t){if(t&$.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&$.Host);)if(i=uT(o),i===null||(o=o[xi],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=Y.lFrame=uC();return r.currentTNode=n,r.lView=e,!0}function rh(e){let n=uC(),t=e[q];Y.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function uC(){let e=Y.lFrame,n=e===null?null:e.child;return n===null?dC(e):n}function dC(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function fC(){let e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var hC=fC;function ih(){let e=fC();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dT(e){return(Y.lFrame.contextLView=YS(e,Y.lFrame.contextLView))[Ot]}function Ni(){return Y.lFrame.selectedIndex}function br(e){Y.lFrame.selectedIndex=e}function oh(){let e=Y.lFrame;return X_(e.tView,e.selectedIndex)}function fT(){return Y.lFrame.currentNamespace}var pC=!0;function sh(){return pC}function ah(e){pC=e}function hT(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Z_(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function lh(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function pl(e,n,t){gC(e,n,3,t)}function gl(e,n,t,r){(e[k]&3)===t&&gC(e,n,t,r)}function Kd(e,n){let t=e[k];(t&3)===n&&(t&=16383,t+=1,e[k]=t)}function gC(e,n,t,r){let i=r!==void 0?e[fi]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[fi]+=65536),(a<o||o==-1)&&(pT(e,t,n,l),e[fi]=(e[fi]&4294901760)+l+2),l++}function qy(e,n){Wt(4,e,n);let t=Q(null);try{n.call(e)}finally{Q(t),Wt(5,e,n)}}function pT(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[k]>>14<e[fi]>>16&&(e[k]&3)===n&&(e[k]+=16384,qy(a,o)):qy(a,o)}var mi=-1,Ir=class{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function gT(e){return e instanceof Ir}function mT(e){return(e.flags&8)!==0}function vT(e){return(e.flags&16)!==0}var Jd={},_f=class{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Wl(r);let i=this.injector.get(n,Jd,r);return i!==Jd||t===Jd?i:this.parentInjector.get(n,t,r)}};function mC(e){return e!==mi}function Ml(e){return e&32767}function yT(e){return e>>16}function Al(e,n){let t=yT(e),r=n;for(;t>0;)r=r[xi],t--;return r}var Cf=!0;function Yy(e){let n=Cf;return Cf=e,n}var _T=256,vC=_T-1,yC=5,CT=0,zt={};function wT(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fo)&&(r=t[Fo]),r==null&&(r=t[Fo]=CT++);let i=r&vC,o=1<<i;n.data[e+(i>>yC)]|=o}function xl(e,n){let t=_C(e,n);if(t!==-1)return t;let r=n[q];r.firstCreatePass&&(e.injectorIndex=n.length,Xd(r.data,e),Xd(n,null),Xd(r.blueprint,null));let i=ch(e,n),o=e.injectorIndex;if(mC(i)){let s=Ml(i),a=Al(i,n),l=a[q].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function Xd(e,n){e.push(0,0,0,0,0,0,0,0,n)}function _C(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function ch(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=bC(i),r===null)return mi;if(t++,i=i[xi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return mi}function wf(e,n,t){wT(e,n,t)}function ET(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(R_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function CC(e,n,t){if(t&$.Optional||e!==void 0)return e;Yf(n,"NodeInjector")}function wC(e,n,t,r){if(t&$.Optional&&r===void 0&&(r=null),!(t&($.Self|$.Host))){let i=e[wi],o=yt(void 0);try{return i?i.get(n,r,t&$.Optional):I_(n,r,t&$.Optional)}finally{yt(o)}}return CC(r,n,t)}function EC(e,n,t,r=$.Default,i){if(e!==null){if(n[k]&2048&&!(r&$.Self)){let s=TT(e,n,t,r,zt);if(s!==zt)return s}let o=DC(e,n,t,r,zt);if(o!==zt)return o}return wC(n,t,r,i)}function DC(e,n,t,r,i){let o=IT(t);if(typeof o=="function"){if(!cC(n,e,r))return r&$.Host?CC(i,t,r):wC(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))Yf(t);else return s}finally{hC()}}else if(typeof o=="number"){let s=null,a=_C(e,n),l=mi,c=r&$.Host?n[Yt][kt]:null;for((a===-1||r&$.SkipSelf)&&(l=a===-1?ch(e,n):n[a+8],l===mi||!Qy(r,!1)?a=-1:(s=n[q],a=Ml(l),n=Al(l,n)));a!==-1;){let u=n[q];if(Zy(o,a,u.data)){let d=DT(a,n,t,s,r,c);if(d!==zt)return d}l=n[a+8],l!==mi&&Qy(r,n[q].data[a+8]===c)&&Zy(o,a,n)?(s=u,a=Ml(l),n=Al(l,n)):a=-1}}return i}function DT(e,n,t,r,i,o){let s=n[q],a=s.data[e+8],l=r==null?ql(a)&&Cf:r!=s&&(a.type&3)!==0,c=i&$.Host&&o===a,u=bT(a,s,t,l,c);return u!==null?bi(n,s,u,a):zt}function bT(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let g=d;g<f;g++){let v=s[g];if(g<l&&t===v||g>=l&&v.type===t)return g}if(i){let g=s[l];if(g&&Gn(g)&&g.type===t)return l}return null}function bi(e,n,t,r){let i=e[t],o=n.data;if(gT(i)){let s=i;s.resolving&&tS(eS(o[t]));let a=Yy(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?yt(s.injectImpl):null,u=cC(e,r,$.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&hT(t,o[t],n)}finally{c!==null&&yt(c),Yy(a),s.resolving=!1,hC()}}return i}function IT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Fo)?e[Fo]:void 0;return typeof n=="number"?n>=0?n&vC:ST:n}function Zy(e,n,t){let r=1<<e;return!!(t[n+(e>>yC)]&r)}function Qy(e,n){return!(e&$.Self)&&!(e&$.Host&&n)}var wr=class{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return EC(this._tNode,this._lView,n,Wl(r),t)}};function ST(){return new wr(Ze(),le())}function Jt(e){return Wo(()=>{let n=e.prototype.constructor,t=n[yl]||Ef(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[yl]||Ef(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ef(e){return __(e)?()=>{let n=Ef(He(e));return n&&n()}:vi(e)}function TT(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=DC(o,s,t,r|$.Self,zt);if(a!==zt)return a;let l=o.parent;if(!l){let c=s[z_];if(c){let u=c.get(t,zt,r);if(u!==zt)return u}l=bC(s),s=s[xi]}o=l}return i}function bC(e){let n=e[q],t=n.type;return t===2?n.declTNode:t===1?e[kt]:null}function uh(e){return ET(Ze(),e)}function Ky(e,n=null,t=null,r){let i=IC(e,n,t,r);return i.resolveInjectorInitializers(),i}function IC(e,n=null,t=null,r,i=new Set){let o=[t||_t,AS(e)];return r=r||(typeof e=="object"?void 0:We(e)),new Uo(o,n||Jf(),r||null,i)}var Oe=class e{static{this.THROW_IF_NOT_FOUND=Vo}static{this.NULL=new wl}static create(n,t){if(Array.isArray(n))return Ky({name:""},t,n,"");{let r=n.name??"";return Ky({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=I({token:e,providedIn:"any",factory:()=>D(A_)})}static{this.__NG_ELEMENT_ID__=-1}};var MT=new b("");MT.__NG_ELEMENT_ID__=e=>{let n=Ze();if(n===null)throw new x(204,!1);if(n.type&2)return n.value;if(e&$.Optional)return null;throw new x(204,!1)};var AT="ngOriginalError";function ef(e){return e[AT]}var SC=!0,dh=(()=>{class e{static{this.__NG_ELEMENT_ID__=xT}static{this.__NG_ENV_ID__=t=>t}}return e})(),Df=class extends dh{constructor(n){super(),this._lView=n}onDestroy(n){return nC(this._lView,n),()=>ZS(this._lView,n)}};function xT(){return new Df(le())}var Zn=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ne(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}}return e})();var bf=class extends ue{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,W_()&&(this.destroyRef=_(dh,{optional:!0})??void 0,this.pendingTasks=_(Zn,{optional:!0})??void 0)}emit(n){let t=Q(null);try{super.next(n)}finally{Q(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof ge&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},me=bf;function Nl(...e){}function TC(e){let n,t;function r(){e=Nl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Jy(e){return queueMicrotask(()=>e()),()=>{e=Nl}}var fh="isAngularZone",Rl=fh+"_ID",NT=0,Z=class e{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new me(!1),this.onMicrotaskEmpty=new me(!1),this.onStable=new me(!1),this.onError=new me(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=SC}=n;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,OT(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new x(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,RT,Nl,Nl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},RT={};function hh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function PT(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){TC(()=>{e.callbackScheduled=!1,If(e),e.isCheckStableRunning=!0,hh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),If(e)}function OT(e){let n=()=>{PT(e)},t=NT++;e._inner=e._inner.fork({name:"angular",properties:{[fh]:!0,[Rl]:t,[Rl+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(kT(l))return r.invokeTask(o,s,a,l);try{return Xy(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),e_(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Xy(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!FT(l)&&n(),e_(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,If(e),hh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function If(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Xy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function e_(e){e._nesting--,hh(e)}var Sf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new me,this.onMicrotaskEmpty=new me,this.onStable=new me,this.onError=new me}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function kT(e){return MC(e,"__ignore_ng_zone__")}function FT(e){return MC(e,"__scheduler_tick__")}function MC(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var yn=class{constructor(){this._console=console}handleError(n){let t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&ef(n);for(;t&&ef(t);)t=ef(t);return t||null}},LT=new b("",{providedIn:"root",factory:()=>{let e=_(Z),n=_(yn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function VT(){return Kl(Ze(),le())}function Kl(e,n){return new Ft(bt(e,n))}var Ft=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=VT}}return e})();function AC(e){return(e.flags&128)===128}var xC=new Map,jT=0;function UT(){return jT++}function BT(e){xC.set(e[Gl],e)}function Tf(e){xC.delete(e[Gl])}var t_="__ngContext__";function Sr(e,n){$n(n)?(e[t_]=n[Gl],BT(n)):e[t_]=n}function NC(e){return PC(e[Bo])}function RC(e){return PC(e[Pt])}function PC(e){for(;e!==null&&!En(e);)e=e[Pt];return e}var Mf;function OC(e){Mf=e}function $T(){if(Mf!==void 0)return Mf;if(typeof document<"u")return document;throw new x(210,!1)}var ph=new b("",{providedIn:"root",factory:()=>HT}),HT="ng",gh=new b(""),Re=new b("",{providedIn:"platform",factory:()=>"unknown"});var mh=new b("",{providedIn:"root",factory:()=>$T().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var WT="h",zT="b";var GT=()=>null;function vh(e,n,t=!1){return GT(e,n,t)}var kC=!1,qT=new b("",{providedIn:"root",factory:()=>kC});var ll;function YT(){if(ll===void 0&&(ll=null,Lo.trustedTypes))try{ll=Lo.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ll}function ZT(e){return YT()?.createScriptURL(e)||e}var cl;function QT(){if(cl===void 0&&(cl=null,Lo.trustedTypes))try{cl=Lo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cl}function n_(e){return QT()?.createScriptURL(e)||e}var Pl=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${v_})`}};function qo(e){return e instanceof Pl?e.changingThisBreaksApplicationSecurity:e}function yh(e,n){let t=KT(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${v_})`)}return t===n}function KT(e){return e instanceof Pl&&e.getTypeName()||null}var JT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function FC(e){return e=String(e),e.match(JT)?e:"unsafe:"+e}var Jl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Jl||{});function XT(e){let n=jC();return n?n.sanitize(Jl.URL,e)||"":yh(e,"URL")?qo(e):FC(Hl(e))}function eM(e){let n=jC();if(n)return n_(n.sanitize(Jl.RESOURCE_URL,e)||"");if(yh(e,"ResourceURL"))return n_(qo(e));throw new x(904,!1)}function LC(e){return ZT(e[0])}function tM(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?eM:XT}function VC(e,n,t){return tM(n,t)(e)}function jC(){let e=le();return e&&e[qt].sanitizer}function UC(e){return e instanceof Function?e():e}function nM(e){return(e??_(Oe)).get(Re)==="browser"}var _n=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(_n||{}),rM;function _h(e,n){return rM(e,n)}function hi(e,n,t,r,i){if(r!=null){let o,s=!1;En(r)?o=r:$n(r)&&(s=!0,r=r[wn]);let a=Zt(r);e===0&&t!==null?i==null?zC(n,t,a):Ol(n,t,a,i||null,!0):e===1&&t!==null?Ol(n,t,a,i||null,!0):e===2?yM(n,a,s):e===3&&n.destroyNode(a),o!=null&&CM(n,e,o,t,i)}}function iM(e,n){return e.createText(n)}function oM(e,n,t){e.setValue(n,t)}function BC(e,n,t){return e.createElement(n,t)}function sM(e,n){$C(e,n),n[wn]=null,n[kt]=null}function aM(e,n,t,r,i,o){r[wn]=i,r[kt]=n,Xl(e,r,t,1,i,o)}function $C(e,n){n[qt].changeDetectionScheduler?.notify(9),Xl(e,n,n[Ie],2,null,null)}function lM(e){let n=e[Bo];if(!n)return tf(e[q],e);for(;n;){let t=null;if($n(n))t=n[Bo];else{let r=n[wt];r&&(t=r)}if(!t){for(;n&&!n[Pt]&&n!==e;)$n(n)&&tf(n[q],n),n=n[Ge];n===null&&(n=e),$n(n)&&tf(n[q],n),t=n&&n[Pt]}n=t}}function cM(e,n,t,r){let i=wt+r,o=t.length;r>0&&(t[i-1][Pt]=n),r<o-wt?(n[Pt]=t[i],M_(t,wt+r,n)):(t.push(n),n[Pt]=null),n[Ge]=t;let s=n[Ei];s!==null&&t!==s&&HC(s,n);let a=n[Di];a!==null&&a.insertView(e),vf(n),n[k]|=128}function HC(e,n){let t=e[Il],r=n[Ge];if($n(r))e[k]|=Sl.HasTransplantedViews;else{let i=r[Ge][Yt];n[Yt]!==i&&(e[k]|=Sl.HasTransplantedViews)}t===null?e[Il]=[n]:t.push(n)}function Ch(e,n){let t=e[Il],r=t.indexOf(n);t.splice(r,1)}function Af(e,n){if(e.length<=wt)return;let t=wt+n,r=e[t];if(r){let i=r[Ei];i!==null&&i!==e&&Ch(i,r),n>0&&(e[t-1][Pt]=r[Pt]);let o=Cl(e,wt+n);sM(r[q],r);let s=o[Di];s!==null&&s.detachView(o[q]),r[Ge]=null,r[Pt]=null,r[k]&=-129}return r}function WC(e,n){if(!(n[k]&256)){let t=n[Ie];t.destroyNode&&Xl(e,n,t,3,null,null),lM(n)}}function tf(e,n){if(n[k]&256)return;let t=Q(null);try{n[k]&=-129,n[k]|=256,n[Ct]&&Id(n[Ct]),dM(e,n),uM(e,n),n[q].type===1&&n[Ie].destroy();let r=n[Ei];if(r!==null&&En(n[Ge])){r!==n[Ge]&&Ch(r,n);let i=n[Di];i!==null&&i.detachView(e)}Tf(n)}finally{Q(t)}}function uM(e,n){let t=e.cleanup,r=n[Dl];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(n[Dl]=null);let i=n[Bn];if(i!==null){n[Bn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function dM(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof Ir)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Wt(4,a,l);try{l.call(a)}finally{Wt(5,a,l)}}else{Wt(4,i,o);try{o.call(i)}finally{Wt(5,i,o)}}}}}function fM(e,n,t){return hM(e,n.parent,t)}function hM(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Gt.None||o===Gt.Emulated)return null}return bt(r,t)}}function Ol(e,n,t,r,i){e.insertBefore(n,t,r,i)}function zC(e,n,t){e.appendChild(n,t)}function r_(e,n,t,r,i){r!==null?Ol(e,n,t,r,i):zC(e,n,t)}function GC(e,n){return e.parentNode(n)}function pM(e,n){return e.nextSibling(n)}function gM(e,n,t){return vM(e,n,t)}function mM(e,n,t){return e.type&40?bt(e,t):null}var vM=mM,i_;function wh(e,n,t,r){let i=fM(e,r,n),o=n[Ie],s=r.parent||n[kt],a=gM(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)r_(o,i,t[l],a,!1);else r_(o,i,t,a,!1);i_!==void 0&&i_(o,r,n,t,i)}function ko(e,n){if(n!==null){let t=n.type;if(t&3)return bt(n,e);if(t&4)return xf(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return ko(e,r);{let i=e[n.index];return En(i)?xf(-1,i):Zt(i)}}else{if(t&128)return ko(e,n.next);if(t&32)return _h(n,e)()||Zt(e[n.index]);{let r=qC(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Dr(e[Yt]);return ko(i,r)}else return ko(e,n.next)}}}return null}function qC(e,n){if(n!==null){let r=e[Yt][kt],i=n.projection;return r.projection[i]}return null}function xf(e,n){let t=wt+e+1;if(t<n.length){let r=n[t],i=r[q].firstChild;if(i!==null)return ko(r,i)}return n[Er]}function yM(e,n,t){e.removeChild(null,n,t)}function Eh(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&Sr(Zt(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)Eh(e,n,t.child,r,i,o,!1),hi(n,e,i,a,o);else if(l&32){let c=_h(t,r),u;for(;u=c();)hi(n,e,i,u,o);hi(n,e,i,a,o)}else l&16?_M(e,n,r,t,i,o):hi(n,e,i,a,o);t=s?t.projectionNext:t.next}}function Xl(e,n,t,r,i,o){Eh(t,r,e.firstChild,n,i,o,!1)}function _M(e,n,t,r,i,o){let s=t[Yt],l=s[kt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];hi(n,e,i,u,o)}else{let c=l,u=s[Ge];AC(r)&&(c.flags|=128),Eh(e,n,c,u,i,o,!0)}}function CM(e,n,t,r,i){let o=t[Er],s=Zt(t);o!==s&&hi(n,e,r,o,i);for(let a=wt;a<t.length;a++){let l=t[a];Xl(l[q],l,e,n,r,o)}}function wM(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:_n.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_n.Important),e.setStyle(t,r,i,o))}}function EM(e,n,t){e.setAttribute(n,"style",t)}function YC(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function ZC(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&df(e,n,r),i!==null&&YC(e,n,i),o!==null&&EM(e,n,o)}var Ri={};function de(e=1){QC(at(),le(),Ni()+e,!1)}function QC(e,n,t,r){if(!r)if((n[k]&3)===3){let o=e.preOrderCheckHooks;o!==null&&pl(n,o,t)}else{let o=e.preOrderHooks;o!==null&&gl(n,o,0,t)}br(t)}function P(e,n=$.Default){let t=le();if(t===null)return D(e,n);let r=Ze();return EC(r,t,He(e),n)}function KC(){let e="invalid";throw new Error(e)}function JC(e,n,t,r,i,o){let s=Q(null);try{let a=null;i&Hn.SignalBased&&(a=n[r][hn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Hn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(n,o)),e.setInput!==null?e.setInput(n,a,o,t,r):Y_(n,a,r,o)}finally{Q(s)}}function DM(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)br(~i);else{let o=i,s=t[++r],a=t[++r];aT(s,o);let l=n[o];a(2,l)}}}finally{br(-1)}}function ec(e,n,t,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[wn]=i,d[k]=r|4|128|8|64,(c!==null||e&&e[k]&2048)&&(d[k]|=2048),eC(d),d[Ge]=d[xi]=e,d[Ot]=t,d[qt]=s||e&&e[qt],d[Ie]=a||e&&e[Ie],d[wi]=l||e&&e[wi]||null,d[kt]=o,d[Gl]=UT(),d[El]=u,d[z_]=c,d[Yt]=n.type==2?e[Yt]:d,d}function tc(e,n,t,r,i){let o=e.data[n];if(o===null)o=bM(e,n,t,r,i),sT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=nT();o.injectorIndex=s===null?-1:s.injectorIndex}return Go(o,!0),o}function bM(e,n,t,r,i){let o=oC(),s=sC(),a=s?o:o&&o.parent,l=e.data[n]=AM(e,a,t,n,r,i);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function XC(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function ew(e,n,t,r,i){let o=Ni(),s=r&2;try{br(-1),s&&n.length>zn&&QC(e,n,zn,!1),Wt(s?2:0,i),t(r,i)}finally{br(o),Wt(s?3:1,i)}}function tw(e,n,t){if(q_(n)){let r=Q(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Q(r)}}}function nw(e,n,t){iC()&&(kM(e,n,t,bt(t,n)),(t.flags&64)===64&&lw(e,n,t))}function rw(e,n,t=bt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function iw(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Dh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Dh(e,n,t,r,i,o,s,a,l,c,u){let d=zn+r,f=d+i,g=IM(d,f),v=typeof c=="function"?c():c;return g[q]={type:e,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function IM(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Ri);return t}function SM(e,n,t,r){let o=r.get(qT,kC)||t===Gt.ShadowDom,s=e.selectRootElement(n,o);return TM(s),s}function TM(e){MM(e)}var MM=()=>null;function AM(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return XS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function o_(e,n,t,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,l=Hn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}e===0?s_(r,t,c,a,l):s_(r,t,c,a)}return r}function s_(e,n,t,r,i){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,r):o=e[t]=[n,r],i!==void 0&&o.push(i)}function xM(e,n,t){let r=n.directiveStart,i=n.directiveEnd,o=e.data,s=n.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=t?t.get(d):null,g=f?f.inputs:null,v=f?f.outputs:null;l=o_(0,d.inputs,u,l,g),c=o_(1,d.outputs,u,c,v);let y=l!==null&&s!==null&&!Qf(n)?GM(l,u,s):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function NM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ow(e,n,t,r,i,o,s,a){let l=bt(n,t),c=n.inputs,u;!a&&c!=null&&(u=c[r])?(bh(e,t,u,r,i),ql(n)&&RM(t,n.index)):n.type&3?(r=NM(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)):n.type&12}function RM(e,n){let t=Yn(n,e);t[k]&16||(t[k]|=64)}function sw(e,n,t,r){if(iC()){let i=r===null?null:{"":-1},o=LM(e,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&aw(e,n,t,s,i,a),i&&VM(t,r,i)}t.mergedAttrs=jo(t.mergedAttrs,t.attrs)}function aw(e,n,t,r,i,o){for(let c=0;c<r.length;c++)wf(xl(t,n),e,r[c].type);UM(t,e.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=XC(e,n,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];t.mergedAttrs=jo(t.mergedAttrs,u.hostAttrs),BM(e,t,n,l,u),jM(l,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}xM(e,t,o)}function PM(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;OM(s)!=a&&s.push(a),s.push(t,r,o)}}function OM(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function kM(e,n,t,r){let i=t.directiveStart,o=t.directiveEnd;ql(t)&&$M(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||xl(t,n),Sr(r,n);let s=t.initialInputs;for(let a=i;a<o;a++){let l=e.data[a],c=bi(n,e,a,t);if(Sr(c,n),s!==null&&zM(n,a-i,c,l,t,s),Gn(l)){let u=Yn(t.index,n);u[Ot]=bi(n,e,a,t)}}}function lw(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=lT();try{br(o);for(let a=r;a<i;a++){let l=e.data[a],c=n[a];yf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&FM(l,c)}}finally{br(-1),yf(s)}}function FM(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function LM(e,n){let t=e.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(CS(n,s.selectors,!1))if(r||(r=[]),Gn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Nf(e,n,l)}else r.unshift(s),Nf(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Nf(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function VM(e,n,t){if(n){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new x(-301,!1);r.push(n[i],o)}}}function jM(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Gn(n)&&(t[""]=e)}}function UM(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function BM(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=vi(i.type,!0)),s=new Ir(o,Gn(i),P);e.blueprint[r]=s,t[r]=s,PM(e,n,r,XC(e,t,i.hostVars,Ri),i)}function $M(e,n,t){let r=bt(n,e),i=iw(t),o=e[qt].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=nc(e,ec(e,i,null,s,r,n,null,o.createRenderer(r,t),null,null,null));e[n.index]=a}function HM(e,n,t,r,i,o){let s=bt(e,n);WM(n[Ie],s,o,e.value,t,r,i)}function WM(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Hl(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function zM(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];JC(r,t,l,c,u,d)}}function GM(e,n,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function cw(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function uw(e,n){let t=e.contentQueries;if(t!==null){let r=Q(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];lC(o),a.contentQueries(2,n[s],s)}}}finally{Q(r)}}}function nc(e,n){return e[Bo]?e[Wy][Pt]=n:e[Bo]=n,e[Wy]=n,n}function Rf(e,n,t){lC(0);let r=Q(null);try{n(e,t)}finally{Q(r)}}function qM(e){return e[Dl]??=[]}function YM(e){return e.cleanup??=[]}function dw(e,n){let t=e[wi],r=t?t.get(yn,null):null;r&&r.handleError(n)}function bh(e,n,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],c=n[s],u=e.data[s];JC(u,c,r,a,l,i)}}function ZM(e,n,t){let r=J_(n,e);oM(e[Ie],r,t)}function QM(e,n){let t=Yn(n,e),r=t[q];KM(r,t);let i=t[wn];i!==null&&t[El]===null&&(t[El]=vh(i,t[wi])),Ih(r,t,t[Ot])}function KM(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Ih(e,n,t){rh(n);try{let r=e.viewQuery;r!==null&&Rf(1,r,t);let i=e.template;i!==null&&ew(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Di]?.finishViewCreation(e),e.staticContentQueries&&uw(e,n),e.staticViewQueries&&Rf(2,e.viewQuery,t);let o=e.components;o!==null&&JM(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[k]&=-5,ih()}}function JM(e,n){for(let t=0;t<n.length;t++)QM(e,n[t])}function XM(e,n,t,r){let i=Q(null);try{let o=n.tView,a=e[k]&4096?4096:16,l=ec(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[Ei]=c;let u=e[Di];return u!==null&&(l[Di]=u.createEmbeddedView(o)),Ih(o,l,t),l}finally{Q(i)}}function a_(e,n){return!n||n.firstChild===null||AC(e)}function eA(e,n,t,r=!0){let i=n[q];if(cM(i,n,e,t),r){let s=xf(t,e),a=n[Ie],l=GC(a,e[Er]);l!==null&&aM(i,e[kt],a,n,l,s)}let o=n[El];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function kl(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Zt(o)),En(o)&&tA(o,r);let s=t.type;if(s&8)kl(e,n,t.child,r);else if(s&32){let a=_h(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=qC(n,t);if(Array.isArray(a))r.push(...a);else{let l=Dr(n[Yt]);kl(l[q],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function tA(e,n){for(let t=wt;t<e.length;t++){let r=e[t],i=r[q].firstChild;i!==null&&kl(r[q],r,i,n)}e[Er]!==e[wn]&&n.push(e[Er])}var fw=[];function nA(e){return e[Ct]??rA(e)}function rA(e){let n=fw.pop()??Object.create(oA);return n.lView=e,n}function iA(e){e.lView[Ct]!==e&&(e.lView=null,fw.push(e))}var oA=G(C({},Ao),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Zl(e.lView)},consumerOnSignalRead(){this.lView[Ct]=this}});function sA(e){let n=e[Ct]??Object.create(aA);return n.lView=e,n}var aA=G(C({},Ao),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Dr(e.lView);for(;n&&!hw(n[q]);)n=Dr(n);n&&tC(n)},consumerOnSignalRead(){this.lView[Ct]=this}});function hw(e){return e.type!==2}var lA=100;function pw(e,n=!0,t=0){let r=e[qt],i=r.rendererFactory,o=!1;o||i.begin?.();try{cA(e,t)}catch(s){throw n&&dw(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function cA(e,n){let t=aC();try{Gy(!0),Pf(e,n);let r=0;for(;Yl(e);){if(r===lA)throw new x(103,!1);r++,Pf(e,1)}}finally{Gy(t)}}function uA(e,n,t,r){let i=n[k];if((i&256)===256)return;let o=!1,s=!1;!o&&n[qt].inlineEffectRunner?.flush(),rh(n);let a=!0,l=null,c=null;o||(hw(e)?(c=nA(n),l=Ra(c)):ey()===null?(a=!1,c=sA(n),l=Ra(c)):n[Ct]&&(Id(n[Ct]),n[Ct]=null));try{eC(n),iT(e.bindingStartIndex),t!==null&&ew(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=e.preOrderCheckHooks;g!==null&&pl(n,g,null)}else{let g=e.preOrderHooks;g!==null&&gl(n,g,0,null),Kd(n,0)}if(s||dA(n),gw(n,0),e.contentQueries!==null&&uw(e,n),!o)if(u){let g=e.contentCheckHooks;g!==null&&pl(n,g)}else{let g=e.contentHooks;g!==null&&gl(n,g,1),Kd(n,1)}DM(e,n);let d=e.components;d!==null&&vw(n,d,0);let f=e.viewQuery;if(f!==null&&Rf(2,f,r),!o)if(u){let g=e.viewCheckHooks;g!==null&&pl(n,g)}else{let g=e.viewHooks;g!==null&&gl(n,g,2),Kd(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Qd]){for(let g of n[Qd])g();n[Qd]=null}o||(n[k]&=-73)}catch(u){throw o||Zl(n),u}finally{c!==null&&(Dd(c,l),a&&iA(c)),ih()}}function gw(e,n){for(let t=NC(e);t!==null;t=RC(t))for(let r=wt;r<t.length;r++){let i=t[r];mw(i,n)}}function dA(e){for(let n=NC(e);n!==null;n=RC(n)){if(!(n[k]&Sl.HasTransplantedViews))continue;let t=n[Il];for(let r=0;r<t.length;r++){let i=t[r];tC(i)}}}function fA(e,n,t){let r=Yn(n,e);mw(r,t)}function mw(e,n){eh(e)&&Pf(e,n)}function Pf(e,n){let r=e[q],i=e[k],o=e[Ct],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&bd(o)),s||=!1,o&&(o.dirty=!1),e[k]&=-9217,s)uA(r,e,r.template,e[Ot]);else if(i&8192){gw(e,1);let a=r.components;a!==null&&vw(e,a,1)}}function vw(e,n,t){for(let r=0;r<n.length;r++)fA(e,n[r],t)}function Sh(e,n){let t=aC()?64:1088;for(e[qt].changeDetectionScheduler?.notify(n);e;){e[k]|=t;let r=Dr(e);if(gf(e)&&!r)return e;e=r}return null}var Tr=class{get rootNodes(){let n=this._lView,t=n[q];return kl(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ot]}set context(n){this._lView[Ot]=n}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ge];if(En(n)){let t=n[bl],r=t?t.indexOf(this):-1;r>-1&&(Af(n,r),Cl(t,r))}this._attachedToViewContainer=!1}WC(this._lView[q],this._lView)}onDestroy(n){nC(this._lView,n)}markForCheck(){Sh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){vf(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,pw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=gf(this._lView),t=this._lView[Ei];t!==null&&!n&&Ch(t,this._lView),$C(this._lView[q],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=n;let t=gf(this._lView),r=this._lView[Ei];r!==null&&!t&&HC(r,this._lView),vf(this._lView)}},Th=(()=>{class e{static{this.__NG_ELEMENT_ID__=gA}}return e})(),hA=Th,pA=class extends hA{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=XM(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new Tr(i)}};function gA(){return mA(Ze(),le())}function mA(e,n){return e.type&4?new pA(n,e,Kl(e,n)):null}var I3=new RegExp(`^(\\d+)*(${zT}|${WT})*(.*)`);var vA=()=>null;function l_(e,n){return vA(e,n)}var Ii=class{},rc=new b("",{providedIn:"root",factory:()=>!1});var yw=new b(""),_w=new b(""),Of=class{},Fl=class{};function yA(e){let n=Error(`No component factory found for ${We(e)}.`);return n[_A]=e,n}var _A="ngComponent";var kf=class{resolveComponentFactory(n){throw yA(n)}},Si=class{static{this.NULL=new kf}},Ti=class{},Xt=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>CA()}}return e})();function CA(){let e=le(),n=Ze(),t=Yn(n.index,e);return($n(t)?t:e)[Ie]}var wA=(()=>{class e{static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>null})}}return e})();function Ff(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Oy(i,a);else if(o==2){let l=a,c=n[++s];r=Oy(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}var Ll=class extends Si{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Wn(n);return new Mi(t,this.ngModule)}};function c_(e,n){let t=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Hn.None;n?t.push({propName:s,templateName:r,isSignal:(a&Hn.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function EA(e){let n=e.toLowerCase();return n==="svg"?zS:n==="math"?GS:null}var Mi=class extends Fl{get inputs(){let n=this.componentDef,t=n.inputTransforms,r=c_(n.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return c_(this.componentDef.outputs,!1)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=bS(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=Q(null);try{i=i||this.ngModule;let s=i instanceof ze?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new _f(n,s):n,l=a.get(Ti,null);if(l===null)throw new x(407,!1);let c=a.get(wA,null),u=a.get(Ii,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},f=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=r?SM(f,r,this.componentDef.encapsulation,a):BC(f,g,EA(g)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let E=null;v!==null&&(E=vh(v,a,!0));let M=Dh(0,null,null,1,0,null,null,null,null,null,null),B=ec(null,M,null,y,null,null,d,f,a,null,E);rh(B);let T,te,pe=null;try{let Ee=this.componentDef,dn,gd=null;Ee.findHostDirectiveDefs?(dn=[],gd=new Map,Ee.findHostDirectiveDefs(Ee,dn,gd),dn.push(Ee)):dn=[Ee];let mI=DA(B,v);pe=bA(mI,v,Ee,dn,B,d,f),te=X_(M,zn),v&&TA(f,Ee,v,r),t!==void 0&&MA(te,this.ngContentSelectors,t),T=SA(pe,Ee,dn,gd,B,[AA]),Ih(M,B,null)}catch(Ee){throw pe!==null&&Tf(pe),Tf(B),Ee}finally{ih()}return new Lf(this.componentType,T,Kl(te,B),B,te)}finally{Q(o)}}},Lf=class extends Of{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Tr(i,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView;bh(o[q],o,i,n,t),this.previousInputValues.set(n,t);let s=Yn(this._tNode.index,o);Sh(s,1)}}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function DA(e,n){let t=e[q],r=zn;return e[r]=n,tc(t,r,2,"#host",null)}function bA(e,n,t,r,i,o,s){let a=i[q];IA(r,e,n,s);let l=null;n!==null&&(l=vh(n,i[wi]));let c=o.rendererFactory.createRenderer(n,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=ec(i,iw(t),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&Nf(a,e,r.length-1),nc(i,d),i[e.index]=d}function IA(e,n,t,r){for(let i of e)n.mergedAttrs=jo(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(Ff(n,n.mergedAttrs,!0),t!==null&&ZC(r,t,n))}function SA(e,n,t,r,i,o){let s=Ze(),a=i[q],l=bt(s,i);aw(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,f=bi(i,a,d,s);Sr(f,i)}lw(a,i,s),l&&Sr(l,i);let c=bi(i,a,s.directiveStart+s.componentOffset,s);if(e[Ot]=i[Ot]=c,o!==null)for(let u of o)u(c,n);return tw(a,s,i),c}function TA(e,n,t,r){if(r)df(e,t,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=IS(n.selectors[0]);i&&df(e,t,i),o&&o.length>0&&YC(e,t,o.join(" "))}}function MA(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function AA(){let e=Ze();lh(le()[q],e)}var Yo=(()=>{class e{static{this.__NG_ELEMENT_ID__=xA}}return e})();function xA(){let e=Ze();return RA(e,le())}var NA=Yo,Cw=class extends NA{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Kl(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){let n=ch(this._hostTNode,this._hostLView);if(mC(n)){let t=Al(n,this._hostLView),r=Ml(n),i=t[q].data[r+8];return new wr(i,t)}else return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=u_(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=l_(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,a_(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!BS(n),a;if(s)a=t;else{let v=t||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let l=s?n:new Mi(Wn(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let y=(s?c:this.parentInjector).get(ze,null);y&&(o=y)}let u=Wn(l.componentType??{}),d=l_(this._lContainer,u?.id??null),f=d?.firstChild??null,g=l.create(c,i,f,o);return this.insertImpl(g.hostView,a,a_(this._hostTNode,d)),g}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(qS(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[Ge],c=new Cw(l,l[kt],l[Ge]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return eA(s,i,o,r),n.attachToViewContainerRef(),M_(nf(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=u_(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Af(this._lContainer,t);r&&(Cl(nf(this._lContainer),t),WC(r[q],r))}detach(n){let t=this._adjustIndex(n,-1),r=Af(this._lContainer,t);return r&&Cl(nf(this._lContainer),t)!=null?new Tr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function u_(e){return e[bl]}function nf(e){return e[bl]||(e[bl]=[])}function RA(e,n){let t,r=n[e.index];return En(r)?t=r:(t=cw(r,n,null,e),n[e.index]=t,nc(n,t)),OA(t,n,e,r),new Cw(t,e,n)}function PA(e,n){let t=e[Ie],r=t.createComment(""),i=bt(n,e),o=GC(t,i);return Ol(t,o,r,pM(t,i),!1),r}var OA=LA,kA=()=>!1;function FA(e,n,t){return kA(e,n,t)}function LA(e,n,t,r){if(e[Er])return;let i;t.type&8?i=Zt(r):i=PA(n,t),e[Er]=i}var d_=new Set;function Ar(e){d_.has(e)||(d_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function VA(e){return typeof e=="function"&&e[hn]!==void 0}function Pi(e,n){Ar("NgSignals");let t=dy(e),r=t[hn];return n?.equal&&(r.equal=n.equal),t.set=i=>Sd(r,i),t.update=i=>fy(r,i),t.asReadonly=jA.bind(t),t}function jA(){let e=this[hn];if(e.readonlyFn===void 0){let n=()=>this();n[hn]=e,e.readonlyFn=n}return e.readonlyFn}function ww(e){return VA(e)&&typeof e.set=="function"}function UA(e){return Object.getPrototypeOf(e.prototype).constructor}function ke(e){let n=UA(e.type),t=!0,r=[e];for(;n;){let i;if(Gn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new x(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=ul(e.inputs),s.inputTransforms=ul(e.inputTransforms),s.declaredInputs=ul(e.declaredInputs),s.outputs=ul(e.outputs);let a=i.hostBindings;a&&zA(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&HA(e,l),c&&WA(e,c),BA(e,i),GI(e.outputs,i.outputs),Gn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===ke&&(t=!1)}}n=Object.getPrototypeOf(n)}$A(r)}function BA(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];if(r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=n.inputTransforms[i]}}}function $A(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=jo(i.hostAttrs,t=jo(t,i.hostAttrs))}}function ul(e){return e===yi?{}:e===_t?[]:e}function HA(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function WA(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function zA(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function Mh(e){let n=e.inputConfig,t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}e.inputTransforms=t}var qn=class{},$o=class{};var Vf=class extends qn{constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ll(this);let o=L_(n);this._bootstrapComponents=UC(o.bootstrap),this._r3Injector=IC(n,t,[{provide:qn,useValue:this},{provide:Si,useValue:this.componentFactoryResolver},...r],We(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},jf=class extends $o{constructor(n){super(),this.moduleType=n}create(n){return new Vf(this.moduleType,n,[])}};var Vl=class extends qn{constructor(n){super(),this.componentFactoryResolver=new Ll(this),this.instance=null;let t=new Uo([...n.providers,{provide:qn,useValue:this},{provide:Si,useValue:this.componentFactoryResolver}],n.parent||Jf(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function ic(e,n,t=null){return new Vl({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}function Zo(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function GA(e){return(e.flags&32)===32}function qA(e,n,t,r,i,o,s,a,l){let c=n.consts,u=tc(n,e,4,s||null,a||null);sw(n,t,u,Tl(c,l)),lh(n,u);let d=u.tView=Dh(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function YA(e,n,t,r,i,o,s,a,l,c){let u=t+zn,d=n.firstCreatePass?qA(u,n,e,r,i,o,s,a,l):n.data[u];Go(d,!1);let f=ZA(n,e,d,t);sh()&&wh(n,e,f,d),Sr(f,e);let g=cw(f,e,f,d);return e[u]=g,nc(e,g),FA(g,d,e),Xf(d)&&nw(n,e,d),l!=null&&rw(e,d,c),d}function xr(e,n,t,r,i,o,s,a){let l=le(),c=at(),u=Tl(c.consts,o);return YA(l,c,e,n,t,r,i,u,s,a),xr}var ZA=QA;function QA(e,n,t,r){return ah(!0),n[Ie].createComment("")}var pi=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(pi||{}),Ew=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Uf=class e{constructor(){this.ngZone=_(Z),this.scheduler=_(Ii),this.errorHandler=_(yn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[pi.EarlyRead,pi.Write,pi.MixedReadWrite,pi.Read]}execute(){this.executing=!0;for(let n of e.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[n]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[n](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}},Bf=class{constructor(n,t,r,i){this.impl=n,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Ah(e,n){!n?.injector&&US(Ah);let t=n?.injector??_(Oe);return nM(t)?(Ar("NgAfterNextRender"),JA(e,t,n,!0)):XA}function KA(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function JA(e,n,t,r){let i=n.get(Ew);i.impl??=n.get(Uf);let o=t?.phase??pi.MixedReadWrite,s=t?.manualCleanup!==!0?n.get(dh):null,a=new Bf(i.impl,KA(e,o),r,s);return i.impl.register(a),a}var XA={destroy(){}};function Oi(e,n,t,r){let i=le(),o=Ql();if(Zo(i,o,n)){let s=at(),a=oh();HM(a,i,e,n,t,r)}return Oi}function ex(e,n,t,r){return Zo(e,Ql(),t)?n+Hl(t)+r:Ri}function dl(e,n){return e<<17|n<<2}function Mr(e){return e>>17&32767}function tx(e){return(e&2)==2}function nx(e,n){return e&131071|n<<17}function $f(e){return e|2}function Ai(e){return(e&131068)>>2}function rf(e,n){return e&-131069|n<<2}function rx(e){return(e&1)===1}function Hf(e){return e|1}function ix(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Mr(s),l=Ai(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||zo(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let f=Mr(e[a+1]);e[r+1]=dl(f,a),f!==0&&(e[f+1]=rf(e[f+1],r)),e[a+1]=nx(e[a+1],r)}else e[r+1]=dl(a,0),a!==0&&(e[a+1]=rf(e[a+1],r)),a=r;else e[r+1]=dl(l,0),a===0?a=r:e[l+1]=rf(e[l+1],r),l=r;c&&(e[r+1]=$f(e[r+1])),f_(e,u,r,!0),f_(e,u,r,!1),ox(n,u,e,r,o),s=dl(a,l),o?n.classBindings=s:n.styleBindings=s}function ox(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&zo(o,n)>=0&&(t[r+1]=Hf(t[r+1]))}function f_(e,n,t,r){let i=e[t+1],o=n===null,s=r?Mr(i):Ai(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];sx(l,n)&&(a=!0,e[s+1]=r?Hf(c):$f(c)),s=r?Mr(c):Ai(c)}a&&(e[t+1]=r?$f(i):Hf(i))}function sx(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?zo(e,n)>=0:!1}function Lt(e,n,t){let r=le(),i=Ql();if(Zo(r,i,n)){let o=at(),s=oh();ow(o,s,r,e,n,r[Ie],t,!1)}return Lt}function h_(e,n,t,r,i){let o=n.inputs,s=i?"class":"style";bh(e,t,o[s],s,r)}function oc(e,n){return ax(e,n,null,!0),oc}function ax(e,n,t,r){let i=le(),o=at(),s=oT(2);if(o.firstUpdatePass&&cx(o,e,s,r),n!==Ri&&Zo(i,s,n)){let a=o.data[Ni()];px(o,a,i,i[Ie],e,i[s+1]=gx(n,t),r,s)}}function lx(e,n){return n>=e.expandoStartIndex}function cx(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[Ni()],s=lx(e,t);mx(o,r)&&n===null&&!s&&(n=!1),n=ux(i,o,n,r),ix(i,o,n,t,s,r)}}function ux(e,n,t,r){let i=cT(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=of(null,e,n,t,r),t=Ho(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=of(i,e,n,t,r),o===null){let l=dx(e,n,r);l!==void 0&&Array.isArray(l)&&(l=of(null,e,n,l[1],r),l=Ho(l,n.attrs,r),fx(e,n,r,l))}else o=hx(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function dx(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Ai(r)!==0)return e[Mr(r)]}function fx(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Mr(i)]=r}function hx(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ho(r,s,t)}return Ho(r,n.attrs,t)}function of(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Ho(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Ho(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),fS(e,s,t?!0:n[++o]))}return e===void 0?null:e}function px(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=rx(c)?p_(l,n,t,i,Ai(c),s):void 0;if(!jl(u)){jl(o)||tx(c)&&(o=p_(l,null,t,i,a,s));let d=J_(Ni(),t);wM(r,s,d,i,o)}}function p_(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=t[i+1];f===Ri&&(f=d?_t:void 0);let g=d?Yd(f,r):u===r?f:void 0;if(c&&!jl(g)&&(g=Yd(l,r)),jl(g)&&(a=g,s))return a;let v=e[i+1];i=s?Mr(v):Ai(v)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=Yd(l,r))}return a}function jl(e){return e!==void 0}function gx(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=We(qo(e)))),e}function mx(e,n){return(e.flags&(n?8:16))!==0}function vx(e,n,t,r,i,o){let s=n.consts,a=Tl(s,i),l=tc(n,e,2,r,a);return sw(n,t,l,Tl(s,o)),l.attrs!==null&&Ff(l,l.attrs,!1),l.mergedAttrs!==null&&Ff(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function h(e,n,t,r){let i=le(),o=at(),s=zn+e,a=i[Ie],l=o.firstCreatePass?vx(s,o,i,n,t,r):o.data[s],c=yx(o,i,l,a,n,e);i[s]=c;let u=Xf(l);return Go(l,!0),ZC(a,c,l),!GA(l)&&sh()&&wh(o,i,c,l),QS()===0&&Sr(c,i),KS(),u&&(nw(o,i,l),tw(o,l,i)),r!==null&&rw(i,l),h}function p(){let e=Ze();sC()?rT():(e=e.parent,Go(e,!1));let n=e;eT(n)&&tT(),JS();let t=at();return t.firstCreatePass&&(lh(t,e),q_(e)&&t.queries.elementEnd(e)),n.classesWithoutHost!=null&&mT(n)&&h_(t,n,le(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&vT(n)&&h_(t,n,le(),n.stylesWithoutHost,!1),p}function S(e,n,t,r){return h(e,n,t,r),p(),S}var yx=(e,n,t,r,i,o)=>(ah(!0),BC(r,i,fT()));function Dw(){return le()}var Ul="en-US";var _x=Ul;function Cx(e){typeof e=="string"&&(_x=e.toLowerCase().replace(/_/g,"-"))}var wx=(e,n,t)=>{};function we(e,n,t,r){let i=le(),o=at(),s=Ze();return bw(o,i,i[Ie],s,e,n,r),we}function Ex(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[Dl],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function bw(e,n,t,r,i,o,s){let a=Xf(r),c=e.firstCreatePass&&YM(e),u=n[Ot],d=qM(n),f=!0;if(r.type&3||s){let y=bt(r,n),E=s?s(y):y,M=d.length,B=s?te=>s(Zt(te[r.index])):r.index,T=null;if(!s&&a&&(T=Ex(e,n,i,r.index)),T!==null){let te=T.__ngLastListenerFn__||T;te.__ngNextListenerFn__=o,T.__ngLastListenerFn__=o,f=!1}else{o=m_(r,n,u,o),wx(y,i,o);let te=t.listen(E,i,o);d.push(o,te),c&&c.push(i,B,M,M+1)}}else o=m_(r,n,u,o);let g=r.outputs,v;if(f&&g!==null&&(v=g[i])){let y=v.length;if(y)for(let E=0;E<y;E+=2){let M=v[E],B=v[E+1],pe=n[M][B].subscribe(o),Ee=d.length;d.push(o,pe),c&&c.push(i,r.index,Ee,-(Ee+1))}}}function g_(e,n,t,r){let i=Q(null);try{return Wt(6,n,t),t(r)!==!1}catch(o){return dw(e,o),!1}finally{Wt(7,n,t),Q(i)}}function m_(e,n,t,r){return function i(o){if(o===Function)return r;let s=e.componentOffset>-1?Yn(e.index,n):n;Sh(s,5);let a=g_(n,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=g_(n,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Qo(e=1){return dT(e)}function m(e,n=""){let t=le(),r=at(),i=e+zn,o=r.firstCreatePass?tc(r,i,1,n,null):r.data[i],s=Dx(r,t,o,n,e);t[i]=s,sh()&&wh(r,t,s,o),Go(o,!1)}var Dx=(e,n,t,r,i)=>(ah(!0),iM(n[Ie],r));function sc(e,n,t){let r=le(),i=ex(r,e,n,t);return i!==Ri&&ZM(r,Ni(),i),sc}function Fe(e,n,t){ww(n)&&(n=n());let r=le(),i=Ql();if(Zo(r,i,n)){let o=at(),s=oh();ow(o,s,r,e,n,r[Ie],t,!1)}return Fe}function Qe(e,n){let t=ww(e);return t&&e.set(n),t}function Le(e,n){let t=le(),r=at(),i=Ze();return bw(r,t,t[Ie],i,e,n),Le}function bx(e,n,t){let r=at();if(r.firstCreatePass){let i=Gn(e);Wf(t,r.data,r.blueprint,i,!0),Wf(n,r.data,r.blueprint,i,!1)}}function Wf(e,n,t,r,i){if(e=He(e),Array.isArray(e))for(let o=0;o<e.length;o++)Wf(e[o],n,t,r,i);else{let o=at(),s=le(),a=Ze(),l=Ci(e)?e:He(e.provide),c=H_(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ci(e)||!e.multi){let g=new Ir(c,i,P),v=af(l,n,i?u:u+f,d);v===-1?(wf(xl(a,s),o,l),sf(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[v]=g,s[v]=g)}else{let g=af(l,n,u+f,d),v=af(l,n,u,u+f),y=g>=0&&t[g],E=v>=0&&t[v];if(i&&!E||!i&&!y){wf(xl(a,s),o,l);let M=Tx(i?Sx:Ix,t.length,i,r,c);!i&&E&&(t[v].providerFactory=M),sf(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=Iw(t[i?v:g],c,!i&&r);sf(o,e,g>-1?g:v,M)}!i&&r&&E&&t[v].componentProviders++}}}function sf(e,n,t,r){let i=Ci(n),o=PS(n);if(i||o){let l=(o?He(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function Iw(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function af(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function Ix(e,n,t,r){return zf(this.multi,[])}function Sx(e,n,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bi(t,t[q],this.providerFactory.index,r);o=a.slice(0,s),zf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],zf(i,o);return o}function zf(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function Tx(e,n,t,r,i){let o=new Ir(e,t,P);return o.multi=[],o.index=n,o.componentProviders=0,Iw(o,i,r&&!t),o}function It(e,n=[]){return t=>{t.providersResolver=(r,i)=>bx(r,i?i(e):e,n)}}var Mx=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=U_(!1,t.type),i=r.length>0?ic([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(D(ze))})}}return e})();function ot(e){Ar("NgStandalone"),e.getStandaloneInjector=n=>n.get(Mx).getOrCreateStandaloneInjector(e)}var Cn=class{constructor(n){this.full=n;let t=n.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},xh=new Cn("18.2.9");var ac=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Sw=new b("");function Nr(e){return!!e&&typeof e.then=="function"}function Tw(e){return!!e&&typeof e.subscribe=="function"}var lc=new b(""),Mw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=_(lc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Nr(o))t.push(o);else if(Tw(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ko=new b("");function Ax(){uy(()=>{throw new x(600,!1)})}function xx(e){return e.isBoundToModule}var Nx=10;function Rx(e,n,t){try{let r=t();return Nr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var Qn=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(LT),this.afterRenderManager=_(Ew),this.zonelessEnabled=_(rc),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ue,this.afterTick=new ue,this.componentTypes=[],this.components=[],this.isStable=_(Zn).hasPendingTasks.pipe(N(t=>!t)),this._injector=_(ze)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Fl;if(!this._injector.get(Mw).done){let f=!i&&F_(t),g=!1;throw new x(405,g)}let s;i?s=t:s=this._injector.get(Si).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=xx(s)?void 0:this._injector.get(qn),l=r||s.selector,c=s.create(Oe.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Sw,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),ml(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new x(101,!1);let t=Q(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Q(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ti,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Nx;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Px(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Yl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ml(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Ko,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ml(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ml(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Px(e,n,t,r){if(!t&&!Yl(e))return;pw(e,n,t&&!r?0:1)}var Gf=class{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},cc=(()=>{class e{compileModuleSync(t){return new jf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=L_(t),o=UC(i.declarations).reduce((s,a)=>{let l=Wn(a);return l&&s.push(new Mi(l)),s},[]);return new Gf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ox=(()=>{class e{constructor(){this.zone=_(Z),this.changeDetectionScheduler=_(Ii),this.applicationRef=_(Qn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kx=new b("",{factory:()=>!1});function Aw({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Z(G(C({},Nw()),{scheduleInRootZone:t})),[{provide:Z,useFactory:e},{provide:_i,multi:!0,useFactory:()=>{let r=_(Ox,{optional:!0});return()=>r.initialize()}},{provide:_i,multi:!0,useFactory:()=>{let r=_(Fx);return()=>{r.initialize()}}},n===!0?{provide:yw,useValue:!0}:[],{provide:_w,useValue:t??SC}]}function xw(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=Aw({ngZoneFactory:()=>{let i=Nw(e);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ar("NgZone_CoalesceEvent"),new Z(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return Qt([{provide:kx,useValue:!0},{provide:rc,useValue:!1},r])}function Nw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Fx=(()=>{class e{constructor(){this.subscription=new ge,this.initialized=!1,this.zone=_(Z),this.pendingTasks=_(Zn)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Z.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Lx=(()=>{class e{constructor(){this.appRef=_(Qn),this.taskService=_(Zn),this.ngZone=_(Z),this.zonelessEnabled=_(rc),this.disableScheduling=_(yw,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(_w,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Jy:TC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Vx(){return typeof $localize<"u"&&$localize.locale||Ul}var Nh=new b("",{providedIn:"root",factory:()=>_(Nh,$.Optional|$.SkipSelf)||Vx()});var qf=new b("");function fl(e){return!e.moduleRef}function jx(e){let n=fl(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Z);return t.run(()=>{fl(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(yn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),fl(e)){let o=()=>n.destroy(),s=e.platformInjector.get(qf);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(qf);s.add(o),e.moduleRef.onDestroy(()=>{ml(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return Rx(r,t,()=>{let o=n.get(Mw);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Nh,Ul);if(Cx(s||Ul),fl(e)){let a=n.get(Qn);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return Ux(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function Ux(e,n){let t=e.injector.get(Qn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new x(-403,!1);n.push(e)}var vl=null;function Bx(e=[],n){return Oe.create({name:n,providers:[{provide:zl,useValue:"platform"},{provide:qf,useValue:new Set([()=>vl=null])},...e]})}function $x(e=[]){if(vl)return vl;let n=Bx(e);return vl=n,Ax(),Hx(n),n}function Hx(e){e.get(gh,null)?.forEach(t=>t())}function Rh(){return!1}var Rr=(()=>{class e{static{this.__NG_ELEMENT_ID__=Wx}}return e})();function Wx(e){return zx(Ze(),le(),(e&16)===16)}function zx(e,n,t){if(ql(e)&&!t){let r=Yn(e.index,n);return new Tr(r,r)}else if(e.type&175){let r=n[Yt];return new Tr(r,n)}return null}function Rw(e){try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,i=$x(r),o=[Aw({}),{provide:Ii,useExisting:Lx},...t||[]],s=new Vl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return jx({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function Kn(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function ki(e,n){Ar("NgSignals");let t=ay(e);return n?.equal&&(t[hn].equal=n.equal),t}function en(e){let n=Q(null);try{return e()}finally{Q(n)}}function Pw(e){let n=Wn(e);if(!n)return null;let t=new Mi(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Lw=null;function bn(){return Lw}function Vw(e){Lw??=e}var uc=class{};var Ve=new b(""),Fh=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>_(qx),providedIn:"platform"})}}return e})(),jw=new b(""),qx=(()=>{class e extends Fh{constructor(){super(),this._doc=_(Ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bn().getBaseHref(this._doc)}onPopState(t){let r=bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Lh(e,n){if(e.length==0)return n;if(n.length==0)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,t==2?e+n.substring(1):t==1?e+n:e+"/"+n}function Ow(e){let n=e.match(/#|\?|$/),t=n&&n.index||e.length,r=t-(e[t-1]==="/"?1:0);return e.slice(0,r)+e.slice(t)}function Dn(e){return e&&e[0]!=="?"?"?"+e:e}var In=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>_(Vh),providedIn:"root"})}}return e})(),Uw=new b(""),Vh=(()=>{class e extends In{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Lh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Dn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Dn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Dn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(D(Fh),D(Uw,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bw=(()=>{class e extends In{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Lh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(D(Fh),D(Uw,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Li=(()=>{class e{constructor(t){this._subject=new me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Qx(Ow(kw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Dn(r))}normalize(t){return e.stripTrailingSlash(Zx(this._basePath,kw(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Dn}static{this.joinWithSlash=Lh}static{this.stripTrailingSlash=Ow}static{this.\u0275fac=function(r){return new(r||e)(D(In))}}static{this.\u0275prov=I({token:e,factory:()=>Yx(),providedIn:"root"})}}return e})();function Yx(){return new Li(D(In))}function Zx(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function kw(e){return e.replace(/\/index.html$/,"")}function Qx(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}function dc(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var $w=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new Ph,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Fw("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Fw("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(P(Yo),P(Th))}}static{this.\u0275dir=ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),Ph=class{constructor(){this.$implicit=null,this.ngIf=null}};function Fw(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${We(n)}'.`)}var Jo=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ye({type:e})}static{this.\u0275inj=qe({})}}return e})(),jh="browser",Kx="server";function Jx(e){return e===jh}function Vi(e){return e===Kx}var Hw=(()=>{class e{static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>Jx(_(Re))?new Oh(_(Ve),window):new kh})}}return e})(),Oh=class{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=Xx(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Xx(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var kh=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},Fi=class{};var es=class{},hc=class{},Sn=class e{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var $h=class{encodeKey(n){return Ww(n)}encodeValue(n){return Ww(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function eN(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var tN=/%(\d[a-f0-9])/gi,nN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ww(e){return encodeURIComponent(e).replace(tN,(n,t)=>nN[t]??n)}function fc(e){return`${e}`}var Xn=class e{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new $h,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=eN(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(fc):[fc(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(fc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(fc(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Hh=class{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function rN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Gw(e){return typeof Blob<"u"&&e instanceof Blob}function qw(e){return typeof FormData<"u"&&e instanceof FormData}function iN(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Xo=class e{constructor(n,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(rN(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Sn,this.context??=new Hh,!this.params)this.params=new Xn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zw(this.body)||Gw(this.body)||qw(this.body)||iN(this.body)?this.body:this.body instanceof Xn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||qw(this.body)?null:Gw(this.body)?this.body.type||null:zw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Xn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((f,g)=>f.set(g,n.setHeaders[g]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((f,g)=>f.set(g,n.setParams[g]),u)),new e(t,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},er=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(er||{}),ts=class{constructor(n,t=200,r="OK"){this.headers=n.headers||new Sn,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},pc=class e extends ts{constructor(n={}){super(n),this.type=er.ResponseHeader}clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ns=class e extends ts{constructor(n={}){super(n),this.type=er.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Jn=class extends ts{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},Kw=200,oN=204;function Bh(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var sN=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Xo)o=t;else{let l;i.headers instanceof Sn?l=i.headers:l=new Sn(i.headers);let c;i.params&&(i.params instanceof Xn?c=i.params:c=new Xn({fromObject:i.params})),o=new Xo(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=A(o).pipe(mn(l=>this.handler.handle(l)));if(t instanceof Xo||i.observe==="events")return s;let a=s.pipe(Pe(l=>l instanceof ns));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(N(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(N(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(N(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(N(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Xn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Bh(i,r))}post(t,r,i={}){return this.request("POST",t,Bh(i,r))}put(t,r,i={}){return this.request("PUT",t,Bh(i,r))}static{this.\u0275fac=function(r){return new(r||e)(D(es))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),aN=/^\)\]\}',?\n/,lN="X-Request-URL";function Yw(e){if(e.url)return e.url;let n=lN.toLocaleLowerCase();return e.headers.get(n)}var cN=(()=>{class e{constructor(){this.fetchImpl=_(Wh,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=_(Z)}handle(t){return new V(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(zh,o=>r.error(new Jn({error:o}))),()=>i.abort()})}doRequest(t,r,i){return ae(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,C({signal:r},o)));uN(g),i.next({type:er.Sent}),s=yield g}catch(g){i.error(new Jn({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Sn(s.headers),l=s.statusText,c=Yw(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new pc({headers:a,status:u,statusText:l,url:c})),s.body){let g=s.headers.get("content-length"),v=[],y=s.body.getReader(),E=0,M,B,T=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ae(this,null,function*(){for(;;){let{done:pe,value:Ee}=yield y.read();if(pe)break;if(v.push(Ee),E+=Ee.length,t.reportProgress){B=t.responseType==="text"?(B??"")+(M??=new TextDecoder).decode(Ee,{stream:!0}):void 0;let dn=()=>i.next({type:er.DownloadProgress,total:g?+g:void 0,loaded:E,partialText:B});T?T.run(dn):dn()}}}));let te=this.concatChunks(v,E);try{let pe=s.headers.get("Content-Type")??"";d=this.parseBody(t,te,pe)}catch(pe){i.error(new Jn({error:pe,headers:new Sn(s.headers),status:s.status,statusText:s.statusText,url:Yw(s)??t.urlWithParams}));return}}u===0&&(u=d?Kw:0),u>=200&&u<300?(i.next(new ns({body:d,headers:a,status:u,statusText:l,url:c})),i.complete()):i.error(new Jn({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(aN,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Wh=class{};function zh(){}function uN(e){e.then(zh,zh)}function dN(e,n){return n(e)}function fN(e,n,t){return(r,i)=>Dt(t,()=>n(r,o=>e(o,i)))}var Jw=new b(""),hN=new b(""),pN=new b("",{providedIn:"root",factory:()=>!0});var Zw=(()=>{class e extends es{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=_(Zn),this.contributeToStability=_(pN)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Jw),...this.injector.get(hN,[])]));this.chain=r.reduceRight((i,o)=>fN(i,o,this.injector),dN)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Cr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||e)(D(hc),D(ze))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();var gN=/^\)\]\}',?\n/;function mN(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var Qw=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?X(r.\u0275loadImpl()):A(null)).pipe(oe(()=>new V(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((y,E)=>s.setRequestHeader(y,E.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let y=t.detectContentTypeHeader();y!==null&&s.setRequestHeader("Content-Type",y)}if(t.responseType){let y=t.responseType.toLowerCase();s.responseType=y!=="json"?y:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let y=s.statusText||"OK",E=new Sn(s.getAllResponseHeaders()),M=mN(s)||t.url;return l=new pc({headers:E,status:s.status,statusText:y,url:M}),l},u=()=>{let{headers:y,status:E,statusText:M,url:B}=c(),T=null;E!==oN&&(T=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=T?Kw:0);let te=E>=200&&E<300;if(t.responseType==="json"&&typeof T=="string"){let pe=T;T=T.replace(gN,"");try{T=T!==""?JSON.parse(T):null}catch(Ee){T=pe,te&&(te=!1,T={error:Ee,text:T})}}te?(o.next(new ns({body:T,headers:y,status:E,statusText:M,url:B||void 0})),o.complete()):o.error(new Jn({error:T,headers:y,status:E,statusText:M,url:B||void 0}))},d=y=>{let{url:E}=c(),M=new Jn({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(M)},f=!1,g=y=>{f||(o.next(c()),f=!0);let E={type:er.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),t.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},v=y=>{let E={type:er.UploadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),o.next(E)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:er.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(D(Fi))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Xw=new b(""),vN="XSRF-TOKEN",yN=new b("",{providedIn:"root",factory:()=>vN}),_N="X-XSRF-TOKEN",CN=new b("",{providedIn:"root",factory:()=>_N}),gc=class{},wN=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=dc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(D(Ve),D(Re),D(yN))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function EN(e,n){let t=e.url.toLowerCase();if(!_(Xw)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=_(gc).getToken(),i=_(CN);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}function eE(...e){let n=[sN,Qw,Zw,{provide:es,useExisting:Zw},{provide:hc,useFactory:()=>_(cN,{optional:!0})??_(Qw)},{provide:Jw,useValue:EN,multi:!0},{provide:Xw,useValue:!0},{provide:gc,useClass:wN}];for(let t of e)n.push(...t.\u0275providers);return Qt(n)}var Yh=class extends uc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zh=class e extends Yh{static makeCurrent(){Vw(new e)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=DN();return t==null?null:bN(t)}resetBaseElement(){rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return dc(document.cookie,n)}},rs=null;function DN(){return rs=rs||document.querySelector("base"),rs?rs.getAttribute("href"):null}function bN(e){return new URL(e,document.baseURI).pathname}var IN=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Qh=new b(""),iE=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(D(Qh),D(Z))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),mc=class{constructor(n){this._doc=n}},Gh="ng-app-id",oE=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vi(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Gh}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Gh),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Gh,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(D(Ve),D(ph),D(mh,8),D(Re))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),qh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jh=/%COMP%/g,sE="%COMP%",SN=`_nghost-${sE}`,TN=`_ngcontent-${sE}`,MN=!0,AN=new b("",{providedIn:"root",factory:()=>MN});function xN(e){return TN.replace(Jh,e)}function NN(e){return SN.replace(Jh,e)}function aE(e,n){return n.map(t=>t.replace(Jh,e))}var tE=(()=>{class e{constructor(t,r,i,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Vi(a),this.defaultRenderer=new is(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gt.ShadowDom&&(r=G(C({},r),{encapsulation:Gt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof vc?i.applyToHost(t):i instanceof os&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Gt.Emulated:o=new vc(l,c,r,this.appId,u,s,a,d);break;case Gt.ShadowDom:return new Kh(l,c,t,r,s,a,this.nonce,d);default:o=new os(l,c,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(D(iE),D(oE),D(ph),D(AN),D(Ve),D(Re),D(Z),D(mh))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),is=class{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(qh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(nE(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(nE(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=qh[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=qh[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(_n.DashCase|_n.Important)?n.style.setProperty(t,r,i&_n.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&_n.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r){if(typeof n=="string"&&(n=bn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function nE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Kh=class extends is{constructor(n,t,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=aE(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},os=class extends is{constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?aE(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},vc=class extends os{constructor(n,t,r,i,o,s,a,l){let c=i+"-"+r.id;super(n,t,r,o,s,a,l,c),this.contentAttr=xN(c),this.hostAttr=NN(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}},RN=(()=>{class e extends mc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(D(Ve))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),rE=["alt","control","meta","shift"],PN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ON={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},kN=(()=>{class e extends mc{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),rE.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=PN[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),rE.forEach(s=>{if(s!==i){let a=ON[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(D(Ve))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function lE(e,n){return Rw(C({rootComponent:e},FN(n)))}function FN(e){return{appProviders:[...BN,...e?.providers??[]],platformProviders:UN}}function LN(){Zh.makeCurrent()}function VN(){return new yn}function jN(){return OC(document),document}var UN=[{provide:Re,useValue:jh},{provide:gh,useValue:LN,multi:!0},{provide:Ve,useFactory:jN,deps:[]}];var BN=[{provide:zl,useValue:"root"},{provide:yn,useFactory:VN,deps:[]},{provide:Qh,useClass:RN,multi:!0,deps:[Ve,Z,Re]},{provide:Qh,useClass:kN,multi:!0,deps:[Ve]},tE,oE,iE,{provide:Ti,useExisting:tE},{provide:Fi,useClass:IN,deps:[]},[]];var cE=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(D(Ve))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var U="primary",Cs=Symbol("RouteTitle"),rp=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Wi(e){return new rp(e)}function HN(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function WN(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!tn(e[t],n[t]))return!1;return!0}function tn(e,n){let t=e?ip(e):void 0,r=n?ip(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!CE(e[i],n[i]))return!1;return!0}function ip(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function CE(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function wE(e){return e.length>0?e[e.length-1]:null}function rr(e){return Vd(e)?e:Nr(e)?X(Promise.resolve(e)):A(e)}var zN={exact:DE,subset:bE},EE={exact:GN,subset:qN,ignored:()=>!0};function uE(e,n,t){return zN[t.paths](e.root,n.root,t.matrixParams)&&EE[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function GN(e,n){return tn(e,n)}function DE(e,n,t){if(!Or(e.segments,n.segments)||!Cc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!DE(e.children[r],n.children[r],t))return!1;return!0}function qN(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>CE(e[t],n[t]))}function bE(e,n,t){return IE(e,n,n.segments,t)}function IE(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Or(i,t)||n.hasChildren()||!Cc(i,t,r))}else if(e.segments.length===t.length){if(!Or(e.segments,t)||!Cc(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!bE(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Or(e.segments,i)||!Cc(e.segments,i,r)||!e.children[U]?!1:IE(e.children[U],n,o,r)}}function Cc(e,n,t){return n.every((r,i)=>EE[t](e[i].parameters,r.parameters))}var Mn=class{constructor(n=new ee([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){return QN.serialize(this)}},ee=class{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wc(this)}},Pr=class{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Wi(this.parameters),this._parameterMap}toString(){return TE(this)}};function YN(e,n){return Or(e,n)&&e.every((t,r)=>tn(t.parameters,n[r].parameters))}function Or(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function ZN(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===U&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==U&&(t=t.concat(n(i,r)))}),t}var ws=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>new zi,providedIn:"root"})}}return e})(),zi=class{parse(n){let t=new sp(n);return new Mn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${ss(n.root,!0)}`,r=XN(n.queryParams),i=typeof n.fragment=="string"?`#${KN(n.fragment)}`:"";return`${t}${r}${i}`}},QN=new zi;function wc(e){return e.segments.map(n=>TE(n)).join("/")}function ss(e,n){if(!e.hasChildren())return wc(e);if(n){let t=e.children[U]?ss(e.children[U],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${ss(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ZN(e,(r,i)=>i===U?[ss(e.children[U],!1)]:[`${i}:${ss(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[U]!=null?`${wc(e)}/${t[0]}`:`${wc(e)}/(${t.join("//")})`}}function SE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yc(e){return SE(e).replace(/%3B/gi,";")}function KN(e){return encodeURI(e)}function op(e){return SE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ec(e){return decodeURIComponent(e)}function dE(e){return Ec(e.replace(/\+/g,"%20"))}function TE(e){return`${op(e.path)}${JN(e.parameters)}`}function JN(e){return Object.entries(e).map(([n,t])=>`;${op(n)}=${op(t)}`).join("")}function XN(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${yc(t)}=${yc(i)}`).join("&"):`${yc(t)}=${yc(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var eR=/^[^\/()?;#]+/;function Xh(e){let n=e.match(eR);return n?n[0]:""}var tR=/^[^\/()?;=#]+/;function nR(e){let n=e.match(tR);return n?n[0]:""}var rR=/^[^=?&#]+/;function iR(e){let n=e.match(rR);return n?n[0]:""}var oR=/^[^&#]+/;function sR(e){let n=e.match(oR);return n?n[0]:""}var sp=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[U]=new ee(n,t)),r}parseSegment(){let n=Xh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(n),new Pr(Ec(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=nR(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Xh(this.remaining);i&&(r=i,this.capture(r))}n[Ec(t)]=Ec(r)}parseQueryParam(n){let t=iR(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=sR(this.remaining);s&&(r=s,this.capture(r))}let i=dE(t),o=dE(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=U);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[U]:new ee([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new x(4011,!1)}};function ME(e){return e.segments.length>0?new ee([],{[U]:e}):e}function AE(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=AE(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ee(e.segments,n);return aR(t)}function aR(e){if(e.numberOfChildren===1&&e.children[U]){let n=e.children[U];return new ee(e.segments.concat(n.segments),n.children)}return e}function kr(e){return e instanceof Mn}function lR(e,n,t=null,r=null){let i=xE(e);return NE(i,n,t,r)}function xE(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new ee(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=ME(r);return n??i}function NE(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return ep(i,i,i,t,r);let o=cR(n);if(o.toRoot())return ep(i,i,new ee([],{}),t,r);let s=uR(o,i,e),a=s.processChildren?cs(s.segmentGroup,s.index,o.commands):PE(s.segmentGroup,s.index,o.commands);return ep(i,s.segmentGroup,a,t,r)}function Dc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function fs(e){return typeof e=="object"&&e!=null&&e.outlets}function ep(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=RE(e,n,t);let a=ME(AE(s));return new Mn(a,o,i)}function RE(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=RE(o,n,t)}),new ee(e.segments,r)}var bc=class{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Dc(r[0]))throw new x(4003,!1);let i=r.find(fs);if(i&&i!==wE(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new bc(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new bc(t,n,r)}var Bi=class{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function uR(e,n,t){if(e.isAbsolute)return new Bi(n,!0,0);if(!t)return new Bi(n,!1,NaN);if(t.parent===null)return new Bi(t,!0,0);let r=Dc(e.commands[0])?0:1,i=t.segments.length-1+r;return dR(t,i,e.numberOfDoubleDots)}function dR(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Bi(r,!1,i-o)}function fR(e){return fs(e[0])?e[0].outlets:{[U]:e}}function PE(e,n,t){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return cs(e,n,t);let r=hR(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,r.pathIndex),{});return o.children[U]=new ee(e.segments.slice(r.pathIndex),e.children),cs(o,0,i)}else return r.match&&i.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?ap(e,n,t):r.match?cs(e,0,i):ap(e,n,t)}function cs(e,n,t){if(t.length===0)return new ee(e.segments,{});{let r=fR(t),i={};if(Object.keys(r).some(o=>o!==U)&&e.children[U]&&e.numberOfChildren===1&&e.children[U].segments.length===0){let o=cs(e.children[U],n,t);return new ee(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=PE(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(e.segments,i)}}function hR(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(fs(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!hE(l,c,s))return o;r+=2}else{if(!hE(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ap(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(fs(o)){let l=pR(o.outlets);return new ee(r,l)}if(i===0&&Dc(t[0])){let l=e.segments[n];r.push(new Pr(l.path,fE(t[0]))),i++;continue}let s=fs(o)?o.outlets[U]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Dc(a)?(r.push(new Pr(s,fE(a))),i+=2):(r.push(new Pr(s,{})),i++)}return new ee(r,{})}function pR(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=ap(new ee([],{}),0,r))}),n}function fE(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function hE(e,n,t){return e==t.path&&tn(n,t.parameters)}var us="imperative",Te=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Te||{}),St=class{constructor(n,t){this.id=n,this.url=t}},Gi=class extends St{constructor(n,t,r="imperative",i=null){super(n,t),this.type=Te.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nn=class extends St{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=Te.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ct=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ct||{}),Ic=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ic||{}),Tn=class extends St{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=Te.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tr=class extends St{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=Te.NavigationSkipped}},hs=class extends St{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=Te.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sc=class extends St{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=Te.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lp=class extends St{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=Te.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class extends St{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Te.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},up=class extends St{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=Te.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dp=class extends St{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=Te.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class{constructor(n){this.route=n,this.type=Te.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hp=class{constructor(n){this.route=n,this.type=Te.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pp=class{constructor(n){this.snapshot=n,this.type=Te.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gp=class{constructor(n){this.snapshot=n,this.type=Te.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{constructor(n){this.snapshot=n,this.type=Te.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{constructor(n){this.snapshot=n,this.type=Te.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tc=class{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=Te.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},ps=class{},qi=class{constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function gR(e,n){return e.providers&&!e._injector&&(e._injector=ic(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Vt(e){return e.outlet||U}function mR(e,n){let t=e.filter(r=>Vt(r)===n);return t.push(...e.filter(r=>Vt(r)!==n)),t}function Es(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var yp=class{get injector(){return Es(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new Ds(this.rootInjector),this.attachRef=null}},Ds=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new yp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)(D(ze))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Mc=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=_p(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=_p(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Cp(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Cp(n,this._root).map(t=>t.value)}};function _p(e,n){if(e===n.value)return n;for(let t of n.children){let r=_p(e,t);if(r)return r}return null}function Cp(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Cp(e,t);if(r.length)return r.unshift(n),r}return[]}var lt=class{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ui(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Ac=class extends Mc{constructor(n,t){super(n),this.snapshot=t,Ap(this,n)}toString(){return this.snapshot.toString()}};function OE(e){let n=vR(e),t=new Ne([new Pr("",{})]),r=new Ne({}),i=new Ne({}),o=new Ne({}),s=new Ne(""),a=new nr(t,r,o,s,i,U,e,n.root);return a.snapshot=n.root,new Ac(new lt(a,[]),n)}function vR(e){let n={},t={},r={},i="",o=new $i([],n,r,i,t,U,e,null,{});return new Nc("",new lt(o,[]))}var nr=class{constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(N(c=>c[Cs]))??A(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(N(n=>Wi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(N(n=>Wi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xc(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:C(C({},n.params),e.params),data:C(C({},n.data),e.data),resolve:C(C(C(C({},e.data),n.data),i?.data),e._resolvedData)}:r={params:C({},e.params),data:C({},e.data),resolve:C(C({},e.data),e._resolvedData??{})},i&&FE(i)&&(r.resolve[Cs]=i.title),r}var $i=class{get title(){return this.data?.[Cs]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Nc=class extends Mc{constructor(n,t){super(t),this.url=n,Ap(this,t)}toString(){return kE(this._root)}};function Ap(e,n){n.value._routerState=e,n.children.forEach(t=>Ap(e,t))}function kE(e){let n=e.children.length>0?` { ${e.children.map(kE).join(", ")} } `:"";return`${e.value}${n}`}function tp(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,tn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),tn(n.params,t.params)||e.paramsSubject.next(t.params),WN(n.url,t.url)||e.urlSubject.next(t.url),tn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function wp(e,n){let t=tn(e.params,n.params)&&YN(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||wp(e.parent,n.parent))}function FE(e){return typeof e.title=="string"||e.title===null}var xp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new me,this.deactivateEvents=new me,this.attachEvents=new me,this.detachEvents=new me,this.parentContexts=_(Ds),this.location=_(Yo),this.changeDetector=_(Rr),this.inputBinder=_(kc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ep(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kt]})}}return e})(),Ep=class e{__ngOutletInjector(n){return new e(this.route,this.childContexts,n)}constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===nr?this.route:n===Ds?this.childContexts:this.parent.get(n,t)}},kc=new b(""),pE=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Po([r.queryParams,r.params,r.data]).pipe(oe(([o,s,a],l)=>(a=C(C(C({},o),s),a),l===0?A(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Pw(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function yR(e,n,t){let r=gs(e,n._root,t?t._root:void 0);return new Ac(r,n)}function gs(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=_R(e,n,t);return new lt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>gs(e,a)),s}}let r=CR(n.value),i=n.children.map(o=>gs(e,o));return new lt(r,i)}}function _R(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return gs(e,r,i);return gs(e,r)})}function CR(e){return new nr(new Ne(e.url),new Ne(e.params),new Ne(e.queryParams),new Ne(e.fragment),new Ne(e.data),e.outlet,e.component,e)}var ms=class{constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},LE="ngNavigationCancelingError";function Rc(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=kr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=VE(!1,ct.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function VE(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[LE]=!0,t.cancellationCode=n,t}function wR(e){return jE(e)&&kr(e.url)}function jE(e){return!!e&&e[LE]}var ER=(e,n,t,r)=>N(i=>(new Dp(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Dp=class{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),tp(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=Ui(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ui(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ui(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=Ui(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vp(o.value.snapshot))}),n.children.length&&this.forwardEvent(new gp(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(tp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tp(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Pc=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Hi=class{constructor(n,t){this.component=n,this.route=t}};function DR(e,n,t){let r=e._root,i=n?n._root:null;return as(r,i,t,[r.value])}function bR(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Zi(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!C_(e)?e:n.get(e):r}function as(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ui(n);return e.children.forEach(s=>{IR(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ds(a,t.getContext(s),i)),i}function IR(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=SR(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Pc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?as(e,n,a?a.children:null,r,i):as(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hi(a.outlet.component,s))}else s&&ds(n,a,i),i.canActivateChecks.push(new Pc(r)),o.component?as(e,null,a?a.children:null,r,i):as(e,null,t,r,i);return i}function SR(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Or(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Or(e.url,n.url)||!tn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wp(e,n)||!tn(e.queryParams,n.queryParams);case"paramsChange":default:return!wp(e,n)}}function ds(e,n,t){let r=Ui(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?ds(s,n.children.getContext(o),t):ds(s,null,t):ds(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Hi(n.outlet.component,i)):t.canDeactivateChecks.push(new Hi(null,i)):t.canDeactivateChecks.push(new Hi(null,i))}function bs(e){return typeof e=="function"}function TR(e){return typeof e=="boolean"}function MR(e){return e&&bs(e.canLoad)}function AR(e){return e&&bs(e.canActivate)}function xR(e){return e&&bs(e.canActivateChild)}function NR(e){return e&&bs(e.canDeactivate)}function RR(e){return e&&bs(e.canMatch)}function UE(e){return e instanceof gn||e?.name==="EmptyError"}var _c=Symbol("INITIAL_VALUE");function Yi(){return oe(e=>Po(e.map(n=>n.pipe(vn(1),zd(_c)))).pipe(N(n=>{for(let t of n)if(t!==!0){if(t===_c)return _c;if(t===!1||PR(t))return t}return!0}),Pe(n=>n!==_c),vn(1)))}function PR(e){return kr(e)||e instanceof ms}function OR(e,n){return _e(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?A(G(C({},t),{guardsResult:!0})):kR(s,r,i,e).pipe(_e(a=>a&&TR(a)?FR(r,o,e,n):A(a)),N(a=>G(C({},t),{guardsResult:a})))})}function kR(e,n,t,r){return X(e).pipe(_e(i=>BR(i.component,i.route,t,n,r)),vt(i=>i!==!0,!0))}function FR(e,n,t,r){return X(n).pipe(mn(i=>ai(VR(i.route.parent,r),LR(i.route,r),UR(e,i.path,t),jR(e,i.route,t))),vt(i=>i!==!0,!0))}function LR(e,n){return e!==null&&n&&n(new mp(e)),A(!0)}function VR(e,n){return e!==null&&n&&n(new pp(e)),A(!0)}function jR(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(o=>rl(()=>{let s=Es(n)??t,a=Zi(o,s),l=AR(a)?a.canActivate(n,e):Dt(s,()=>a(n,e));return rr(l).pipe(vt())}));return A(i).pipe(Yi())}function UR(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>bR(s)).filter(s=>s!==null).map(s=>rl(()=>{let a=s.guards.map(l=>{let c=Es(s.node)??t,u=Zi(l,c),d=xR(u)?u.canActivateChild(r,e):Dt(c,()=>u(r,e));return rr(d).pipe(vt())});return A(a).pipe(Yi())}));return A(o).pipe(Yi())}function BR(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return A(!0);let s=o.map(a=>{let l=Es(n)??i,c=Zi(a,l),u=NR(c)?c.canDeactivate(e,n,t,r):Dt(l,()=>c(e,n,t,r));return rr(u).pipe(vt())});return A(s).pipe(Yi())}function $R(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return A(!0);let o=i.map(s=>{let a=Zi(s,e),l=MR(a)?a.canLoad(n,t):Dt(e,()=>a(n,t));return rr(l)});return A(o).pipe(Yi(),BE(r))}function BE(e){return Rd(Ce(n=>{if(typeof n!="boolean")throw Rc(e,n)}),N(n=>n===!0))}function HR(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return A(!0);let o=i.map(s=>{let a=Zi(s,e),l=RR(a)?a.canMatch(n,t):Dt(e,()=>a(n,t));return rr(l)});return A(o).pipe(Yi(),BE(r))}var vs=class{constructor(n){this.segmentGroup=n||null}},ys=class extends Error{constructor(n){super(),this.urlTree=n}};function ji(e){return si(new vs(e))}function WR(e){return si(new x(4e3,!1))}function zR(e){return si(VE(!1,ct.GuardRejected))}var bp=class{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[U])return WR(`${n.redirectTo}`);i=i.children[U]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:g,data:v,title:y}=i,E=Dt(o,()=>a({params:g,data:v,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:y}));if(E instanceof Mn)throw new ys(E);t=E}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new ys(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new Mn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ee(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},Ip={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GR(e,n,t,r,i){let o=$E(e,n,t);return o.matched?(r=gR(n,r),HR(r,n,t,i).pipe(N(s=>s===!0?o:C({},Ip)))):A(o)}function $E(e,n,t){if(n.path==="**")return qR(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?C({},Ip):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||HN)(t,e,n);if(!i)return C({},Ip);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function qR(e){return{matched:!0,parameters:e.length>0?wE(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function gE(e,n,t,r){return t.length>0&&QR(e,t,r)?{segmentGroup:new ee(n,ZR(r,new ee(t,e.children))),slicedSegments:[]}:t.length===0&&KR(e,t,r)?{segmentGroup:new ee(e.segments,YR(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:t}}function YR(e,n,t,r){let i={};for(let o of t)if(Fc(e,n,o)&&!r[Vt(o)]){let s=new ee([],{});i[Vt(o)]=s}return C(C({},r),i)}function ZR(e,n){let t={};t[U]=n;for(let r of e)if(r.path===""&&Vt(r)!==U){let i=new ee([],{});t[Vt(r)]=i}return t}function QR(e,n,t){return t.some(r=>Fc(e,n,r)&&Vt(r)!==U)}function KR(e,n,t){return t.some(r=>Fc(e,n,r))}function Fc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function JR(e,n,t){return n.length===0&&!e.children[t]}var Sp=class{};function XR(e,n,t,r,i,o,s="emptyOnly"){return new Tp(e,n,t,r,i,s,o).recognize()}var eP=31,Tp=class{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new bp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new x(4002,`'${n.segmentGroup}'`)}recognize(){let n=gE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(N(({children:t,rootSnapshot:r})=>{let i=new lt(r,t),o=new Nc("",i),s=lR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new $i([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,U,t).pipe(N(r=>({children:r,rootSnapshot:t})),Vn(r=>{if(r instanceof ys)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vs?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(N(s=>s instanceof lt?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return X(o).pipe(mn(s=>{let a=r.children[s],l=mR(t,s);return this.processSegmentGroup(n,l,a,s,i)}),ui((s,a)=>(s.push(...a),s)),jn(null),$d(),_e(s=>{if(s===null)return ji(r);let a=HE(s);return tP(a),A(a)}))}processSegment(n,t,r,i,o,s,a){return X(t).pipe(mn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(Vn(c=>{if(c instanceof vs)return A(null);throw c}))),vt(l=>!!l),Vn(l=>{if(UE(l))return JR(r,i,o)?A(new Sp):ji(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return Vt(r)!==s&&(s===U||!Fc(i,o,r))?ji(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):ji(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=$E(t,i,o);if(!l)return ji(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eP&&(this.allowRedirects=!1));let g=new $i(o,c,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,mE(i),Vt(i),i.component??i._loadedComponent??null,i,vE(i)),v=xc(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let y=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,n);return this.applyRedirects.lineralizeSegments(i,y).pipe(_e(E=>this.processSegment(n,r,t,E.concat(f),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=GR(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(oe(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(oe(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:f,remainingSegments:g}=l,v=new $i(f,d,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,mE(r),Vt(r),r.component??r._loadedComponent??null,r,vE(r)),y=xc(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(y.params),v.data=Object.freeze(y.data);let{segmentGroup:E,slicedSegments:M}=gE(t,f,g,c);if(M.length===0&&E.hasChildren())return this.processChildren(u,c,E,v).pipe(N(T=>new lt(v,T)));if(c.length===0&&M.length===0)return A(new lt(v,[]));let B=Vt(r)===o;return this.processSegment(u,c,E,M,B?U:o,!0,v).pipe(N(T=>new lt(v,T instanceof lt?[T]:[])))}))):ji(t)))}getChildConfig(n,t,r){return t.children?A({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?A({routes:t._loadedRoutes,injector:t._loadedInjector}):$R(n,t,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(n,t).pipe(Ce(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):zR(t))):A({routes:[],injector:n})}};function tP(e){e.sort((n,t)=>n.value.outlet===U?-1:t.value.outlet===U?1:n.value.outlet.localeCompare(t.value.outlet))}function nP(e){let n=e.value.routeConfig;return n&&n.path===""}function HE(e){let n=[],t=new Set;for(let r of e){if(!nP(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=HE(r.children);n.push(new lt(r.value,i))}return n.filter(r=>!t.has(r))}function mE(e){return e.data||{}}function vE(e){return e.resolve||{}}function rP(e,n,t,r,i,o){return _e(s=>XR(e,n,t,r,s.extractedUrl,i,o).pipe(N(({state:a,tree:l})=>G(C({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function iP(e,n){return _e(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return A(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of WE(l))s.add(c);let a=0;return X(s).pipe(mn(l=>o.has(l)?oP(l,r,e,n):(l.data=xc(l,l.parent,e).resolve,A(void 0))),Ce(()=>a++),ci(1),_e(l=>a===s.size?A(t):$e))})}function WE(e){let n=e.children.map(t=>WE(t)).flat();return[e,...n]}function oP(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!FE(i)&&(o[Cs]=i.title),sP(o,e,n,r).pipe(N(s=>(e._resolvedData=s,e.data=xc(e,e.parent,t).resolve,null)))}function sP(e,n,t,r){let i=ip(e);if(i.length===0)return A({});let o={};return X(i).pipe(_e(s=>aP(e[s],n,t,r).pipe(vt(),Ce(a=>{if(a instanceof ms)throw Rc(new zi,a);o[s]=a}))),ci(1),Ud(o),Vn(s=>UE(s)?$e:si(s)))}function aP(e,n,t,r){let i=Es(n)??r,o=Zi(e,i),s=o.resolve?o.resolve(n,t):Dt(i,()=>o(n,t));return rr(s)}function np(e){return oe(n=>{let t=e(n);return t?X(t).pipe(N(()=>n)):A(n)})}var zE=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===U);return r}getResolvedTitleForRoute(t){return t.data[Cs]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>_(lP),providedIn:"root"})}}return e})(),lP=(()=>{class e extends zE{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(D(cE))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Is=new b("",{providedIn:"root",factory:()=>({})}),cP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=it({type:e,selectors:[["ng-component"]],standalone:!0,features:[ot],decls:1,vars:0,template:function(r,i){r&1&&S(0,"router-outlet")},dependencies:[xp],encapsulation:2})}}return e})();function Np(e){let n=e.children&&e.children.map(Np),t=n?G(C({},e),{children:n}):C({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==U&&(t.component=cP),t}var _s=new b(""),Rp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(cc)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return A(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=rr(t.loadComponent()).pipe(N(GE),Ce(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Cr(()=>{this.componentLoaders.delete(t)})),i=new ti(r,()=>new ue).pipe(ei());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=uP(r,this.compiler,t,this.onLoadEndListener).pipe(Cr(()=>{this.childrenLoaders.delete(r)})),s=new ti(o,()=>new ue).pipe(ei());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function uP(e,n,t,r){return rr(e.loadChildren()).pipe(N(GE),_e(i=>i instanceof $o||Array.isArray(i)?A(i):X(n.compileModuleAsync(i))),N(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(_s,[],{optional:!0,self:!0}).flat()),{routes:s.map(Np),injector:o}}))}function dP(e){return e&&typeof e=="object"&&"default"in e}function GE(e){return dP(e)?e.default:e}var Pp=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>_(fP),providedIn:"root"})}}return e})(),fP=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qE=new b(""),YE=new b("");function hP(e,n,t){let r=e.get(YE),i=e.get(Ve);return e.get(Z).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),pP(e))),{onViewTransitionCreated:l}=r;return l&&Dt(e,()=>l({transition:a,from:n,to:t})),s})}function pP(e){return new Promise(n=>{Ah({read:()=>setTimeout(n)},{injector:e})})}var gP=new b(""),Op=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue,this.transitionAbortSubject=new ue,this.configLoader=_(Rp),this.environmentInjector=_(ze),this.urlSerializer=_(ws),this.rootContexts=_(Ds),this.location=_(Li),this.inputBindingEnabled=_(kc,{optional:!0})!==null,this.titleStrategy=_(zE),this.options=_(Is,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(Pp),this.createViewTransition=_(qE,{optional:!0}),this.navigationErrorHandler=_(gP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let t=i=>this.events.next(new fp(i)),r=i=>this.events.next(new hp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(G(C(C({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ne({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:us,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pe(o=>o.id!==0),N(o=>G(C({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),oe(o=>{let s=!1,a=!1;return A(o).pipe(oe(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),$e;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?G(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new tr(l.id,this.urlSerializer.serialize(l.rawUrl),d,Ic.IgnoredSameUrlNavigation)),l.resolve(!1),$e}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return A(l).pipe(oe(d=>{let f=this.transitions?.getValue();return this.events.next(new Gi(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?$e:Promise.resolve(d)}),rP(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ce(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=G(C({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Sc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:g,restoredState:v,extras:y}=l,E=new Gi(d,this.urlSerializer.serialize(f),g,v);this.events.next(E);let M=OE(this.rootComponentType).snapshot;return this.currentTransition=o=G(C({},l),{targetSnapshot:M,urlAfterRedirects:f,extras:G(C({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,A(o)}else{let d="";return this.events.next(new tr(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Ic.IgnoredByUrlHandlingStrategy)),l.resolve(!1),$e}}),Ce(l=>{let c=new lp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),N(l=>(this.currentTransition=o=G(C({},l),{guards:DR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),OR(this.environmentInjector,l=>this.events.next(l)),Ce(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Rc(this.urlSerializer,l.guardsResult);let c=new cp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Pe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ct.GuardRejected),!1)),np(l=>{if(l.guards.canActivateChecks.length)return A(l).pipe(Ce(c=>{let u=new up(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),oe(c=>{let u=!1;return A(c).pipe(iP(this.paramsInheritanceStrategy,this.environmentInjector),Ce({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ct.NoDataFromResolver)}}))}),Ce(c=>{let u=new dp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),np(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ce(f=>{u.component=f}),N(()=>{})));for(let f of u.children)d.push(...c(f));return d};return Po(c(l.targetSnapshot.root)).pipe(jn(null),vn(1))}),np(()=>this.afterPreactivation()),oe(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?X(u).pipe(N(()=>o)):A(o)}),N(l=>{let c=yR(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=G(C({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Ce(()=>{this.events.next(new ps)}),ER(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),vn(1),Ce({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Gd(this.transitionAbortSubject.pipe(Ce(l=>{throw l}))),Cr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vn(l=>{if(a=!0,jE(l))this.events.next(new Tn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),wR(l)?this.events.next(new qi(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new hs(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=Dt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof ms){let{message:d,cancellationCode:f}=Rc(this.urlSerializer,u);this.events.next(new Tn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new qi(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=t.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return $e}))}))}cancelNavigationTransition(t,r,i){let o=new Tn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function mP(e){return e!==us}var vP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>_(yP),providedIn:"root"})}}return e})(),Mp=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},yP=(()=>{class e extends Mp{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})()}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ZE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:()=>_(_P),providedIn:"root"})}}return e})(),_P=(()=>{class e extends ZE{constructor(){super(...arguments),this.location=_(Li),this.urlSerializer=_(ws),this.options=_(Is,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(Pp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=OE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Gi)this.stateMemento=this.createStateMemento();else if(t instanceof tr)this.rawUrlTree=r.initialUrl;else if(t instanceof Sc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ps?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Tn&&(t.code===ct.GuardRejected||t.code===ct.NoDataFromResolver)?this.restoreHistory(r):t instanceof hs?this.restoreHistory(r,!0):t instanceof nn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Mn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=C(C({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=C(C({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})()}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ls=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ls||{});function QE(e,n){e.events.pipe(Pe(t=>t instanceof nn||t instanceof Tn||t instanceof hs||t instanceof tr),N(t=>t instanceof nn||t instanceof tr?ls.COMPLETE:(t instanceof Tn?t.code===ct.Redirect||t.code===ct.SupersededByNewNavigation:!1)?ls.REDIRECTING:ls.FAILED),Pe(t=>t!==ls.REDIRECTING),vn(1)).subscribe(()=>{n()})}function CP(e){throw e}var wP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},An=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(ac),this.stateManager=_(ZE),this.options=_(Is,{optional:!0})||{},this.pendingTasks=_(Zn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(Op),this.urlSerializer=_(ws),this.location=_(Li),this.urlHandlingStrategy=_(Pp),this._events=new ue,this.errorHandler=this.options.errorHandler||CP,this.navigated=!1,this.routeReuseStrategy=_(vP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(_s,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(kc,{optional:!0}),this.eventsSubscription=new ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Tn&&r.code!==ct.Redirect&&r.code!==ct.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nn)this.navigated=!0;else if(r instanceof qi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=C({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mP(i.source)},s);this.scheduleNavigation(a,us,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}bP(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),us,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=C({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Np),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=xE(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return NE(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=kr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,us,null,r)}navigate(t,r={skipLocationChange:!1}){return DP(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=C({},wP):r===!1?i=C({},EP):i=r,kr(t))return uE(this.currentUrlTree,t,i);let o=this.parseUrl(t);return uE(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return QE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function DP(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new x(4008,!1)}function bP(e){return!(e instanceof ps)&&!(e instanceof qi)}var KE=(()=>{class e{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof nn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(kr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:VC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:kr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(P(An),P(nr),uh("tabindex"),P(Xt),P(Ft),P(In))}}static{this.\u0275dir=ce({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&we("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Oi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Kn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Kn],replaceUrl:[2,"replaceUrl","replaceUrl",Kn],routerLink:"routerLink"},standalone:!0,features:[Mh,Kt]})}}return e})();var Oc=class{};var IP=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Pe(t=>t instanceof nn),mn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ic(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return X(i).pipe(Ln())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=A(null);let o=i.pipe(_e(s=>s===null?A(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return X([o,s]).pipe(Ln())}else return o})}static{this.\u0275fac=function(r){return new(r||e)(D(An),D(cc),D(ze),D(Oc),D(Rp))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JE=new b(""),SP=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof tr&&t.code===Ic.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Tc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){KC()}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function XE(e,...n){return Qt([{provide:_s,multi:!0,useValue:e},[],{provide:nr,useFactory:eD,deps:[An]},{provide:Ko,multi:!0,useFactory:tD},n.map(t=>t.\u0275providers)])}function eD(e){return e.routerState.root}function Ss(e,n){return{\u0275kind:e,\u0275providers:n}}function tD(){let e=_(Oe);return n=>{let t=e.get(Qn);if(n!==t.components[0])return;let r=e.get(An),i=e.get(nD);e.get(kp)===1&&r.initialNavigation(),e.get(rD,null,$.Optional)?.setUpPreloading(),e.get(JE,null,$.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nD=new b("",{factory:()=>new ue}),kp=new b("",{providedIn:"root",factory:()=>1});function TP(){return Ss(2,[{provide:kp,useValue:0},{provide:lc,multi:!0,deps:[Oe],useFactory:n=>{let t=n.get(jw,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=n.get(An),o=n.get(nD);QE(i,()=>{r(!0)}),n.get(Op).afterPreactivation=()=>(r(!0),o.closed?A(void 0):o),i.initialNavigation()}))}}])}function MP(){return Ss(3,[{provide:lc,multi:!0,useFactory:()=>{let n=_(An);return()=>{n.setUpLocationChangeListener()}}},{provide:kp,useValue:2}])}var rD=new b("");function AP(e){return Ss(0,[{provide:rD,useExisting:IP},{provide:Oc,useExisting:e}])}function xP(){return Ss(8,[pE,{provide:kc,useExisting:pE}])}function NP(e){let n=[{provide:qE,useValue:hP},{provide:YE,useValue:C({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ss(9,n)}var yE=new b("ROUTER_FORROOT_GUARD"),RP=[Li,{provide:ws,useClass:zi},An,Ds,{provide:nr,useFactory:eD,deps:[An]},Rp,[]],Fp=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[RP,[],{provide:_s,multi:!0,useValue:t},{provide:yE,useFactory:FP,deps:[[An,new Et,new T_]]},{provide:Is,useValue:r||{}},r?.useHash?OP():kP(),PP(),r?.preloadingStrategy?AP(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?LP(r):[],r?.bindToComponentInputs?xP().\u0275providers:[],r?.enableViewTransitions?NP().\u0275providers:[],VP()]}}static forChild(t){return{ngModule:e,providers:[{provide:_s,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(D(yE,8))}}static{this.\u0275mod=Ye({type:e})}static{this.\u0275inj=qe({})}}return e})();function PP(){return{provide:JE,useFactory:()=>{let e=_(Hw),n=_(Z),t=_(Is),r=_(Op),i=_(ws);return t.scrollOffset&&e.setOffset(t.scrollOffset),new SP(i,r,e,n,t)}}}function OP(){return{provide:In,useClass:Bw}}function kP(){return{provide:In,useClass:Vh}}function FP(e){return"guarded"}function LP(e){return[e.initialNavigation==="disabled"?MP().\u0275providers:[],e.initialNavigation==="enabledBlocking"?TP().\u0275providers:[]]}var _E=new b("");function VP(){return[{provide:_E,useFactory:tD},{provide:Ko,multi:!0,useExisting:_E}]}var ir=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=it({type:e,selectors:[["app-footer"]],standalone:!0,features:[ot],decls:34,vars:0,consts:[[1,"footer","bg-dark","text-white"],[1,"container"],[1,"row"],["href","/",1,"navbar-brand","mb-2"],["src","./assets/nahome-logo.png","alt","Brand Logo",2,"height","80px"],[1,"col-md-6"],[1,"social-media"],["href","#","title","Facebook",1,"text-white"],[1,"fab","fa-facebook-f"],["href","#","title","Twitter",1,"text-white"],[1,"fab","fa-twitter"],["href","#","title","Instagram",1,"text-white"],[1,"fab","fa-instagram"],[1,"map-overlay"],["src",LC`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d233130.2129384095!2d-105.1052480506229!3d39.7392358!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x876c7fa49db2f471%3A0x65cf100f4cc55ac!2sDenver%2C%20CO!5e0!3m2!1sen!2sus!4v1645087203192!5m2!1sen!2sus`,"width","100%","height","200","allowfullscreen","","loading","lazy",2,"border","0"],[1,"row","mt-4"]],template:function(t,r){t&1&&(h(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),S(4,"img",4),p(),h(5,"div",5)(6,"h3"),m(7,"We look Forward To Serving You!"),p(),h(8,"div",6)(9,"h5"),m(10,"Find us on Social Media"),p(),S(11,"br"),h(12,"a",7),S(13,"i",8),p(),h(14,"a",9),S(15,"i",10),p(),h(16,"a",11),S(17,"i",12),p()()(),h(18,"div",5)(19,"div",13),S(20,"iframe",14),p()()(),h(21,"div",15)(22,"div",5)(23,"h5"),m(24,"Contact Us"),p(),h(25,"p"),m(26,"Address: 123 Main St, City, Country"),p(),h(27,"p"),m(28,"Phone: (123) 456-7890"),p()(),h(29,"div",5)(30,"h5"),m(31,"Hours"),p(),h(32,"p"),m(33,"Mon-Sun: Anytime of pickup"),p()()()()())},styles:['.social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:15px;font-size:24px}.social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e8af44}.footer[_ngcontent-%COMP%]{padding:20px 0}.social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:35px}.map-overlay[_ngcontent-%COMP%]{position:relative;height:200px;overflow:hidden;border-radius:5px}.map-overlay[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}h5[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:20px 0}h5[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:-5px;height:2px;background-color:#e8af44}']})};var hD=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||e)(P(Xt),P(Ft))}}static{this.\u0275dir=ce({type:e})}}return e})(),Os=(()=>{class e extends hD{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})()}static{this.\u0275dir=ce({type:e,features:[ke]})}}return e})(),Fr=new b(""),jP={provide:Fr,useExisting:rt(()=>Hp),multi:!0},Hp=(()=>{class e extends Os{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})()}static{this.\u0275dir=ce({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[It([jP]),ke]})}}return e})(),UP={provide:Fr,useExisting:rt(()=>eo),multi:!0};function BP(){let e=bn()?bn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var $P=new b(""),eo=(()=>{class e extends hD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BP())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||e)(P(Xt),P(Ft),P($P,8))}}static{this.\u0275dir=ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[It([UP]),ke]})}}return e})();function pD(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var to=new b(""),zc=new b("");function HP(e){return pD(e.value)?{required:!0}:null}function WP(e){if(!e)return Lp;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(pD(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Lp(e){return null}function gD(e){return e!=null}function mD(e){return Nr(e)?X(e):e}function vD(e){let n={};return e.forEach(t=>{n=t!=null?C(C({},n),t):n}),Object.keys(n).length===0?null:n}function yD(e,n){return n.map(t=>t(e))}function zP(e){return!e.validate}function _D(e){return e.map(n=>zP(n)?n:t=>n.validate(t))}function GP(e){if(!e)return null;let n=e.filter(gD);return n.length==0?null:function(t){return vD(yD(t,n))}}function Wp(e){return e!=null?GP(_D(e)):null}function qP(e){if(!e)return null;let n=e.filter(gD);return n.length==0?null:function(t){let r=yD(t,n).map(mD);return jd(r).pipe(N(vD))}}function zp(e){return e!=null?qP(_D(e)):null}function iD(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function CD(e){return e._rawValidators}function wD(e){return e._rawAsyncValidators}function Vp(e){return e?Array.isArray(e)?e:[e]:[]}function Vc(e,n){return Array.isArray(e)?e.includes(n):e===n}function oD(e,n){let t=Vp(n);return Vp(e).forEach(i=>{Vc(t,i)||t.push(i)}),t}function sD(e,n){return Vp(n).filter(t=>!Vc(e,t))}var jc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Wp(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=zp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},xn=class extends jc{get formDirective(){return null}get path(){return null}},or=class extends jc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Uc=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},YP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},w8=G(C({},YP),{"[class.ng-submitted]":"isSubmitted"}),Gc=(()=>{class e extends Uc{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(P(or,2))}}static{this.\u0275dir=ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&oc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ke]})}}return e})(),qc=(()=>{class e extends Uc{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(P(xn,10))}}static{this.\u0275dir=ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&oc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ke]})}}return e})();var Ms="VALID",Lc="INVALID",Qi="PENDING",As="DISABLED",sr=class{},Bc=class extends sr{constructor(n,t){super(),this.value=n,this.source=t}},Ns=class extends sr{constructor(n,t){super(),this.pristine=n,this.source=t}},Rs=class extends sr{constructor(n,t){super(),this.touched=n,this.source=t}},Ki=class extends sr{constructor(n,t){super(),this.status=n,this.source=t}},jp=class extends sr{constructor(n){super(),this.source=n}},Up=class extends sr{constructor(n){super(),this.source=n}};function Gp(e){return(Yc(e)?e.validators:e)||null}function ZP(e){return Array.isArray(e)?Wp(e):e||null}function qp(e,n){return(Yc(n)?n.asyncValidators:e)||null}function QP(e){return Array.isArray(e)?zp(e):e||null}function Yc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function ED(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function DD(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new x(1002,"")})}var Ji=class{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ki(()=>this.statusReactive()),this.statusReactive=Pi(void 0),this._pristine=ki(()=>this.pristineReactive()),this.pristineReactive=Pi(!0),this._touched=ki(()=>this.touchedReactive()),this.touchedReactive=Pi(!1),this._events=new ue,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return en(this.statusReactive)}set status(n){en(()=>this.statusReactive.set(n))}get valid(){return this.status===Ms}get invalid(){return this.status===Lc}get pending(){return this.status==Qi}get disabled(){return this.status===As}get enabled(){return this.status!==As}get pristine(){return en(this.pristineReactive)}set pristine(n){en(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return en(this.touchedReactive)}set touched(n){en(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(oD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(oD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(sD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(sD(n,this._rawAsyncValidators))}hasValidator(n){return Vc(this._rawValidators,n)}hasAsyncValidator(n){return Vc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(G(C({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Rs(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Rs(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(G(C({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Ns(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Ns(!0,r))}markAsPending(n={}){this.status=Qi;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ki(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(G(C({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=As,this.errors=null,this._forEachChild(i=>{i.disable(G(C({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Bc(this.value,r)),this._events.next(new Ki(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(C({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ms,this._forEachChild(r=>{r.enable(G(C({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(G(C({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ms||this.status===Qi)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Bc(this.value,t)),this._events.next(new Ki(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(G(C({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?As:Ms}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Qi,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=mD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Ki(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?As:this.errors?Lc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qi)?Qi:this._anyControlsHaveStatus(Lc)?Lc:Ms}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new Ns(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Rs(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Yc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=ZP(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=QP(this._rawAsyncValidators)}},Xi=class extends Ji{constructor(n,t,r){super(Gp(t),qp(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){DD(this,!0,n),Object.keys(n).forEach(r=>{ED(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Bp=class extends Xi{};var no=new b("CallSetDisabledState",{providedIn:"root",factory:()=>ks}),ks="always";function bD(e,n){return[...n.path,e]}function $c(e,n,t=ks){Yp(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),JP(e,n),eO(e,n),XP(e,n),KP(e,n)}function aD(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Wc(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Hc(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function KP(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function Yp(e,n){let t=CD(e);n.validator!==null?e.setValidators(iD(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=wD(e);n.asyncValidator!==null?e.setAsyncValidators(iD(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Hc(n._rawValidators,i),Hc(n._rawAsyncValidators,i)}function Wc(e,n){let t=!1;if(e!==null){if(n.validator!==null){let i=CD(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let i=wD(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}let r=()=>{};return Hc(n._rawValidators,r),Hc(n._rawAsyncValidators,r),t}function JP(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ID(e,n)})}function XP(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ID(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function ID(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function eO(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function SD(e,n){e==null,Yp(e,n)}function tO(e,n){return Wc(e,n)}function TD(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function nO(e){return Object.getPrototypeOf(e.constructor)===Os}function MD(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function AD(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===eo?t=o:nO(o)?r=o:i=o}),i||r||t||null}function rO(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var iO={provide:xn,useExisting:rt(()=>Zp)},xs=Promise.resolve(),Zp=(()=>{class e extends xn{get submitted(){return en(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ki(()=>this.submittedReactive()),this.submittedReactive=Pi(!1),this._directives=new Set,this.ngSubmit=new me,this.form=new Xi({},Wp(t),zp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xs.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$c(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xs.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xs.then(()=>{let r=this._findContainer(t.path),i=new Xi({});SD(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xs.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){xs.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),MD(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||e)(P(to,10),P(zc,10),P(no,8))}}static{this.\u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[It([iO]),ke]})}}return e})();function lD(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function cD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ps=class extends Ji{constructor(n=null,t,r){super(Gp(t),qp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(cD(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){lD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){lD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){cD(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var oO=e=>e instanceof Ps;var sO={provide:or,useExisting:rt(()=>Qp)},uD=Promise.resolve(),Qp=(()=>{class e extends or{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Ps,this._registered=!1,this.name="",this.update=new me,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=AD(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),TD(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$c(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){uD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Kn(r);uD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?bD(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||e)(P(xn,9),P(to,10),P(zc,10),P(Fr,10),P(Rr,8),P(no,8))}}static{this.\u0275dir=ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[It([sO]),ke,Kt]})}}return e})(),Zc=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();var aO={provide:Fr,useExisting:rt(()=>Kp),multi:!0};var lO=(()=>{class e{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Kp=(()=>{class e extends Os{constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=_(no,{optional:!0})??ks}ngOnInit(){this._control=this._injector.get(or),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||e)(P(Xt),P(Ft),P(lO),P(Oe))}}static{this.\u0275dir=ce({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&we("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[It([aO]),ke]})}}return e})();var xD=new b("");var cO={provide:xn,useExisting:rt(()=>Jp)},Jp=(()=>{class e extends xn{get submitted(){return en(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ki(()=>this._submittedReactive()),this._submittedReactive=Pi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new me,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return $c(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){aD(t.control||null,t,!1),rO(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),MD(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new jp(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Up(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(aD(r||null,t),oO(i)&&($c(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);SD(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&tO(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yp(this.form,this),this._oldForm&&Wc(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||e)(P(to,10),P(zc,10),P(no,8))}}static{this.\u0275dir=ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[It([cO]),ke,Kt]})}}return e})();var uO={provide:or,useExisting:rt(()=>Xp)},Xp=(()=>{class e extends or{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new me,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=AD(this,o)}ngOnChanges(t){this._added||this._setUpControl(),TD(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return bD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(P(xn,13),P(to,10),P(zc,10),P(Fr,10),P(xD,8))}}static{this.\u0275dir=ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[It([uO]),ke,Kt]})}}return e})(),dO={provide:Fr,useExisting:rt(()=>Qc),multi:!0};function ND(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function fO(e){return e.split(":")[0]}var Qc=(()=>{class e extends Os{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=ND(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=fO(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})()}static{this.\u0275dir=ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[It([dO]),ke]})}}return e})(),RD=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ND(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(P(Ft),P(Xt),P(Qc,9))}}static{this.\u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),hO={provide:Fr,useExisting:rt(()=>PD),multi:!0};function dD(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function pO(e){return e.split(":")[0]}var PD=(()=>{class e extends Os{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=pO(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})()}static{this.\u0275dir=ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[It([hO]),ke]})}}return e})(),OD=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(dD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(dD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(P(Ft),P(Xt),P(PD,9))}}static{this.\u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();var kD=(()=>{class e{constructor(){this._validator=Lp}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Lp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ce({type:e,features:[Kt]})}}return e})();var gO={provide:to,useExisting:rt(()=>Fs),multi:!0};var Fs=(()=>{class e extends kD{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Kn,this.createValidator=t=>HP}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})()}static{this.\u0275dir=ce({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Oi("required",i._enabled?"":null)},inputs:{required:"required"},features:[It([gO]),ke]})}}return e})();var mO={provide:to,useExisting:rt(()=>eg),multi:!0},eg=(()=>{class e extends kD{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>WP(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})()}static{this.\u0275dir=ce({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Oi("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[It([mO]),ke]})}}return e})();var FD=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ye({type:e})}static{this.\u0275inj=qe({})}}return e})(),$p=class extends Ji{constructor(n,t,r){super(Gp(t),qp(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){DD(this,!1,n),n.forEach((r,i)=>{ED(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function fD(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var LD=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return fD(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xi(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Bp(i,r)}control(t,r,i){let o={};return this.useNonNullable?(fD(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ps(t,G(C({},o),{nonNullable:!0}))):new Ps(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new $p(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ps)return t;if(t instanceof Ji)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var VD=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:no,useValue:t.callSetDisabledState??ks}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ye({type:e})}static{this.\u0275inj=qe({imports:[FD]})}}return e})(),jD=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:xD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:no,useValue:t.callSetDisabledState??ks}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ye({type:e})}static{this.\u0275inj=qe({imports:[FD]})}}return e})();var Tt=class{constructor(n=0,t="Network Error"){this.status=n,this.text=t}};var BD=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,n)=>Promise.resolve(localStorage.setItem(e,n)),remove:e=>Promise.resolve(localStorage.removeItem(e))}};var ve={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:BD()};var ro=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{};var $D=(e,n="https://api.emailjs.com")=>{if(!e)return;let t=ro(e);ve.publicKey=t.publicKey,ve.blockHeadless=t.blockHeadless,ve.storageProvider=t.storageProvider,ve.blockList=t.blockList,ve.limitRate=t.limitRate,ve.origin=t.origin||n};var Kc=(r,i,...o)=>ae(void 0,[r,i,...o],function*(e,n,t={}){let s=yield fetch(ve.origin+e,{method:"POST",headers:t,body:n}),a=yield s.text(),l=new Tt(s.status,a);if(s.ok)return l;throw l});var Jc=(e,n,t)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!n||typeof n!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var HD=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var Xc=e=>e.webdriver||!e.languages||e.languages.length===0;var eu=()=>new Tt(451,"Unavailable For Headless Browser");var WD=(e,n)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof n!="string")throw"The BlockList watchVariable has to be a string"};var vO=e=>!e.list?.length||!e.watchVariable,yO=(e,n)=>e instanceof FormData?e.get(n):e[n],tu=(e,n)=>{if(vO(e))return!1;WD(e.list,e.watchVariable);let t=yO(n,e.watchVariable);return typeof t!="string"?!1:e.list.includes(t)};var nu=()=>new Tt(403,"Forbidden");var zD=(e,n)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(n&&typeof n!="string")throw"The LimitRate ID has to be a non-empty string"};var _O=(e,n,t)=>ae(void 0,null,function*(){let r=Number((yield t.get(e))||0);return n-Date.now()+r}),ru=(e,n,t)=>ae(void 0,null,function*(){if(!n.throttle||!t)return!1;zD(n.throttle,n.id);let r=n.id||e;return(yield _O(r,n.throttle,t))>0?!0:(yield t.set(r,Date.now().toString()),!1)});var iu=()=>new Tt(429,"Too Many Requests");var GD=(e,n,t,r)=>ae(void 0,null,function*(){let i=ro(r),o=i.publicKey||ve.publicKey,s=i.blockHeadless||ve.blockHeadless,a=i.storageProvider||ve.storageProvider,l=C(C({},ve.blockList),i.blockList),c=C(C({},ve.limitRate),i.limitRate);return s&&Xc(navigator)?Promise.reject(eu()):(Jc(o,e,n),HD(t),t&&tu(l,t)?Promise.reject(nu()):(yield ru(location.pathname,c,a))?Promise.reject(iu()):Kc("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:e,template_id:n,template_params:t}),{"Content-type":"application/json"}))});var qD=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var CO=e=>typeof e=="string"?document.querySelector(e):e,YD=(e,n,t,r)=>ae(void 0,null,function*(){let i=ro(r),o=i.publicKey||ve.publicKey,s=i.blockHeadless||ve.blockHeadless,a=ve.storageProvider||i.storageProvider,l=C(C({},ve.blockList),i.blockList),c=C(C({},ve.limitRate),i.limitRate);if(s&&Xc(navigator))return Promise.reject(eu());let u=CO(t);Jc(o,e,n),qD(u);let d=new FormData(u);return tu(l,d)?Promise.reject(nu()):(yield ru(location.pathname,c,a))?Promise.reject(iu()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",n),d.append("user_id",o),Kc("/api/v1.0/email/send-form",d))});var tg={init:$D,send:GD,sendForm:YD,EmailJSResponseStatus:Tt};var ou=class e{constructor(n){this.fb=n;this.form=this.fb.group({from_name:"",to_name:"admin",from_email:"",from_message:""})}form;send(){return ae(this,null,function*(){tg.init("6By1enMFeieSwMnOW");try{let n=document.createElement("div");n.style.position="fixed",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.backgroundColor="#00000088",n.style.color="white",n.style.padding="20px",n.style.borderRadius="10px",n.style.zIndex="1000",n.innerHTML="Sending message...",document.body.appendChild(n);let t=yield tg.send("service_2351vj5","template_qrwqide",{from_name:this.form.value.from_name,to_name:this.form.value.to_name,from_email:this.form.value.from_email,message:this.form.value.from_message});n.innerHTML="Message has been sent!",yield new Promise(r=>setTimeout(r,2e3)),document.body.removeChild(n),this.form.reset()}catch{alert("Failed to send the message. Please try again.")}})}static \u0275fac=function(t){return new(t||e)(P(LD))};static \u0275cmp=it({type:e,selectors:[["app-contact-page"]],standalone:!0,features:[ot],decls:27,vars:1,consts:[[1,"hero","text-center","text-white","d-flex","align-items-center","justify-content-center",2,"background-color","#343a40","height","300px"],[1,"display-4","font-weight-bold"],[1,"highlight"],[1,"lead",2,"color","#E8AF44"],[1,"container",3,"formGroup"],[1,"text-center"],["action","javascript:void(0)",3,"submit"],[1,"form-group"],["for","name"],["formControlName","from_name","id","name","placeholder","Enter full name","required","",1,"form-control"],[1,"form-group","mt-2"],["for","email"],["formControlName","from_email","type","email","id","email","placeholder","your@email.com","required","",1,"form-control"],["for","message"],["formControlName","from_message","id","message","rows","3","placeholder","Enter your questions","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","mt-3"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"div")(2,"h1",1),m(3,"We Love to Hear from you. "),S(4,"br")(5,"span",2),p(),h(6,"p",3),m(7,"Nahome Limo Service"),p()()(),h(8,"div",4)(9,"h2",5),m(10,"Drop us a Line!"),p(),h(11,"form",6),we("submit",function(){return r.send()}),h(12,"div",7)(13,"label",8),m(14,"Name:"),p(),S(15,"input",9),p(),h(16,"div",10)(17,"label",11),m(18,"Email:"),p(),S(19,"input",12),p(),h(20,"div",10)(21,"label",13),m(22,"Message:"),p(),S(23,"textarea",14),p(),h(24,"button",15),m(25,"Send"),p()()(),S(26,"app-footer")),t&2&&(de(8),Lt("formGroup",r.form))},dependencies:[ir,jD,Zc,eo,Gc,qc,Fs,Jp,Xp],styles:[".container[_ngcontent-%COMP%]{max-width:900px;margin:10px auto;background-color:#e8af44;padding:20px;border:27px solid #ffcb68!important}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#000;border:none}.btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#e8af44;border:none}"]})};function wO(e,n){if(e&1){let t=Dw();h(0,"div",61)(1,"div",62)(2,"label",63),m(3,"Select Region"),p(),h(4,"div",53)(5,"input",64),Le("ngModelChange",function(i){th(t);let o=Qo();return Qe(o.locationOption,i)||(o.locationOption=i),nh(i)}),p(),h(6,"label",65),m(7,"West"),p()(),h(8,"div",53)(9,"input",66),Le("ngModelChange",function(i){th(t);let o=Qo();return Qe(o.locationOption,i)||(o.locationOption=i),nh(i)}),p(),h(10,"label",67),m(11,"East"),p()()()()}if(e&2){let t=Qo();de(5),Fe("ngModel",t.locationOption),de(4),Fe("ngModel",t.locationOption)}}function EO(e,n){if(e&1&&(h(0,"div",68)(1,"p")(2,"strong"),m(3,"City:"),p(),m(4),p()()),e&2){let t=Qo();de(4),sc(" ",t.city,"")}}function DO(e,n){e&1&&(h(0,"div",69),m(1," Please enter a valid phone number (numbers only). "),p())}function bO(e,n){e&1&&(h(0,"div",69),m(1," Please enter a valid email address. "),p())}function IO(e,n){e&1&&(h(0,"div",70)(1,"label",71),m(2,"Date Of Service"),p(),S(3,"input",72),h(4,"label",73),m(5,"PickUp Time"),p(),S(6,"input",74),p())}var su=class e{vehicleType;passengerCount;ngOnInit(){let n=new Date;this.currentDate=n.toISOString().split("T")[0];let t=n.getHours().toString().padStart(2,"0"),r=n.getMinutes().toString().padStart(2,"0");this.currentTime=`${t}:${r}`}passengerPhone="";phoneNumberValid=!0;emailValid=!0;isRoundTrip=!1;passengerEmail="";pickupDate="";pickupTime="";currentDate="";currentTime="";pickupLocation="";dropoffLocation="";passengerName="";price="Please select Pickup ,Drop location and Vehicle type to get the price";locationOption="";isDIASelected=!1;city="";state="";exactPickupAddress="";exactDropOffAddress="";onDIASelectionChange(){this.isDIASelected?this.pickupLocation="1":this.pickupLocation=""}calculatePrice(){console.log(this.pickupLocation,this.dropoffLocation),(!this.pickupLocation||!this.dropoffLocation||!this.vehicleType)&&(this.price="Please select Pickup ,Drop location and Vehicle type to get the price"),this.price=this.getPrice(this.pickupLocation,this.dropoffLocation,this.vehicleType)}getPrice(n,t,r){if(n){if(!t)return"Please select DropOff Location to get the price"}else return"Please select Pickup Location to get the price";let i={"den-denverdowntown":{sedan:100,suv:125},"den-denver":{sedan:100,suv:125},"den-littleton":{sedan:125,suv:150},"den-lakewood":{sedan:125,suv:150},"den-boulder":{sedan:135,toll:15,suv:165},"den-castlerock":{sedan:155,toll:15,suv:195},"den-arvada":{sedan:125,suv:150},"den-broomfield":{sedan:135,toll:15,suv:155},"den-coloradosprings":{sedan:225,toll:15,suv:275}},o=n.toLowerCase().split(" ").join("")+"-"+t.toLowerCase().split(" ").join(""),s=t.toLowerCase().split(" ").join("")+"-"+n.toLowerCase().split(" ").join("");if(i[o]||i[s]){let a=0;return r?(i[o]?i[o].toll?a=i[o][r]+i[o].toll:a=i[o][r]:i[s].toll?a=i[s][r]+i[s].toll:a=i[s][r],this.isRoundTrip?a*2:a):"Please select Vehicle type to get the price"}else return`Route from '${n}' to '${t}' not found.`}normalizeRoute(n,t){let r=[n,t].sort();return`${r[0]} to ${r[1]}`}extractCity(){if(this.dropoffLocation){let n=this.dropoffLocation.split(",");n.length>0?(this.city=n[0].trim(),this.state=n.length>1?n[1].trim():""):this.city=""}}validatePhoneNumber(){let n=/[a-zA-Z]/.test(this.passengerPhone);this.phoneNumberValid=!n}validateEmail(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;this.emailValid=n.test(this.passengerEmail)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=it({type:e,selectors:[["app-limo-booking"]],standalone:!0,features:[ot],decls:140,vars:20,consts:[[1,"container","mt-3","mb-3"],[1,"text-center","mb-4"],[1,"row"],[1,"col-md-6","mb-3"],["for","pickupLocation",1,"form-label"],["id","vehicleType","name","pickupLocation","required","",1,"form-control","mb-3",3,"change","ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","DEN"],["value","Denver Downtown"],["value","Denver"],["value","Littleton"],["value","Lakewood"],["value","Boulder"],["value","Castlerock"],["value","Arvada"],["value","BROOMFIELD"],["value","Colorado Springs"],["for","exactPickupAddress",1,"form-label"],["type","text","id","exactPickupAddress","name","exactPickupAddress","placeholder","Enter Exact Pick Up Address","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","row mt-2",4,"ngIf"],["for","dropoffLocation",1,"form-label"],["id","vehicleType","name","dropoffLocation","required","",1,"form-control","mb-3",3,"change","ngModelChange","ngModel"],["for","exactDropOffAddress",1,"form-label"],["type","text","id","exactDropOffAddress","name","exactDropOffAddress","placeholder","Enter Exact Drop Off Address","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","mt-2",4,"ngIf"],["for","passengerName",1,"form-label"],["type","text","id","passengerName","name","passengerName","placeholder","Enter passenger name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","passengerPhone",1,"form-label"],["type","tel","id","passengerPhone","placeholder","Enter phone number","required","","name","phone","pattern","[0-9]*",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","passengerEmail",1,"form-label"],["type","email","id","passengerEmail","placeholder","Enter email address","required","","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","pickupDate",1,"form-label"],["type","date","id","pickupDate","required","","name","pickupDate",1,"form-control",3,"ngModelChange","ngModel","min"],["for","pickupTime",1,"form-label"],["type","time","id","pickupTime","required","","name","pickupTime",1,"form-control",3,"ngModelChange","ngModel","min"],[1,"col-md-3","mb-3"],["for","vehicleType",1,"form-label"],["id","vehicleType","name","vehicleType","required","",1,"form-control",3,"change","ngModelChange","ngModel"],["value","sedan"],["value","suv"],["for","passengerCount",1,"form-label"],["id","passengerCount","name","passengerCount","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],[1,"col-md-3","mb-3","d-flex","align-items-center"],[1,"form-group"],[1,"form-check"],["type","checkbox","id","roundTrip","name","roundTrip",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","roundTrip",1,"form-check-label"],["class","mt-3",4,"ngIf"],["for","price",1,"form-label"],[1,"form-control-plaintext"],[1,"d-grid","mt-3"],["type","submit",1,"btn","btn-primary"],[1,"row","mt-2"],[1,"col-md-12"],[1,"form-label"],["type","radio","id","west","name","region","value","west",1,"form-check-input",3,"ngModelChange","ngModel"],["for","west",1,"form-check-label"],["type","radio","id","east","name","region","value","east",1,"form-check-input",3,"ngModelChange","ngModel"],["for","east",1,"form-check-label"],[1,"mt-2"],[1,"text-danger"],[1,"mt-3"],["for","firstDate"],["type","date","id","firstDate","name","firstDate",1,"form-control"],["for","lastDate",1,"mt-2"],["type","time","id","lastDate","name","lastDate",1,"form-control"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"h3",1),m(2,"Pick Up and Drop Off Form"),p(),h(3,"form")(4,"div",2)(5,"div",3)(6,"label",4),m(7,"Pick Up Location"),p(),h(8,"select",5),we("change",function(){return r.calculatePrice()}),Le("ngModelChange",function(o){return Qe(r.pickupLocation,o)||(r.pickupLocation=o),o}),h(9,"option",6),m(10,"Select Pickup Area"),p(),h(11,"option",7),m(12,"DEN (Airport)"),p(),h(13,"option",8),m(14,"Denver Downtown"),p(),h(15,"option",9),m(16,"Denver"),p(),h(17,"option",10),m(18,"Littleton"),p(),h(19,"option",11),m(20,"Lakewood"),p(),h(21,"option",12),m(22,"Boulder"),p(),h(23,"option",13),m(24,"Castlerock"),p(),h(25,"option",14),m(26,"Arvada"),p(),h(27,"option",15),m(28,"BROOMFIELD"),p(),h(29,"option",16),m(30,"Colorado Springs"),p()(),h(31,"label",17),m(32,"Exact Pickup Address"),p(),h(33,"input",18),Le("ngModelChange",function(o){return Qe(r.exactPickupAddress,o)||(r.exactPickupAddress=o),o}),p(),xr(34,wO,12,2,"div",19),p(),h(35,"div",3)(36,"label",20),m(37,"Drop Off Location"),p(),h(38,"select",21),we("change",function(){return r.calculatePrice()}),Le("ngModelChange",function(o){return Qe(r.dropoffLocation,o)||(r.dropoffLocation=o),o}),h(39,"option",6),m(40,"Select Drop Off Area"),p(),h(41,"option",7),m(42,"DEN (Airport)"),p(),h(43,"option",8),m(44,"Denver Downtown"),p(),h(45,"option",9),m(46,"Denver"),p(),h(47,"option",10),m(48,"Littleton"),p(),h(49,"option",11),m(50,"Lakewood"),p(),h(51,"option",12),m(52,"Boulder"),p(),h(53,"option",13),m(54,"Castlerock"),p(),h(55,"option",14),m(56,"Arvada"),p(),h(57,"option",15),m(58,"BROOMFIELD"),p(),h(59,"option",16),m(60,"Colorado Springs"),p()(),h(61,"label",22),m(62,"Exact Drop Off Address"),p(),h(63,"input",23),Le("ngModelChange",function(o){return Qe(r.exactDropOffAddress,o)||(r.exactDropOffAddress=o),o}),p(),xr(64,EO,5,1,"div",24),p()(),h(65,"div",2)(66,"div",3)(67,"label",25),m(68,"Passenger Name"),p(),h(69,"input",26),Le("ngModelChange",function(o){return Qe(r.passengerName,o)||(r.passengerName=o),o}),p()(),h(70,"div",3)(71,"label",27),m(72,"Phone Number"),p(),h(73,"input",28),Le("ngModelChange",function(o){return Qe(r.passengerPhone,o)||(r.passengerPhone=o),o}),we("ngModelChange",function(){return r.validatePhoneNumber()}),p(),xr(74,DO,2,0,"div",29),p()(),h(75,"div",2)(76,"div",3)(77,"label",30),m(78,"Email Address"),p(),h(79,"input",31),Le("ngModelChange",function(o){return Qe(r.passengerEmail,o)||(r.passengerEmail=o),o}),we("ngModelChange",function(){return r.validateEmail()}),p(),xr(80,bO,2,0,"div",29),p(),h(81,"div",3)(82,"div",2)(83,"div",3)(84,"label",32),m(85,"Pick Up Date"),p(),h(86,"input",33),Le("ngModelChange",function(o){return Qe(r.pickupDate,o)||(r.pickupDate=o),o}),p()(),h(87,"div",3)(88,"label",34),m(89,"Pick Up Time"),p(),h(90,"input",35),Le("ngModelChange",function(o){return Qe(r.pickupTime,o)||(r.pickupTime=o),o}),p()()()()(),h(91,"div",2)(92,"div",36)(93,"label",37),m(94,"Vehicle Type"),p(),h(95,"select",38),we("change",function(){return r.calculatePrice()}),Le("ngModelChange",function(o){return Qe(r.vehicleType,o)||(r.vehicleType=o),o}),h(96,"option",6),m(97,"Select vehicle type"),p(),h(98,"option",39),m(99,"Sedan"),p(),h(100,"option",40),m(101,"SUV"),p()()(),h(102,"div",36)(103,"label",41),m(104,"How Many Passengers"),p(),h(105,"select",42),Le("ngModelChange",function(o){return Qe(r.passengerCount,o)||(r.passengerCount=o),o}),h(106,"option",6),m(107,"Choose number of passengers"),p(),h(108,"option",43),m(109,"1"),p(),h(110,"option",44),m(111,"2"),p(),h(112,"option",45),m(113,"3"),p(),h(114,"option",46),m(115,"4"),p(),h(116,"option",47),m(117,"5"),p(),h(118,"option",48),m(119,"6"),p(),h(120,"option",49),m(121,"7"),p(),h(122,"option",50),m(123,"8"),p()()(),h(124,"div",51)(125,"div",52)(126,"div",53)(127,"input",54),Le("ngModelChange",function(o){return Qe(r.isRoundTrip,o)||(r.isRoundTrip=o),o}),we("change",function(){return r.calculatePrice()}),p(),h(128,"label",55),m(129,"Round Trip"),p()()()(),h(130,"div",36),xr(131,IO,7,0,"div",56),p()(),h(132,"div")(133,"label",57),m(134,"Price"),p(),h(135,"div",58),m(136),p()(),h(137,"div",59)(138,"button",60),m(139,"Submit"),p()()()()),t&2&&(de(8),Fe("ngModel",r.pickupLocation),de(25),Fe("ngModel",r.exactPickupAddress),de(),Lt("ngIf",r.pickupLocation==="DEN"),de(4),Fe("ngModel",r.dropoffLocation),de(25),Fe("ngModel",r.exactDropOffAddress),de(),Lt("ngIf",r.city),de(5),Fe("ngModel",r.passengerName),de(4),Fe("ngModel",r.passengerPhone),de(),Lt("ngIf",r.passengerPhone&&!r.phoneNumberValid),de(5),Fe("ngModel",r.passengerEmail),de(),Lt("ngIf",r.passengerEmail&&!r.emailValid),de(6),Fe("ngModel",r.pickupDate),Lt("min",r.currentDate),de(4),Fe("ngModel",r.pickupTime),Lt("min",r.currentTime),de(5),Fe("ngModel",r.vehicleType),de(10),Fe("ngModel",r.passengerCount),de(22),Fe("ngModel",r.isRoundTrip),de(4),Lt("ngIf",r.isRoundTrip),de(5),sc(" ",r.price," "))},dependencies:[VD,Zc,RD,OD,eo,Hp,Qc,Kp,Gc,qc,Fs,eg,Qp,Zp,Jo,$w],styles:["button[_ngcontent-%COMP%]{border:1px solid #000;background-color:#fff;color:#000}button[_ngcontent-%COMP%]{border:1px solid #DA9100;background-color:#fff;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid #DA9100}button[_ngcontent-%COMP%]:hover{background-color:#da9100;color:#000;border:none}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-box[_ngcontent-%COMP%]{background-color:#fff;padding:20px;width:300px;text-align:center;box-shadow:0 4px 8px #0000004d;border-radius:8px}.popup-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;font-size:16px}.popup-box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.submitbtn[_ngcontent-%COMP%]{width:13%}.autocomplete-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;border:1px solid #ccc;max-height:150px;overflow-y:auto;position:absolute;background-color:#fff;z-index:1000;width:100%}.autocomplete-item[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer}.autocomplete-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]})};var au=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=it({type:e,selectors:[["app-namhome-home"]],standalone:!0,features:[ot],decls:211,vars:0,consts:[[1,""],["src","/assets/nahome-gif.png","alt","Animated GIF",2,"width","100%","border-radius","0"],[1,"py-5","bg-light"],[1,"container","text-center"],[1,"mb-4"],[1,"container"],[1,"row","g-0"],[1,"col-md-6"],["src","/assets/cadillac-xts-removebg-preview.png","alt","Image 1",1,"img-fluid"],["src","/assets/23Chevy-Suburban-HighCountry-Black-Jellybean.png","alt","Image 2",1,"img-fluid"],["href","#contact",1,"btn","btn-primary"],[1,"row","justify-content-center"],[1,"col-md-4","mb-3"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fas","fa-phone-alt","fa-2x","mr-3","text-primary"],[1,"mb-1"],[1,"h5","font-weight-bold"],[1,"fas","fa-envelope","fa-2x","mr-3","text-primary"],["href","mailto:info@limoservice.com",1,"h5","font-weight-bold","pl-2"],[1,"container","my-5"],[1,"row","align-items-center","mb-4"],[1,"col-md-6","d-flex","mb-3","mb-md-0"],["src","/assets/airport.jpeg","alt","Service Image",1,"img-fluid","me-3",2,"width","200px","height","154px"],["href","#",1,"text-decoration-none"],[1,"fas","fa-arrow-right"],["src","/assets/bolder.jpeg","alt","Service Image",1,"img-fluid","me-3",2,"width","200px","height","154px"],[1,"row","align-items-center"],["src","/assets/downtown.jpeg","alt","Service Image",1,"img-fluid","me-3",2,"width","200px","height","154px"],[1,"col-md-6","d-flex"],["src","/assets/spring.jpeg","alt","Service Image",1,"img-fluid","me-3",2,"width","200px","height","154px"],[1,"container-fluid","service-screen"],[1,"col-md-6","mb-4","mb-md-0"],["src","./assets/lim-1.png","alt","sedan_Image",1,"img-fluid","w-100","mt-2",2,"border-radius","20px"],[1,"col-md-6","text-center","text-md-left"],[1,"mb-3"],[1,"lead"],[1,"mt-4"],[1,"row","gy-4"],[1,"col-md-4","col-sm-12"],[1,"p-4","border","rounded","text-center"],[1,"text-muted"],["href","tel:+13031234567",1,"btn","btn-primary","w-100"],["src","/assets/image-removebg-preview (1).png","alt","Car Image 2",1,"img-fluid"],["href","tel:+13037654321",1,"btn","btn-primary","w-100"],["src","./assets/suv-cadlilac.png","alt","Car Image 3",1,"img-fluid","mb-3",2,"margin-bottom","0rem !important"],["href","tel:+13039876543",1,"btn","btn-primary","w-100",2,"background-color","#3e3e3e"],[1,"container","mt-5","Testimonial"],[1,"text-center","p-3",2,"color","white"],["id","testimonialCarousel","data-bs-ride","carousel",1,"carousel","slide","m-2"],[1,"carousel-inner"],[1,"carousel-item","active"],[1,"row"],[1,"col-md-4"],[1,"card"],[1,"card-body","text-center"],[1,"card-text"],[1,"card-title"],[1,"carousel-item"],["type","button","data-bs-target","#testimonialCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#testimonialCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,r){t&1&&(h(0,"div",0),S(1,"img",1),p(),S(2,"app-limo-booking"),h(3,"section",2)(4,"div",3)(5,"h2",4),m(6,"Nahome Limo Services"),p(),h(7,"p",4),m(8," Do You Require A Limo Service? Experience luxury and comfort with our "),S(9,"br"),m(10,"professional limo services, ensuring a seamless, elegant journey for special occasions,"),S(11,"br"),m(12," business trips, or airport transfers. "),p(),h(13,"div",5)(14,"div",6)(15,"div",7),S(16,"img",8),p(),h(17,"div",7),S(18,"img",9),p()()(),h(19,"a",10),m(20,"Book Your Ride Today"),p(),h(21,"div",11)(22,"div",12)(23,"div",13),S(24,"i",14),h(25,"div")(26,"p",15),m(27,"Call Us"),p(),h(28,"p",16),m(29,"+1 (720) 456-7890"),p()()()(),h(30,"div",12)(31,"div",13),S(32,"i",17),h(33,"div")(34,"p",15),m(35,"Email Us"),p(),h(36,"p",16)(37,"a",18),m(38,"info@limoservice.com"),p()()()()()(),h(39,"div",19)(40,"div",20)(41,"div",21),S(42,"img",22),h(43,"div")(44,"h4"),m(45,"Airport Services"),p(),h(46,"p",0),m(47,"Denver International Airport (DIA): Known for its iconic tented roof and being the largest airport in the United States by land area."),p(),h(48,"a",23),S(49,"i",24),p()()(),h(50,"div",21),S(51,"img",25),h(52,"div")(53,"h4"),m(54,"Bolder, CO"),p(),h(55,"p",0),m(56,"Famous for its outdoor activities, scenic views, and the University of Colorado."),p(),h(57,"a",23),S(58,"i",24),p()()()(),h(59,"div",26)(60,"div",21),S(61,"img",27),h(62,"div")(63,"h4"),m(64,"Downtown Denver"),p(),h(65,"p",0),m(66,"Famous for its vibrant cultural scene, historic architecture, and thriving craft beer industry."),p(),h(67,"a",23),S(68,"i",24),p()()(),h(69,"div",28),S(70,"img",29),h(71,"div")(72,"h4"),m(73,"Colorado Spring, CO"),p(),h(74,"p",0),m(75," Known for the Garden of the Gods park and the nearby Pikes Peak."),p(),h(76,"a",23),S(77,"i",24),p()()()()()()(),h(78,"div",30)(79,"div",26)(80,"div",31),S(81,"img",32),p(),h(82,"div",33)(83,"h2",34),m(84,"Our Services Pricing"),p(),h(85,"p",35),m(86," Covering Denver and Metro for over 3 years Customer Satisfaction is guarantee "),p(),h(87,"p",35),m(88,"Take a look at everything we cover: "),S(89,"br"),m(90," DEN to Denver Downtown Sedan $100 / SUV $125 "),S(91,"br"),m(92," DEN to Denver Sedan $100 SUV $125 "),S(93,"br"),m(94," DEN to Littleton Sedan $125 / SUV $150 "),S(95,"br"),m(96," DEN to Lakewood Sedan $125 / SUV $150 "),S(97,"br"),m(98," DEN to Boulder Sedan $135 plus Toll SUV $165 / plus Toll $15 "),S(99,"br"),m(100," DEN to Castlerock Sedan $155 / plus Toll $15 / SUV $195 / Plus Toll $15 "),S(101,"br"),m(102," DEN to Arvada Sedan $125 SUV $150 "),S(103,"br"),m(104," DEN to BROOMFIELD Sedan $135 plus Tall $15 SUV $155 / plus toll $15 "),S(105,"br"),m(106," DEN to Colorado Springs Sedan $225 plus toll $15 SUV $275 / plus toll $15 "),S(107,"br"),p(),h(108,"h5",36),m(109,"* Note: Toll or express freeway are extra changes will apply."),p()()()(),h(110,"div",19)(111,"div",37)(112,"div",38)(113,"div",39),S(114,"img",9),h(115,"h4"),m(116,"Suburban"),p(),h(117,"p",40),m(118,"Full-Size SUV"),p(),h(119,"a",41),m(120,"Call: 303-123-4567"),p()()(),h(121,"div",38)(122,"div",39),S(123,"img",42),h(124,"h4"),m(125,"Cadillac Sedan "),p(),h(126,"p",40),m(127,"5-Seats"),p(),h(128,"a",43),m(129,"Call: 303-123-4567"),p()()(),h(130,"div",38)(131,"div",39),S(132,"img",44),h(133,"h4"),m(134,"Cadillac Escalade"),p(),h(135,"p",40),m(136,"Premium Luxury"),p(),h(137,"a",45),m(138,"Call: 303-123-4567"),p()()()()(),h(139,"div",46)(140,"h2",47),m(141,"What Our Customers Say"),p(),h(142,"div",48)(143,"div",49)(144,"div",50)(145,"div",51)(146,"div",52)(147,"div",53)(148,"div",54)(149,"p",55),m(150,'"Amazing service! The limo was spotless, and the driver was so professional."'),p(),h(151,"h5",56),m(152,"- Sarah J."),p(),h(153,"p",0),m(154,"New York City"),p()()()(),h(155,"div",52)(156,"div",53)(157,"div",54)(158,"p",55),m(159,'"Best limo service in town! Easy booking and comfortable ride."'),p(),h(160,"h5",56),m(161,"- Michael T."),p(),h(162,"p",0),m(163,"Los Angeles"),p()()()(),h(164,"div",52)(165,"div",53)(166,"div",54)(167,"p",55),m(168,'"Highly recommend! On-time, high-quality limo for our corporate event."'),p(),h(169,"h5",56),m(170,"- Linda K."),p(),h(171,"p",0),m(172,"Chicago"),p()()()()()(),h(173,"div",57)(174,"div",51)(175,"div",52)(176,"div",53)(177,"div",54)(178,"p",55),m(179,'"Fantastic experience! The driver was friendly and professional."'),p(),h(180,"h5",56),m(181,"- Alex B."),p(),h(182,"p",0),m(183,"San Francisco"),p()()()(),h(184,"div",52)(185,"div",53)(186,"div",54)(187,"p",55),m(188,'"The limo was so luxurious and comfortable. Would book again!"'),p(),h(189,"h5",56),m(190,"- Maria G."),p(),h(191,"p",0),m(192,"Miami"),p()()()(),h(193,"div",52)(194,"div",53)(195,"div",54)(196,"p",55),m(197,'"Prompt service, clean limo, and very professional driver."'),p(),h(198,"h5",56),m(199,"- Tom H."),p(),h(200,"p",0),m(201,"Houston"),p()()()()()()(),h(202,"button",58),S(203,"span",59),h(204,"span",60),m(205,"Previous"),p()(),h(206,"button",61),S(207,"span",62),h(208,"span",60),m(209,"Next"),p()()()(),S(210,"app-footer"))},dependencies:[ir,su],styles:[".container-fluid.album[_ngcontent-%COMP%]{background-color:#3e3e3e;width:100%;padding:20px;display:flex;flex-direction:column;align-items:center}.responsive-container-block.bg[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}.responsive-container-block.img-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10px}img[_ngcontent-%COMP%]{border-radius:10px}.bg-light[_ngcontent-%COMP%]{background-color:#212529!important;color:#fff}p.mb-4.h3[_ngcontent-%COMP%]{color:#da9100!important}.btn-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#3e3e3e!important;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#fff!important;color:#000!important;border:none}.text-primary[_ngcontent-%COMP%]{color:#da9100!important}.h5[_ngcontent-%COMP%]{margin-left:10px}.service-screen[_ngcontent-%COMP%]{background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important;width:100%!important}.album[_ngcontent-%COMP%]   .responsive-container-block[_ngcontent-%COMP%]{min-height:75px;height:fit-content;width:100%;padding:10px;display:flex;flex-wrap:wrap;margin:0 auto;justify-content:flex-start;background-color:#fff}.album[_ngcontent-%COMP%]   .responsive-container-block.bg[_ngcontent-%COMP%]{max-width:1320px;margin:0;justify-content:space-between}.album[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;margin:0 0 20px}.album[_ngcontent-%COMP%]   #i9rb[_ngcontent-%COMP%], .album[_ngcontent-%COMP%]   #ir6i[_ngcontent-%COMP%], .album[_ngcontent-%COMP%]   #ikz3b[_ngcontent-%COMP%]{color:#000}.album[_ngcontent-%COMP%]   .responsive-container-block.img-cont[_ngcontent-%COMP%]{flex-direction:column;max-width:33.3%;min-height:auto;margin:0;height:100%}.album[_ngcontent-%COMP%]   #ipix[_ngcontent-%COMP%], .album[_ngcontent-%COMP%]   #ipzoh[_ngcontent-%COMP%], .album[_ngcontent-%COMP%]   #ig5q8[_ngcontent-%COMP%], .album[_ngcontent-%COMP%]   #imtzl[_ngcontent-%COMP%], .album[_ngcontent-%COMP%]   #i53es[_ngcontent-%COMP%]{color:#000}.album[_ngcontent-%COMP%]   .img.img-big[_ngcontent-%COMP%]{height:50%;margin:0 0 16px}.container[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{background-color:#f9f9f9;box-shadow:0 2px 5px #0000001a}a.btn[_ngcontent-%COMP%]{font-size:16px}.Testimonial[_ngcontent-%COMP%]{background-color:#15181b;min-width:100%;padding-bottom:20px}@media (max-width: 1024px){.album[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin:0 0 18px}}@media (max-width: 768px){.album[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{max-width:32.5%;margin:0}.album[_ngcontent-%COMP%]   .responsive-container-block.bg[_ngcontent-%COMP%]{flex-direction:column}.album[_ngcontent-%COMP%]   .responsive-container-block.img-cont[_ngcontent-%COMP%]{max-width:100%;flex-direction:row;justify-content:space-between}.album[_ngcontent-%COMP%]   .img.img-big[_ngcontent-%COMP%]{max-width:49%;margin:0}}@media (max-width: 500px){.album[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{max-width:94%;margin:0 0 25px}.album[_ngcontent-%COMP%]   .responsive-container-block.img-cont[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:10px}.album[_ngcontent-%COMP%]   .img.img-big[_ngcontent-%COMP%]{max-width:94%;margin:0 0 25px}.album[_ngcontent-%COMP%]   .img.img-last[_ngcontent-%COMP%]{margin:0 0 5px}}"]})};var lu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=it({type:e,selectors:[["app-about-us"]],standalone:!0,features:[ot],decls:87,vars:0,consts:[[1,"hero","text-center","text-white","d-flex","align-items-center","justify-content-center",2,"background-color","#343a40","height","300px"],[1,"display-4","font-weight-bold"],[1,"highlight"],[1,"lead"],[1,"container","my-5"],[1,"row"],[1,"col-lg-8","mx-auto","text-center"],[1,"section-header"],[1,"row","text-center","service-icons"],[1,"col-sm-4","my-3"],[1,"fas","fa-briefcase"],[1,"fas","fa-glass-cheers"],[1,"fas","fa-plane-departure"],[1,"list-unstyled"],[1,"text-muted"],[1,"row","text-center"],[1,"col-md-4"],[1,"blockquote"],[1,"mb-0"],[1,"blockquote-footer"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"div")(2,"h1",1),m(3,"About "),h(4,"span",2),m(5,"Our Limo Service"),p()(),h(6,"p",3),m(7,"Your Premium Transportation Choice"),p()()(),h(8,"div",4)(9,"div",5)(10,"div",6)(11,"h2",7),m(12,"Who We Are"),p(),h(13,"p"),m(14," At "),h(15,"span",2),m(16,"Nahome Limo Transportation"),p(),m(17,", we pride ourselves on offering first-class service with the highest levels of comfort and professionalism. With years of experience in the transportation industry, our team is dedicated to ensuring every journey is safe, enjoyable, and timely. "),p()()()(),h(18,"div",4)(19,"div",5)(20,"div",6)(21,"h2",7),m(22,"Our Services"),p(),h(23,"p"),m(24," From corporate travel to special events, we cater to all types of transportation needs. Our fleet includes luxury sedans, SUVs, and stretch limousines to accommodate any group size. "),p()()(),h(25,"div",8)(26,"div",9),S(27,"i",10),h(28,"h5"),m(29,"Corporate Travel"),p(),h(30,"p"),m(31,"Timely, professional service for business trips and events."),p()(),h(32,"div",9),S(33,"i",11),h(34,"h5"),m(35,"Special Occasions"),p(),h(36,"p"),m(37,"Celebrate your big day with luxury and style."),p()(),h(38,"div",9),S(39,"i",12),h(40,"h5"),m(41,"Airport Transfers"),p(),h(42,"p"),m(43,"On-time pickups and drop-offs for stress-free travel."),p()()()(),h(44,"div",4)(45,"div",5)(46,"div",6)(47,"h2",7),m(48,"Why Choose Us"),p(),h(49,"p"),m(50,"Our commitment to excellence has made us a trusted choice for limo services. Here\u2019s why our clients keep coming back:"),p(),h(51,"ul",13)(52,"li"),m(53,"\u2705 Experienced, professional chauffeurs"),p(),h(54,"li"),m(55,"\u2705 Luxury vehicles with premium amenities"),p(),h(56,"li"),m(57,"\u2705 Punctual service with real-time GPS tracking"),p(),h(58,"li"),m(59,"\u2705 24/7 availability for all transportation needs"),p()()()()(),h(60,"div",4)(61,"div",5)(62,"div",6)(63,"h2",7),m(64,"Client Testimonials"),p(),h(65,"p",14),m(66,"Here's what our clients have to say about us:"),p()()(),h(67,"div",15)(68,"div",16)(69,"blockquote",17)(70,"p",18),m(71,'"Nahome Limo made my wedding day extra special with their incredible service. Highly recommended!"'),p(),h(72,"footer",19),m(73,"Sarah W."),p()()(),h(74,"div",16)(75,"blockquote",17)(76,"p",18),m(77,'"Professional, reliable, and luxurious. Perfect for our corporate events."'),p(),h(78,"footer",19),m(79,"John D."),p()()(),h(80,"div",16)(81,"blockquote",17)(82,"p",18),m(83,'"On-time airport transfer service that I can trust every time."'),p(),h(84,"footer",19),m(85,"Emily R."),p()()()()(),S(86,"app-footer"))},dependencies:[ir],styles:[".section-header[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:.5rem;font-weight:700}.highlight[_ngcontent-%COMP%]{color:#e8af44}.service-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#e8af44}.blockquote-footer[_ngcontent-%COMP%]{margin-top:.2rem}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{padding:2rem 1rem}.section-header[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};var ng=[{path:"home",component:au},{path:"contact",component:ou},{path:"about-us",component:lu},{path:"**",redirectTo:"home",pathMatch:"full"}],ZD=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=Ye({type:e});static \u0275inj=qe({imports:[Fp.forRoot(ng),Fp]})};var SO="firebase",TO="10.14.1";Be(SO,TO,"app");var Nn=new Cn("ANGULARFIRE2_VERSION");function ig(e,n,t){if(n){if(n.length===1)return n[0];let o=n.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(e).getImmediate({optional:!0})}var Ls=(e,n)=>{let t=n?[n]:Ma(),r=[];return t.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},rn=class{constructor(){return Ls(MO)}},MO="app-check";function io(){}var cu=class{zone;delegate;constructor(n,t=Fd){this.zone=n,this.delegate=t}now(){return this.delegate.now()}schedule(n,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{n.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},rg=class{zone;task=null;constructor(n){this.zone=n}call(n,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",io,{},io,io)),t.pipe(Ce({next:r,complete:r,error:r})).subscribe(n).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Rn=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new cu(Zone.current)),this.insideAngular=t.run(()=>new cu(Zone.current,Ro)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||e)(D(Z))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uu(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function AO(e){return uu().ngZone.runOutsideAngular(()=>e())}function Lr(e){return uu().ngZone.run(()=>e())}function on(e){return xO(uu())(e)}function xO(e){return function(t){return t=t.lift(new rg(e.ngZone)),t.pipe(mt(e.outsideAngular),st(e.insideAngular))}}var NO=(e,n)=>function(){let r=arguments;return n&&setTimeout(()=>{n.state==="scheduled"&&n.invoke()},10),Lr(()=>e.apply(void 0,r))},Vs=(e,n)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(n&&(t||=Lr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",io,{},io,io))),r[o]=NO(r[o],t));let i=AO(()=>e.apply(this,r));if(!n)if(i instanceof V){let o=uu();return i.pipe(mt(o.outsideAngular),st(o.insideAngular))}else return Lr(()=>i);return i instanceof V?i.pipe(on):i instanceof Promise?Lr(()=>new Promise((o,s)=>i.then(a=>Lr(()=>o(a)),a=>Lr(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Lr(()=>i)};var Vr=class{constructor(n){return n}},js=class{constructor(){return Ma()}};function RO(e){return e&&e.length===1?e[0]:new Vr(To())}var og=new b("angularfire2._apps"),PO={provide:Vr,useFactory:RO,deps:[[new Et,og]]},OO={provide:js,deps:[[new Et,og]]};function kO(e){return(n,t)=>{let r=t.get(Re);Be("angularfire",Nn.full,"core"),Be("angularfire",Nn.full,"app"),Be("angular",xh.full,r.toString());let i=n.runOutsideAngular(()=>e(t));return new Vr(i)}}function KD(e,...n){return Qt([PO,OO,{provide:og,useFactory:kO(e),multi:!0,deps:[Z,Oe,Rn,...n]}])}var JD=Vs(Jv,!0);var FO=new Map,LO={activated:!1,tokenObservers:[]},VO={initialized:!1,enabled:!1};function jt(e){return FO.get(e)||Object.assign({},LO)}function r0(){return VO}var jO="https://content-firebaseappcheck.googleapis.com/v1";var UO="exchangeDebugToken",XD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Iz=24*60*60*1e3;var ag=class{constructor(n,t,r,i,o){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){return ae(this,null,function*(){this.stop();try{this.pending=new Se,this.pending.promise.catch(t=>{}),yield BO(this.getNextRun(n)),this.pending.resolve(),yield this.pending.promise,this.pending=new Se,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function BO(e){return new Promise(n=>{setTimeout(n,e)})}var $O={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ar=new Wv("appCheck","AppCheck",$O);function i0(e){if(!jt(e).activated)throw ar.create("use-before-activation",{appName:e.name})}function o0(r,i){return ae(this,arguments,function*({url:e,body:n},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(n),headers:o},l;try{l=yield fetch(e,a)}catch(g){throw ar.create("fetch-network-error",{originalErrorMessage:g?.message})}if(l.status!==200)throw ar.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(g){throw ar.create("fetch-parse-error",{originalErrorMessage:g?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function s0(e,n){let{projectId:t,appId:r,apiKey:i}=e.options;return{url:`${jO}/projects/${t}/apps/${r}:${UO}?key=${i}`,body:{debug_token:n}}}var HO="firebase-app-check-database",WO=1,lg="firebase-app-check-store";var du=null;function zO(){return du||(du=new Promise((e,n)=>{try{let t=indexedDB.open(HO,WO);t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{var i;n(ar.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(lg,{keyPath:"compositeKey"})}}}catch(t){n(ar.create("storage-open",{originalErrorMessage:t?.message}))}}),du)}function GO(e,n){return qO(YO(e),n)}function qO(e,n){return ae(this,null,function*(){let r=(yield zO()).transaction(lg,"readwrite"),o=r.objectStore(lg).put({compositeKey:e,value:n});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(ar.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function YO(e){return`${e.options.appId}-${e.name}`}var cg=new Zr("@firebase/app-check");function sg(e,n){return Hv()?GO(e,n).catch(t=>{cg.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function a0(){return r0().enabled}function l0(){return ae(this,null,function*(){let e=r0();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var ZO={error:"UNKNOWN_ERROR"};function QO(e){return ba.encodeString(JSON.stringify(e),!1)}function ug(e,n=!1){return ae(this,null,function*(){let t=e.app;i0(t);let r=jt(t),i=r.token,o;if(i&&!Us(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(Us(l)?i=l:yield sg(t,void 0))}if(!n&&i&&Us(i))return{token:i.token};let s=!1;if(a0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=o0(s0(t,yield l0()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let l=yield r.exchangeTokenPromise;return yield sg(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield jt(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?cg.warn(l.message):cg.error(l),o=l}let a;return i?o?Us(i)?a={token:i.token,internalError:o}:a=t0(o):(a={token:i.token},r.token=i,yield sg(t,i)):a=t0(o),s&&e1(t,a),a})}function KO(e){return ae(this,null,function*(){let n=e.app;i0(n);let{provider:t}=jt(n);if(a0()){let r=yield l0(),{token:i}=yield o0(s0(n,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function JO(e,n,t,r){let{app:i}=e,o=jt(i),s={next:t,error:r,type:n};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Us(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),e0(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>e0(e))}function c0(e,n){let t=jt(e),r=t.tokenObservers.filter(i=>i.next!==n);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function e0(e){let{app:n}=e,t=jt(n),r=t.tokenRefresher;r||(r=XO(e),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function XO(e){let{app:n}=e;return new ag(()=>ae(this,null,function*(){let t=jt(n),r;if(t.token?r=yield ug(e,!0):r=yield ug(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=jt(n);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},XD.RETRIAL_MIN_WAIT,XD.RETRIAL_MAX_WAIT)}function e1(e,n){let t=jt(e).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&n.error!=null?r.error(n.error):r.next(n)}catch{}}function Us(e){return e.expireTimeMillis-Date.now()>0}function t0(e){return{token:QO(ZO),error:e}}var dg=class{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:n}=jt(this.app);for(let t of n)c0(this.app,t.next);return Promise.resolve()}};function t1(e,n){return new dg(e,n)}function n1(e){return{getToken:n=>ug(e,n),getLimitedUseToken:()=>KO(e),addTokenListener:n=>JO(e,"INTERNAL",n),removeTokenListener:n=>c0(e.app,n)}}var r1="@firebase/app-check",i1="0.8.8";var o1="app-check",n0="app-check-internal";function s1(){So(new fn(o1,e=>{let n=e.getProvider("app").getImmediate(),t=e.getProvider("heartbeat");return t1(n,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,t)=>{e.getProvider(n0).initialize()})),So(new fn(n0,e=>{let n=e.getProvider("app-check").getImmediate();return n1(n)},"PUBLIC").setInstantiationMode("EXPLICIT")),Be(r1,i1)}s1();var a1=["localhost","0.0.0.0","127.0.0.1"],Lz=typeof window<"u"&&a1.includes(window.location.hostname);var l1="firebase",c1="10.14.1";xt.registerVersion(l1,c1,"app-compat");var u1=["ngOnDestroy"],f0=(e,n,t,r={})=>new Proxy(e,{get:(i,o)=>t.runOutsideAngular(()=>{if(e[o])return r?.spy?.get&&r.spy.get(o,e[o]),e[o];if(u1.indexOf(o)>-1)return()=>{};let s=n.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var fg=class{constructor(n){return n}},oo=new b("angularfire2.app.options"),fu=new b("angularfire2.app.name");function hu(e,n,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=xt.apps.filter(a=>a&&a.name===i.name)[0]||n.runOutsideAngular(()=>xt.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;d1("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new fg(s)}var d1=(e,...n)=>{Rh()&&typeof console<"u"&&console[e](...n)};function pu(e,n,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return f1(i,s)||(d0("error",`${n} was already initialized on the ${t} Firebase App with different settings.${h1?" You may need to reload as Firebase is not HMR aware.":""}`),d0("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([e,a,i]),a}}function f1(e,n){try{return e.toString()===n.toString()}catch{return e===n}}var h1=typeof module<"u"&&!!module.hot,d0=(e,...n)=>{Rh()&&typeof console<"u"&&console[e](...n)};globalThis.\u0275AngularfireInstanceCache||=[];var hg=new b("angularfire2.auth.use-emulator"),pg=new b("angularfire2.auth.settings"),gg=new b("angularfire2.auth.tenant-id"),mg=new b("angularfire2.auth.langugage-code"),vg=new b("angularfire2.auth.use-device-language"),yg=new b("angularfire.auth.persistence"),_g=(e,n,t,r,i,o,s,a)=>pu(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=n.runOutsideAngular(()=>e.auth());if(t&&l.useEmulator(...t),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[t,r,i,o,s,a]),h0=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,l,c,u,d,f,g){let v=new ue,y=A(void 0).pipe(st(s.outsideAngular),oe(()=>o.runOutsideAngular(()=>import("./chunk-CJHSSYOW.js"))),N(()=>hu(t,o,r)),N(E=>_g(E,o,a,c,u,d,l,f)),ol({bufferSize:1,refCount:!1}));if(Vi(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=A(null);else{y.pipe(vt()).subscribe();let E=y.pipe(oe(T=>T.getRedirectResult().then(te=>te,()=>null)),on,ol({bufferSize:1,refCount:!1})),M=y.pipe(oe(T=>new V(te=>({unsubscribe:o.runOutsideAngular(()=>T.onAuthStateChanged(pe=>te.next(pe),pe=>te.error(pe),()=>te.complete()))})))),B=y.pipe(oe(T=>new V(te=>({unsubscribe:o.runOutsideAngular(()=>T.onIdTokenChanged(pe=>te.next(pe),pe=>te.error(pe),()=>te.complete()))}))));this.authState=E.pipe(sl(M),mt(s.outsideAngular),st(s.insideAngular)),this.user=E.pipe(sl(B),mt(s.outsideAngular),st(s.insideAngular)),this.idToken=this.user.pipe(oe(T=>T?X(T.getIdToken()):A(null))),this.idTokenResult=this.user.pipe(oe(T=>T?X(T.getIdTokenResult()):A(null))),this.credential=li(E,v,this.authState.pipe(Pe(T=>!T))).pipe(N(T=>T?.user?T:null),mt(s.outsideAngular),st(s.insideAngular))}return f0(this,y,o,{spy:{apply:(E,M,B)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&B.then(T=>v.next(T))}}})}static \u0275fac=function(r){return new(r||e)(D(oo),D(fu,8),D(Re),D(Z),D(Rn),D(hg,8),D(pg,8),D(gg,8),D(mg,8),D(vg,8),D(yg,8),D(rn,8))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var p0="@firebase/database",g0="1.0.8";var Nm="";function Rm(e){Nm=e}var Tg=class{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){t==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),ye(t))}get(n){let t=this.domStorage_.getItem(this.prefixedName_(n));return t==null?null:Ia(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}};var Mg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){t==null?delete this.cache_[n]:this.cache_[n]=t}get(n){return gt(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}};var G0=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Tg(n)}}catch{}return new Mg},Ur=G0("localStorage"),Ag=G0("sessionStorage");var co=new Zr("@firebase/database"),q0=function(){let e=1;return function(){return e++}}(),Y0=function(e){let n=Zv(e),t=new Yv;t.update(n);let r=t.digest();return ba.encodeByteArray(r)},ua=function(...e){let n="";for(let t=0;t<e.length;t++){let r=e[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=ua.apply(null,r):typeof r=="object"?n+=ye(r):n+=r,n+=" "}return n},Br=null,m0=!0,Z0=function(e,n){w(!n||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(co.logLevel=Qv.VERBOSE,Br=co.log.bind(co),n&&Ag.set("logging_enabled",!0)):typeof e=="function"?Br=e:(Br=null,Ag.remove("logging_enabled"))},Me=function(...e){if(m0===!0&&(m0=!1,Br===null&&Ag.get("logging_enabled")===!0&&Z0(!0)),Br){let n=ua.apply(null,e);Br(n)}},da=function(e){return function(...n){Me(e,...n)}},xg=function(...e){let n="FIREBASE INTERNAL ERROR: "+ua(...e);co.error(n)},ln=function(...e){let n=`FIREBASE FATAL ERROR: ${ua(...e)}`;throw co.error(n),new Error(n)},je=function(...e){let n="FIREBASE WARNING: "+ua(...e);co.warn(n)},g1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$u=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},m1=function(e){if($t()||document.readyState==="complete")e();else{let n=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}n||(n=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},dr="[MIN_NAME]",Pn="[MAX_NAME]",Hr=function(e,n){if(e===n)return 0;if(e===dr||n===Pn)return-1;if(n===dr||e===Pn)return 1;{let t=v0(e),r=v0(n);return t!==null?r!==null?t-r===0?e.length-n.length:t-r:-1:r!==null?1:e<n?-1:1}},v1=function(e,n){return e===n?0:e<n?-1:1},Bs=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+ye(n))},Pm=function(e){if(typeof e!="object"||e===null)return ye(e);let n=[];for(let r in e)n.push(r);n.sort();let t="{";for(let r=0;r<n.length;r++)r!==0&&(t+=","),t+=ye(n[r]),t+=":",t+=Pm(e[n[r]]);return t+="}",t},Q0=function(e,n){let t=e.length;if(t<=n)return[e];let r=[];for(let i=0;i<t;i+=n)i+n>t?r.push(e.substring(i,t)):r.push(e.substring(i,i+n));return r};function Ae(e,n){for(let t in e)e.hasOwnProperty(t)&&n(t,e[t])}var K0=function(e){w(!$u(e),"Invalid JSON number");let n=11,t=52,r=(1<<n-1)-1,i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(e/Math.pow(2,1-r-t))));let c=[];for(l=t;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},y1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function C1(e,n){let t="Unknown Error";e==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?t="Client doesn't have permission to access the desired data.":e==="unavailable"&&(t="The service is unavailable");let r=new Error(e+" at "+n._path.toString()+": "+t);return r.code=e.toUpperCase(),r}var w1=new RegExp("^-?(0*)\\d{1,10}$"),E1=-2147483648,D1=2147483647,v0=function(e){if(w1.test(e)){let n=Number(e);if(n>=E1&&n<=D1)return n}return null},_o=function(e){try{e()}catch(n){setTimeout(()=>{let t=n.stack||"";throw je("Exception was thrown by user callback.",t),n},Math.floor(0))}},b1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zs=function(e,n){let t=setTimeout(e,n);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var Ng=class{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,r):t(null)},0)})}addTokenChangeListener(n){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Rg=class{constructor(n,t,r){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&t.code==="auth/token-not-initialized"?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,r):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(n)}},Gs=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),mu="5",J0="v",X0="s",eb="r",tb="f",nb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rb="ls",ib="p",Pg="ac",ob="websocket",sb="long_polling";var vu=class{constructor(n,t,r,i,o=!1,s="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ur.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ur.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){let n=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${t}`}};function I1(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ab(e,n,t){w(typeof n=="string","typeof type must == string"),w(typeof t=="object","typeof params must == object");let r;if(n===ob)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(n===sb)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);I1(e)&&(t.ns=e.namespace);let i=[];return Ae(t,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Og=class{constructor(){this.counters_={}}incrementCounter(n,t=1){gt(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return jv(this.counters_)}};var Cg={},wg={};function Om(e){let n=e.toString();return Cg[n]||(Cg[n]=new Og),Cg[n]}function S1(e,n){let t=e.toString();return wg[t]||(wg[t]=n()),wg[t]}var kg=class{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&_o(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var y0="start",T1="close",M1="pLPCommand",A1="pRTLPCB",lb="id",cb="pw",ub="ser",x1="cb",N1="seg",R1="ts",P1="d",O1="dframe",db=1870,fb=30,k1=db-fb,F1=25e3,L1=3e4,Qs=class e{constructor(n,t,r,i,o,s,a){this.connId=n,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=da(n),this.stats_=Om(t),this.urlFn=l=>(this.appCheckToken&&(l[Pg]=this.appCheckToken),ab(t,sb,l))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new kg(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(L1)),m1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fg((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===y0)this.id=a,this.password=l;else if(s===T1)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[y0]="t",r[ub]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[x1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[J0]=mu,this.transportSessionId&&(r[X0]=this.transportSessionId),this.lastSessionId&&(r[rb]=this.lastSessionId),this.applicationId&&(r[ib]=this.applicationId),this.appCheckToken&&(r[Pg]=this.appCheckToken),typeof location<"u"&&location.hostname&&nb.test(location.hostname)&&(r[eb]=tb);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return $t()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!y1()&&!_1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){let t=ye(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=Vv(t),i=Q0(r,k1);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(n,t){if($t())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[O1]="t",r[lb]=n,r[cb]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){let t=ye(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},Fg=class e{constructor(n,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,$t())this.commandCB=n,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=q0(),window[M1+this.uniqueCallbackIdentifier]=n,window[A1+this.uniqueCallbackIdentifier]=t,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Me("frame writing exception"),a.stack&&Me(a.stack),Me(a)}}}static createIFrame_(){let n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Me("No IE domain setting required")}catch{let r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let n={};n[lb]=this.myID,n[cb]=this.myPW,n[ub]=this.currentSerial;let t=this.urlFn(n),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fb+r.length<=db;){let s=this.pendingSegs.shift();r=r+"&"+N1+i+"="+s.seg+"&"+R1+i+"="+s.ts+"&"+P1+i+"="+s.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(n,t,r){this.pendingSegs.push({seg:n,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);let r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(F1)),o=()=>{clearTimeout(i),r()};this.addTag(n,o)}addTag(n,t){$t()?this.doNodeLongPoll(n,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Me("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var V1=16384,j1=45e3,yu=null;typeof MozWebSocket<"u"?yu=MozWebSocket:typeof WebSocket<"u"&&(yu=WebSocket);var ao=(()=>{class e{constructor(t,r,i,o,s,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=da(this.connId),this.stats_=Om(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,s){let a={};return a[J0]=mu,!$t()&&typeof location<"u"&&location.hostname&&nb.test(location.hostname)&&(a[eb]=tb),r&&(a[X0]=r),i&&(a[rb]=i),o&&(a[Pg]=o),s&&(a[ib]=s),ab(t,ob,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ur.set("previous_websocket_failure",!0);try{let i;if($t()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${mu}/${Nm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new yu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&yu!==null&&!e.forceDisallow_}static previouslyFailed(){return Ur.isInMemoryStorage||Ur.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ur.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ia(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(w(this.frames===null,"We already have a frame buffer"),t.length<=6){let r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();let r=ye(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Q0(r,V1);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(j1))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),hb=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Qs,ao]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let r=ao&&ao.isAvailable(),i=r&&!ao.previouslyFailed();if(t.webSocketOnly&&(r||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ao];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),U1=6e4,B1=5e3,$1=10*1024,H1=100*1024,Eg="t",_0="d",W1="s",C0="r",z1="e",w0="o",E0="a",D0="n",b0="p",G1="h",Lg=class{constructor(n,t,r,i,o,s,a,l,c,u){this.id=n,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=da("c:"+this.id+":"),this.transportManager_=new hb(t),this.log_("Connection created"),this.start_()}start_(){let n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));let i=n.healthyTimeout||0;i>0&&(this.healthyTimeout_=zs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>H1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){let t={t:"d",d:n};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Eg in n){let t=n[Eg];t===E0?this.upgradeIfSecondaryHealthy_():t===C0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===w0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){let t=Bs("t",n),r=Bs("d",n);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:b0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:E0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:D0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){let t=Bs("t",n),r=Bs("d",n);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){let t=Bs(Eg,n);if(_0 in n){let r=n[_0];if(t===G1){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===D0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===W1?this.onConnectionShutdown_(r):t===C0?this.onReset_(r):t===z1?xg("Server Error: "+r):t===w0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xg("Unknown control packet command: "+t)}}onHandshake_(n){let t=n.ts,r=n.v,i=n.h;this.sessionId=n.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),mu!==r&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),zs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(U1))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(B1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:b0,d:{}}}))}onSecondaryConnectionLost_(){let n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ur.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var _u=class{put(n,t,r,i){}merge(n,t,r,i){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,r){}onDisconnectMerge(n,t,r){}onDisconnectCancel(n,t){}reportStats(n){}};var Cu=class{constructor(n){this.allowedEvents_=n,this.listeners_={},w(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){let r=[...this.listeners_[n]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(n,t,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:r});let i=this.getInitialEvent(n);i&&t.apply(r,i)}off(n,t,r){this.validateEventType_(n);let i=this.listeners_[n]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(n){w(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}};var wu=class e extends Cu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!md()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(n){return w(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}};var I0=32,S0=768,J=class{constructor(n,t){if(t===void 0){this.pieces_=n.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(n+="/"+this.pieces_[t]);return n||"/"}};function K(){return new J("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function fr(e){return e.pieces_.length-e.pieceNum_}function ie(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new J(e.pieces_,n)}function km(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function q1(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)e.pieces_[t]!==""&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}function Ks(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function pb(e){if(e.pieceNum_>=e.pieces_.length)return null;let n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new J(n,0)}function fe(e,n){let t=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);if(n instanceof J)for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);else{let r=n.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new J(t,0)}function W(e){return e.pieceNum_>=e.pieces_.length}function Je(e,n){let t=H(e),r=H(n);if(t===null)return n;if(t===r)return Je(ie(e),ie(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function Y1(e,n){let t=Ks(e,0),r=Ks(n,0);for(let i=0;i<t.length&&i<r.length;i++){let o=Hr(t[i],r[i]);if(o!==0)return o}return t.length===r.length?0:t.length<r.length?-1:1}function Fm(e,n){if(fr(e)!==fr(n))return!1;for(let t=e.pieceNum_,r=n.pieceNum_;t<=e.pieces_.length;t++,r++)if(e.pieces_[t]!==n.pieces_[r])return!1;return!0}function Mt(e,n){let t=e.pieceNum_,r=n.pieceNum_;if(fr(e)>fr(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[r])return!1;++t,++r}return!0}var Vg=class{constructor(n,t){this.errorPrefix_=t,this.parts_=Ks(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Io(this.parts_[r]);gb(this)}};function Z1(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=Io(n),gb(e)}function Q1(e){let n=e.parts_.pop();e.byteLength_-=Io(n),e.parts_.length>0&&(e.byteLength_-=1)}function gb(e){if(e.byteLength_>S0)throw new Error(e.errorPrefix_+"has a key path longer than "+S0+" bytes ("+e.byteLength_+").");if(e.parts_.length>I0)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+I0+") or object contains a cycle "+jr(e))}function jr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var jg=class e extends Cu{constructor(){super(["visible"]);let n,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new e}getInitialEvent(n){return w(n==="visible","Unknown event type: "+n),[this.visible_]}};var $s=1e3,K1=60*5*1e3,T0=30*1e3,J1=1.3,X1=3e4,ek="server_kill",M0=3,Lm=(()=>{class e extends _u{constructor(t,r,i,o,s,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=da("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$s,this.maxReconnectDelay_=K1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!$t())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jg.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&wu.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){let o=++this.requestNumber_,s={r:o,a:t,b:r};this.log_(ye(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();let r=new Se,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(t,r,i,o){this.initConnection_();let s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){let r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){let r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&gt(t,"w")){let i=Fn(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Gv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=T0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,r=zv(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let r=t.s,i=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){let i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);let s={p:t},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(t){let r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){let r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ye(t));let r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):xg("Unrecognized action received from server: "+ye(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>X1&&(this.reconnectDelay_=$s),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*J1)}this.onConnectStatus_(!1)}establishConnection_(){return ae(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){w(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,g]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=g&&g.token,l=new Lg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,v=>{je(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(ek)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&je(f),c())}}})}interrupt(t){Me("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Me("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Sa(this.interruptReasons_)&&(this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;r?i=r.map(s=>Pm(s)).join("$"):i="default";let o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){let i=new J(t).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){Me("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=M0&&(this.reconnectDelay_=T0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Me("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=M0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},r="js";$t()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),t["sdk."+r+"."+Nm.replace(/\./g,"-")]=1,md()?t["framework.cordova"]=1:$v()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=wu.getInstance().currentlyOnline();return Sa(this.interruptReasons_)&&t}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),z=class e{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new e(n,t)}};var uo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){let r=new z(dr,n),i=new z(dr,t);return this.compare(r,i)!==0}minPost(){return z.MIN}};var gu,Eu=class extends uo{static get __EMPTY_NODE(){return gu}static set __EMPTY_NODE(n){gu=n}compare(n,t){return Hr(n.name,t.name)}isDefinedOn(n){throw Yr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return z.MIN}maxPost(){return new z(Pn,gu)}makePost(n,t){return w(typeof n=="string","KeyIndex indexValue must always be a string."),new z(n,gu)}toString(){return".key"}},an=new Eu;var lo=class{constructor(n,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!n.isEmpty();)if(n=n,s=t?r(n.key,t):1,i&&(s*=-1),s<0)this.isReverse_?n=n.left:n=n.right;else if(s===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(n.key,n.value):t={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}},Ut=(()=>{class e{constructor(t,r,i,o,s){this.key=t,this.value=r,this.color=i??e.RED,this.left=o??At.EMPTY_NODE,this.right=s??At.EMPTY_NODE}copy(t,r,i,o,s){return new e(t??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this,s=i(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(t,i.key)===0){if(i.right.isEmpty())return At.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Ug=class{copy(n,t,r,i,o){return this}insert(n,t,r){return new Ut(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},At=class e{constructor(n,t=e.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new e(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,Ut.BLACK,null,null))}remove(n){return new e(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Ut.BLACK,null,null))}get(n){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(n,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(n){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(n,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new lo(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new lo(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new lo(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new lo(this.root_,null,this.comparator_,!0,n)}};At.EMPTY_NODE=new Ug;function tk(e,n){return Hr(e.name,n.name)}function Vm(e,n){return Hr(e,n)}var Bg;function nk(e){Bg=e}var mb=function(e){return typeof e=="number"?"number:"+K0(e):"string:"+e},vb=function(e){if(e.isLeafNode()){let n=e.val();w(typeof n=="string"||typeof n=="number"||typeof n=="object"&&gt(n,".sv"),"Priority must be a string or number.")}else w(e===Bg||e.isEmpty(),"priority of unexpected type.");w(e===Bg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var A0,fo=(()=>{class e{constructor(t,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vb(this.priorityNode_)}static set __childrenNodeConstructor(t){A0=t}static get __childrenNodeConstructor(){return A0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return W(t)?this:H(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){let i=H(t);return i===null?r:r.isEmpty()&&i!==".priority"?this:(w(i!==".priority"||fr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+mb(this.priorityNode_.val())+":");let r=typeof this.value_;t+=r+":",r==="number"?t+=K0(this.value_):t+=this.value_,this.lazyHash_=Y0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(w(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let r=typeof t.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return w(o>=0,"Unknown leaf type: "+r),w(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),yb,_b;function rk(e){yb=e}function ik(e){_b=e}var $g=class extends uo{compare(n,t){let r=n.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return o===0?Hr(n.name,t.name):o}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return z.MIN}maxPost(){return new z(Pn,new fo("[PRIORITY-POST]",_b))}makePost(n,t){let r=yb(n);return new z(t,new fo("[PRIORITY-POST]",r))}toString(){return".priority"}},se=new $g;var ok=Math.log(2),Hg=class{constructor(n){let t=o=>parseInt(Math.log(o)/ok,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(n+1),this.current_=this.count-1;let i=r(this.count);this.bits_=n+1&i}nextBitIsOne(){let n=!(this.bits_&1<<this.current_);return this.current_--,n}},Du=function(e,n,t,r){e.sort(n);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=e[l],f=t?t(d):d,new Ut(f,d.node,Ut.BLACK,null,null);{let g=parseInt(u/2,10)+l,v=i(l,g),y=i(g+1,c);return d=e[g],f=t?t(d):d,new Ut(f,d.node,Ut.BLACK,v,y)}},o=function(l){let c=null,u=null,d=e.length,f=function(v,y){let E=d-v,M=d;d-=v;let B=i(E+1,M),T=e[E],te=t?t(T):T;g(new Ut(te,T.node,y,null,B))},g=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){let y=l.nextBitIsOne(),E=Math.pow(2,l.count-(v+1));y?f(E,Ut.BLACK):(f(E,Ut.BLACK),f(E,Ut.RED))}return u},s=new Hg(e.length),a=o(s);return new At(r||n,a)};var Dg,so={},ho=class e{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return w(so&&se,"ChildrenNode.ts has not been loaded"),Dg=Dg||new e({".priority":so},{".priority":se}),Dg}get(n){let t=Fn(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof At?t:null}hasIndex(n){return gt(this.indexSet_,n.toString())}addIndex(n,t){w(n!==an,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=t.getIterator(z.Wrap),s=o.getNext();for(;s;)i=i||n.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Du(r,n.getCompare()):a=so;let l=n.toString(),c=Object.assign({},this.indexSet_);c[l]=n;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(n,t){let r=bo(this.indexes_,(i,o)=>{let s=Fn(this.indexSet_,o);if(w(s,"Missing index implementation for "+o),i===so)if(s.isDefinedOn(n.node)){let a=[],l=t.getIterator(z.Wrap),c=l.getNext();for(;c;)c.name!==n.name&&a.push(c),c=l.getNext();return a.push(n),Du(a,s.getCompare())}else return so;else{let a=t.get(n.name),l=i;return a&&(l=l.remove(new z(n.name,a))),l.insert(n,n.node)}});return new e(r,this.indexSet_)}removeFromIndexes(n,t){let r=bo(this.indexes_,i=>{if(i===so)return i;{let o=t.get(n.name);return o?i.remove(new z(n.name,o)):i}});return new e(r,this.indexSet_)}};var Hs,L=(()=>{class e{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&vb(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hs||(Hs=new e(new At(Vm),null,ho.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hs}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let r=this.children_.get(t);return r===null?Hs:r}}getChild(t){let r=H(t);return r===null?this:this.getImmediateChild(r).getChild(ie(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(w(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{let i=new z(t,r),o,s;r.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Hs:this.priorityNode_;return new e(o,a,s)}}updateChild(t,r){let i=H(t);if(i===null)return r;{w(H(t)!==".priority"||fr(t)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ie(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(se,(a,l)=>{r[a]=l.val(t),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+mb(this.getPriority().val())+":"),this.forEachChild(se,(r,i)=>{let o=i.hash();o!==""&&(t+=":"+r+":"+o)}),this.lazyHash_=t===""?"":Y0(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new z(t,r));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){let r=this.getFirstChildName(t);return r?new z(r,this.children_.get(r)):null}getLastChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){let r=this.getLastChildName(t);return r?new z(r,this.children_.get(r)):null}forEachChild(t,r){let i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{let o=this.children_.getIteratorFrom(t.name,z.Wrap),s=o.peek();for(;s!=null&&r.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{let o=this.children_.getReverseIteratorFrom(t.name,z.Wrap),s=o.peek();for(;s!=null&&r.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===fa?-1:0}withIndex(t){if(t===an||this.indexMap_.hasIndex(t))return this;{let r=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===an||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(se),o=r.getIterator(se),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===an?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Wg=class extends L{constructor(){super(new At(Vm),L.EMPTY_NODE,ho.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return L.EMPTY_NODE}isEmpty(){return!1}},fa=new Wg;Object.defineProperties(z,{MIN:{value:new z(dr,L.EMPTY_NODE)},MAX:{value:new z(Pn,fa)}});Eu.__EMPTY_NODE=L.EMPTY_NODE;fo.__childrenNodeConstructor=L;nk(fa);ik(fa);var sk=!0;function he(e,n=null){if(e===null)return L.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(n=e[".priority"]),w(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let t=e;return new fo(t,he(n))}if(!(e instanceof Array)&&sk){let t=[],r=!1;if(Ae(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=he(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new z(s,l)))}}),t.length===0)return L.EMPTY_NODE;let o=Du(t,tk,s=>s.name,Vm);if(r){let s=Du(t,se.getCompare());return new L(o,he(n),new ho({".priority":s},{".priority":se}))}else return new L(o,he(n),ho.Default)}else{let t=L.EMPTY_NODE;return Ae(e,(r,i)=>{if(gt(e,r)&&r.substring(0,1)!=="."){let o=he(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(he(n))}}rk(he);var Js=class extends uo{constructor(n){super(),this.indexPath_=n,w(!W(n)&&H(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){let r=this.extractChild(n.node),i=this.extractChild(t.node),o=r.compareTo(i);return o===0?Hr(n.name,t.name):o}makePost(n,t){let r=he(n),i=L.EMPTY_NODE.updateChild(this.indexPath_,r);return new z(t,i)}maxPost(){let n=L.EMPTY_NODE.updateChild(this.indexPath_,fa);return new z(Pn,n)}toString(){return Ks(this.indexPath_,0).join("/")}};var zg=class extends uo{compare(n,t){let r=n.node.compareTo(t.node);return r===0?Hr(n.name,t.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(n,t){let r=he(n);return new z(t,r)}toString(){return".value"}},jm=new zg;function Cb(e){return{type:"value",snapshotNode:e}}function po(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function Xs(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function ea(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}function ak(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}var ta=class{constructor(n){this.index_=n}updateChild(n,t,r,i,o,s){w(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=n.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?n.hasChild(t)?s.trackChildChange(Xs(t,a)):w(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(po(t,r)):s.trackChildChange(ea(t,r,a))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(n,t,r){return r!=null&&(n.isLeafNode()||n.forEachChild(se,(i,o)=>{t.hasChild(i)||r.trackChildChange(Xs(i,o))}),t.isLeafNode()||t.forEachChild(se,(i,o)=>{if(n.hasChild(i)){let s=n.getImmediateChild(i);s.equals(o)||r.trackChildChange(ea(i,o,s))}else r.trackChildChange(po(i,o))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?L.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var bu=class e{constructor(n){this.indexedFilter_=new ta(n.getIndex()),this.index_=n.getIndex(),this.startPost_=e.getStartPost_(n),this.endPost_=e.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return t&&r}updateChild(n,t,r,i,o,s){return this.matches(new z(t,r))||(r=L.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,r,i,o,s)}updateFullNode(n,t,r){t.isLeafNode()&&(t=L.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(L.EMPTY_NODE);let o=this;return t.forEachChild(se,(s,a)=>{o.matches(new z(s,a))||(i=i.updateImmediateChild(s,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,i,r)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){let t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){let t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}else return n.getIndex().maxPost()}};var Gg=class{constructor(n){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{let r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new bu(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,t,r,i,o,s){return this.rangedFilter_.matches(new z(t,r))||(r=L.EMPTY_NODE),n.getImmediateChild(t).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,r,i,o,s):this.fullLimitUpdateChild_(n,t,r,o,s)}updateFullNode(n,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=L.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(L.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,i,r)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,g)=>d(g,f)}else s=this.index_.getCompare();let a=n;w(a.numChildren()===this.limit_,"");let l=new z(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){let d=a.getImmediateChild(t),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===t||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let g=f==null?1:s(f,l);if(u&&!r.isEmpty()&&g>=0)return o?.trackChildChange(ea(t,r,d)),a.updateImmediateChild(t,r);{o?.trackChildChange(Xs(t,d));let y=a.updateImmediateChild(t,L.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(po(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?n:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Xs(c.name,c.node)),o.trackChildChange(po(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,L.EMPTY_NODE)):n}};var na=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dr}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===se}copy(){let n=new e;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}};function lk(e){return e.loadsAllData()?new ta(e.getIndex()):e.hasLimit()?new Gg(e):new bu(e)}function ck(e,n){let t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="l",t}function uk(e,n){let t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="r",t}function qg(e,n,t){let r=e.copy();return r.startSet_=!0,n===void 0&&(n=null),r.indexStartValue_=n,t!=null?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function dk(e,n,t){let r;return e.index_===an||t?r=qg(e,n,t):r=qg(e,n,Pn),r.startAfterSet_=!0,r}function Yg(e,n,t){let r=e.copy();return r.endSet_=!0,n===void 0&&(n=null),r.indexEndValue_=n,t!==void 0?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function fk(e,n,t){let r;return e.index_===an||t?r=Yg(e,n,t):r=Yg(e,n,dr),r.endBeforeSet_=!0,r}function Hu(e,n){let t=e.copy();return t.index_=n,t}function x0(e){let n={};if(e.isDefault())return n;let t;if(e.index_===se?t="$priority":e.index_===jm?t="$value":e.index_===an?t="$key":(w(e.index_ instanceof Js,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=ye(t),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";n[r]=ye(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+ye(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";n[r]=ye(e.indexEndValue_),e.endNameSet_&&(n[r]+=","+ye(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function N0(e){let n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_),n.sin=!e.startAfterSet_),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_),n.ein=!e.endBeforeSet_),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;t===""&&(e.isViewFromLeft()?t="l":t="r"),n.vf=t}return e.index_!==se&&(n.i=e.index_.toString()),n}var Zg=class e extends _u{constructor(n,t,r,i){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=da("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return t!==void 0?"tag$"+t:(w(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,r,i){let o=n._path.toString();this.log_("Listen called for "+o+" "+n._queryIdentifier);let s=e.getListenId_(n,r),a={};this.listens_[s]=a;let l=x0(n._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),Fn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(n,t){let r=e.getListenId_(n,t);delete this.listens_[r]}get(n){let t=x0(n._queryParams),r=n._path.toString(),i=new Se;return this.restRequest_(r+".json",t,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(n){}restRequest_(n,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+qv(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ia(a.responseText)}catch{je("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&je("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Qg=class{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}};function Iu(){return{value:null,children:new Map}}function Co(e,n,t){if(W(n))e.value=t,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(n,t);else{let r=H(n);e.children.has(r)||e.children.set(r,Iu());let i=e.children.get(r);n=ie(n),Co(i,n,t)}}function Kg(e,n){if(W(n))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let t=e.value;return e.value=null,t.forEachChild(se,(r,i)=>{Co(e,new J(r),i)}),Kg(e,n)}}else if(e.children.size>0){let t=H(n);return n=ie(n),e.children.has(t)&&Kg(e.children.get(t),n)&&e.children.delete(t),e.children.size===0}else return!0}function Jg(e,n,t){e.value!==null?t(n,e.value):hk(e,(r,i)=>{let o=new J(n.toString()+"/"+r);Jg(i,o,t)})}function hk(e,n){e.children.forEach((t,r)=>{n(r,t)})}var Xg=class{constructor(n){this.collection_=n,this.last_=null}get(){let n=this.collection_.get(),t=Object.assign({},n);return this.last_&&Ae(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=n,t}};var R0=10*1e3,pk=30*1e3,gk=5*60*1e3,em=class{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Xg(n);let r=R0+(pk-R0)*Math.random();zs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let n=this.statsListener_.get(),t={},r=!1;Ae(n,(i,o)=>{o>0&&gt(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),zs(this.reportStats_.bind(this),Math.floor(Math.random()*2*gk))}};var sn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(sn||{});function Um(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $m(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var tm=class e{constructor(n,t,r){this.path=n,this.affectedTree=t,this.revert=r,this.type=sn.ACK_USER_WRITE,this.source=Um()}operationForChild(n){if(W(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new J(n));return new e(K(),t,this.revert)}}else return w(H(this.path)===n,"operationForChild called for unrelated child."),new e(ie(this.path),this.affectedTree,this.revert)}};var Su=class e{constructor(n,t){this.source=n,this.path=t,this.type=sn.LISTEN_COMPLETE}operationForChild(n){return W(this.path)?new e(this.source,K()):new e(this.source,ie(this.path))}};var go=class e{constructor(n,t,r){this.source=n,this.path=t,this.snap=r,this.type=sn.OVERWRITE}operationForChild(n){return W(this.path)?new e(this.source,K(),this.snap.getImmediateChild(n)):new e(this.source,ie(this.path),this.snap)}};var ra=class e{constructor(n,t,r){this.source=n,this.path=t,this.children=r,this.type=sn.MERGE}operationForChild(n){if(W(this.path)){let t=this.children.subtree(new J(n));return t.isEmpty()?null:t.value?new go(this.source,K(),t.value):new e(this.source,K(),t)}else return w(H(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var cn=class{constructor(n,t,r){this.node_=n,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(W(n))return this.isFullyInitialized()&&!this.filtered_;let t=H(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}};var nm=class{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}};function mk(e,n,t,r){let i=[],o=[];return n.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(ak(s.childName,s.snapshotNode))}),Ws(e,i,"child_removed",n,r,t),Ws(e,i,"child_added",n,r,t),Ws(e,i,"child_moved",o,r,t),Ws(e,i,"child_changed",n,r,t),Ws(e,i,"value",n,r,t),i}function Ws(e,n,t,r,i,o){let s=r.filter(a=>a.type===t);s.sort((a,l)=>yk(e,a,l)),s.forEach(a=>{let l=vk(e,a,o);i.forEach(c=>{c.respondsTo(a.type)&&n.push(c.createEvent(l,e.query_))})})}function vk(e,n,t){return n.type==="value"||n.type==="child_removed"||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}function yk(e,n,t){if(n.childName==null||t.childName==null)throw Yr("Should only compare child_ events.");let r=new z(n.childName,n.snapshotNode),i=new z(t.childName,t.snapshotNode);return e.index_.compare(r,i)}function Wu(e,n){return{eventCache:e,serverCache:n}}function qs(e,n,t,r){return Wu(new cn(n,t,r),e.serverCache)}function wb(e,n,t,r){return Wu(e.eventCache,new cn(n,t,r))}function Tu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $r(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var bg,_k=()=>(bg||(bg=new At(v1)),bg),Xe=class e{constructor(n,t=_k()){this.value=n,this.children=t}static fromObject(n){let t=new e(null);return Ae(n,(r,i)=>{t=t.set(new J(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(this.value!=null&&t(this.value))return{path:K(),value:this.value};if(W(n))return null;{let r=H(n),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ie(n),t);return o!=null?{path:fe(new J(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(W(n))return this;{let t=H(n),r=this.children.get(t);return r!==null?r.subtree(ie(n)):new e(null)}}set(n,t){if(W(n))return new e(t,this.children);{let r=H(n),o=(this.children.get(r)||new e(null)).set(ie(n),t),s=this.children.insert(r,o);return new e(this.value,s)}}remove(n){if(W(n))return this.children.isEmpty()?new e(null):new e(null,this.children);{let t=H(n),r=this.children.get(t);if(r){let i=r.remove(ie(n)),o;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(n){if(W(n))return this.value;{let t=H(n),r=this.children.get(t);return r?r.get(ie(n)):null}}setTree(n,t){if(W(n))return t;{let r=H(n),o=(this.children.get(r)||new e(null)).setTree(ie(n),t),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(n){return this.fold_(K(),n)}fold_(n,t){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(fe(n,i),t)}),t(n,this.value,r)}findOnPath(n,t){return this.findOnPath_(n,K(),t)}findOnPath_(n,t,r){let i=this.value?r(t,this.value):!1;if(i)return i;if(W(n))return null;{let o=H(n),s=this.children.get(o);return s?s.findOnPath_(ie(n),fe(t,o),r):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,K(),t)}foreachOnPath_(n,t,r){if(W(n))return this;{this.value&&r(t,this.value);let i=H(n),o=this.children.get(i);return o?o.foreachOnPath_(ie(n),fe(t,i),r):new e(null)}}foreach(n){this.foreach_(K(),n)}foreach_(n,t){this.children.inorderTraversal((r,i)=>{i.foreach_(fe(n,r),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,r)=>{r.value&&n(t,r.value)})}};var Bt=class e{constructor(n){this.writeTree_=n}static empty(){return new e(new Xe(null))}};function Ys(e,n,t){if(W(n))return new Bt(new Xe(t));{let r=e.writeTree_.findRootMostValueAndPath(n);if(r!=null){let i=r.path,o=r.value,s=Je(i,n);return o=o.updateChild(s,t),new Bt(e.writeTree_.set(i,o))}else{let i=new Xe(t),o=e.writeTree_.setTree(n,i);return new Bt(o)}}}function rm(e,n,t){let r=e;return Ae(t,(i,o)=>{r=Ys(r,fe(n,i),o)}),r}function P0(e,n){if(W(n))return Bt.empty();{let t=e.writeTree_.setTree(n,new Xe(null));return new Bt(t)}}function im(e,n){return Wr(e,n)!=null}function Wr(e,n){let t=e.writeTree_.findRootMostValueAndPath(n);return t!=null?e.writeTree_.get(t.path).getChild(Je(t.path,n)):null}function O0(e){let n=[],t=e.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(se,(r,i)=>{n.push(new z(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&n.push(new z(r,i.value))}),n}function cr(e,n){if(W(n))return e;{let t=Wr(e,n);return t!=null?new Bt(new Xe(t)):new Bt(e.writeTree_.subtree(n))}}function om(e){return e.writeTree_.isEmpty()}function mo(e,n){return Eb(K(),e.writeTree_,n)}function Eb(e,n,t){if(n.value!=null)return t.updateChild(e,n.value);{let r=null;return n.children.inorderTraversal((i,o)=>{i===".priority"?(w(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=Eb(fe(e,i),o,t)}),!t.getChild(e).isEmpty()&&r!==null&&(t=t.updateChild(fe(e,".priority"),r)),t}}function zu(e,n){return Sb(n,e)}function Ck(e,n,t,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:n,snap:t,writeId:r,visible:i}),i&&(e.visibleWrites=Ys(e.visibleWrites,n,t)),e.lastWriteId=r}function wk(e,n,t,r){w(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:r,visible:!0}),e.visibleWrites=rm(e.visibleWrites,n,t),e.lastWriteId=r}function Ek(e,n){for(let t=0;t<e.allWrites.length;t++){let r=e.allWrites[t];if(r.writeId===n)return r}return null}function Dk(e,n){let t=e.allWrites.findIndex(a=>a.writeId===n);w(t>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[t];e.allWrites.splice(t,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=t&&bk(a,r.path)?i=!1:Mt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Ik(e),!0;if(r.snap)e.visibleWrites=P0(e.visibleWrites,r.path);else{let a=r.children;Ae(a,l=>{e.visibleWrites=P0(e.visibleWrites,fe(r.path,l))})}return!0}else return!1}function bk(e,n){if(e.snap)return Mt(e.path,n);for(let t in e.children)if(e.children.hasOwnProperty(t)&&Mt(fe(e.path,t),n))return!0;return!1}function Ik(e){e.visibleWrites=Db(e.allWrites,Sk,K()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Sk(e){return e.visible}function Db(e,n,t){let r=Bt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(n(o)){let s=o.path,a;if(o.snap)Mt(t,s)?(a=Je(t,s),r=Ys(r,a,o.snap)):Mt(s,t)&&(a=Je(s,t),r=Ys(r,K(),o.snap.getChild(a)));else if(o.children){if(Mt(t,s))a=Je(t,s),r=rm(r,a,o.children);else if(Mt(s,t))if(a=Je(s,t),W(a))r=rm(r,K(),o.children);else{let l=Fn(o.children,H(a));if(l){let c=l.getChild(ie(a));r=Ys(r,K(),c)}}}else throw Yr("WriteRecord should have .snap or .children")}}return r}function bb(e,n,t,r,i){if(!r&&!i){let o=Wr(e.visibleWrites,n);if(o!=null)return o;{let s=cr(e.visibleWrites,n);if(om(s))return t;if(t==null&&!im(s,K()))return null;{let a=t||L.EMPTY_NODE;return mo(s,a)}}}else{let o=cr(e.visibleWrites,n);if(!i&&om(o))return t;if(!i&&t==null&&!im(o,K()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Mt(c.path,n)||Mt(n,c.path))},a=Db(e.allWrites,s,n),l=t||L.EMPTY_NODE;return mo(a,l)}}}function Tk(e,n,t){let r=L.EMPTY_NODE,i=Wr(e.visibleWrites,n);if(i)return i.isLeafNode()||i.forEachChild(se,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(t){let o=cr(e.visibleWrites,n);return t.forEachChild(se,(s,a)=>{let l=mo(cr(o,new J(s)),a);r=r.updateImmediateChild(s,l)}),O0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=cr(e.visibleWrites,n);return O0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Mk(e,n,t,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=fe(n,t);if(im(e.visibleWrites,o))return null;{let s=cr(e.visibleWrites,o);return om(s)?i.getChild(t):mo(s,i.getChild(t))}}function Ak(e,n,t,r){let i=fe(n,t),o=Wr(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){let s=cr(e.visibleWrites,i);return mo(s,r.getNode().getImmediateChild(t))}else return null}function xk(e,n){return Wr(e.visibleWrites,n)}function Nk(e,n,t,r,i,o,s){let a,l=cr(e.visibleWrites,n),c=Wr(l,K());if(c!=null)a=c;else if(t!=null)a=mo(l,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),g=f.getNext();for(;g&&u.length<i;)d(g,r)!==0&&u.push(g),g=f.getNext();return u}else return[]}function Rk(){return{visibleWrites:Bt.empty(),allWrites:[],lastWriteId:-1}}function Mu(e,n,t,r){return bb(e.writeTree,e.treePath,n,t,r)}function Hm(e,n){return Tk(e.writeTree,e.treePath,n)}function k0(e,n,t,r){return Mk(e.writeTree,e.treePath,n,t,r)}function Au(e,n){return xk(e.writeTree,fe(e.treePath,n))}function Pk(e,n,t,r,i,o){return Nk(e.writeTree,e.treePath,n,t,r,i,o)}function Wm(e,n,t){return Ak(e.writeTree,e.treePath,n,t)}function Ib(e,n){return Sb(fe(e.treePath,n),e.writeTree)}function Sb(e,n){return{treePath:e,writeTree:n}}var sm=class{constructor(){this.changeMap=new Map}trackChildChange(n){let t=n.type,r=n.childName;w(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),w(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,ea(r,n.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,Xs(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,po(r,n.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,ea(r,n.snapshotNode,i.oldSnap));else throw Yr("Illegal combination of changes: "+n+" occurred after "+i)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}};var am=class{getCompleteChild(n){return null}getChildAfterChild(n,t,r){return null}},Tb=new am,ia=class{constructor(n,t,r=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(n){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{let r=this.optCompleteServerCache_!=null?new cn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wm(this.writes_,n,r)}}getChildAfterChild(n,t,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$r(this.viewCache_),o=Pk(this.writes_,i,t,1,r,n);return o.length===0?null:o[0]}};function Ok(e){return{filter:e}}function kk(e,n){w(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Fk(e,n,t,r,i){let o=new sm,s,a;if(t.type===sn.OVERWRITE){let c=t;c.source.fromUser?s=lm(e,n,c.path,c.snap,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||n.serverCache.isFiltered()&&!W(c.path),s=xu(e,n,c.path,c.snap,r,i,a,o))}else if(t.type===sn.MERGE){let c=t;c.source.fromUser?s=Vk(e,n,c.path,c.children,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||n.serverCache.isFiltered(),s=cm(e,n,c.path,c.children,r,i,a,o))}else if(t.type===sn.ACK_USER_WRITE){let c=t;c.revert?s=Bk(e,n,c.path,r,i,o):s=jk(e,n,c.path,c.affectedTree,r,i,o)}else if(t.type===sn.LISTEN_COMPLETE)s=Uk(e,n,t.path,r,o);else throw Yr("Unknown operation type: "+t.type);let l=o.getChanges();return Lk(n,s,l),{viewCache:s,changes:l}}function Lk(e,n,t){let r=n.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Tu(e);(t.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(Cb(Tu(n)))}}function Mb(e,n,t,r,i,o){let s=n.eventCache;if(Au(r,t)!=null)return n;{let a,l;if(W(t))if(w(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){let c=$r(n),u=c instanceof L?c:L.EMPTY_NODE,d=Hm(r,u);a=e.filter.updateFullNode(n.eventCache.getNode(),d,o)}else{let c=Mu(r,$r(n));a=e.filter.updateFullNode(n.eventCache.getNode(),c,o)}else{let c=H(t);if(c===".priority"){w(fr(t)===1,"Can't have a priority with additional path components");let u=s.getNode();l=n.serverCache.getNode();let d=k0(r,t,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ie(t),d;if(s.isCompleteForChild(c)){l=n.serverCache.getNode();let f=k0(r,t,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=Wm(r,c,n.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return qs(n,a,s.isFullyInitialized()||W(t),e.filter.filtersNodes())}}function xu(e,n,t,r,i,o,s,a){let l=n.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(W(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let g=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),g,null)}else{let g=H(t);if(!l.isCompleteForPath(t)&&fr(t)>1)return n;let v=ie(t),E=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),g,E,v,Tb,null)}let d=wb(n,c,l.isFullyInitialized()||W(t),u.filtersNodes()),f=new ia(i,d,o);return Mb(e,d,t,i,f,a)}function lm(e,n,t,r,i,o,s){let a=n.eventCache,l,c,u=new ia(i,n,o);if(W(t))c=e.filter.updateFullNode(n.eventCache.getNode(),r,s),l=qs(n,c,!0,e.filter.filtersNodes());else{let d=H(t);if(d===".priority")c=e.filter.updatePriority(n.eventCache.getNode(),r),l=qs(n,c,a.isFullyInitialized(),a.isFiltered());else{let f=ie(t),g=a.getNode().getImmediateChild(d),v;if(W(f))v=r;else{let y=u.getCompleteChild(d);y!=null?km(f)===".priority"&&y.getChild(pb(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=L.EMPTY_NODE}if(g.equals(v))l=n;else{let y=e.filter.updateChild(a.getNode(),d,v,f,u,s);l=qs(n,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function F0(e,n){return e.eventCache.isCompleteForChild(n)}function Vk(e,n,t,r,i,o,s){let a=n;return r.foreach((l,c)=>{let u=fe(t,l);F0(n,H(u))&&(a=lm(e,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=fe(t,l);F0(n,H(u))||(a=lm(e,a,u,c,i,o,s))}),a}function L0(e,n,t){return t.foreach((r,i)=>{n=n.updateChild(r,i)}),n}function cm(e,n,t,r,i,o,s,a){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let l=n,c;W(t)?c=r:c=new Xe(null).setTree(t,r);let u=n.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let g=n.serverCache.getNode().getImmediateChild(d),v=L0(e,g,f);l=xu(e,l,new J(d),v,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let g=!n.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!g){let v=n.serverCache.getNode().getImmediateChild(d),y=L0(e,v,f);l=xu(e,l,new J(d),y,i,o,s,a)}}),l}function jk(e,n,t,r,i,o,s){if(Au(i,t)!=null)return n;let a=n.serverCache.isFiltered(),l=n.serverCache;if(r.value!=null){if(W(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return xu(e,n,t,l.getNode().getChild(t),i,o,a,s);if(W(t)){let c=new Xe(null);return l.getNode().forEachChild(an,(u,d)=>{c=c.set(new J(u),d)}),cm(e,n,t,c,i,o,a,s)}else return n}else{let c=new Xe(null);return r.foreach((u,d)=>{let f=fe(t,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),cm(e,n,t,c,i,o,a,s)}}function Uk(e,n,t,r,i){let o=n.serverCache,s=wb(n,o.getNode(),o.isFullyInitialized()||W(t),o.isFiltered());return Mb(e,s,t,r,Tb,i)}function Bk(e,n,t,r,i,o){let s;if(Au(r,t)!=null)return n;{let a=new ia(r,n,i),l=n.eventCache.getNode(),c;if(W(t)||H(t)===".priority"){let u;if(n.serverCache.isFullyInitialized())u=Mu(r,$r(n));else{let d=n.serverCache.getNode();w(d instanceof L,"serverChildren would be complete if leaf node"),u=Hm(r,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=H(t),d=Wm(r,u,n.serverCache);d==null&&n.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,ie(t),a,o):n.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,L.EMPTY_NODE,ie(t),a,o):c=l,c.isEmpty()&&n.serverCache.isFullyInitialized()&&(s=Mu(r,$r(n)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=n.serverCache.isFullyInitialized()||Au(r,K())!=null,qs(n,c,s,e.filter.filtersNodes())}}var um=class{constructor(n,t){this.query_=n,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ta(r.getIndex()),o=lk(r);this.processor_=Ok(o);let s=t.serverCache,a=t.eventCache,l=i.updateFullNode(L.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(L.EMPTY_NODE,a.getNode(),null),u=new cn(l,s.isFullyInitialized(),i.filtersNodes()),d=new cn(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Wu(d,u),this.eventGenerator_=new nm(this.query_)}get query(){return this.query_}};function $k(e){return e.viewCache_.serverCache.getNode()}function Hk(e){return Tu(e.viewCache_)}function Wk(e,n){let t=$r(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!W(n)&&!t.getImmediateChild(H(n)).isEmpty())?t.getChild(n):null}function V0(e){return e.eventRegistrations_.length===0}function zk(e,n){e.eventRegistrations_.push(n)}function j0(e,n,t){let r=[];if(t){w(n==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(t,i);s&&r.push(s)})}if(n){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(n))i.push(s);else if(n.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function U0(e,n,t,r){n.type===sn.MERGE&&n.source.queryId!==null&&(w($r(e.viewCache_),"We should always have a full cache before handling merges"),w(Tu(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=Fk(e.processor_,i,n,t,r);return kk(e.processor_,o.viewCache),w(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Ab(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Gk(e,n){let t=e.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(se,(o,s)=>{r.push(po(o,s))}),t.isFullyInitialized()&&r.push(Cb(t.getNode())),Ab(e,r,t.getNode(),n)}function Ab(e,n,t,r){let i=r?[r]:e.eventRegistrations_;return mk(e.eventGenerator_,n,t,i)}var Nu,Ru=class{constructor(){this.views=new Map}};function qk(e){w(!Nu,"__referenceConstructor has already been defined"),Nu=e}function Yk(){return w(Nu,"Reference.ts has not been loaded"),Nu}function Zk(e){return e.views.size===0}function zm(e,n,t,r){let i=n.source.queryId;if(i!==null){let o=e.views.get(i);return w(o!=null,"SyncTree gave us an op for an invalid query."),U0(o,n,t,r)}else{let o=[];for(let s of e.views.values())o=o.concat(U0(s,n,t,r));return o}}function xb(e,n,t,r,i){let o=n._queryIdentifier,s=e.views.get(o);if(!s){let a=Mu(t,i?r:null),l=!1;a?l=!0:r instanceof L?(a=Hm(t,r),l=!1):(a=L.EMPTY_NODE,l=!1);let c=Wu(new cn(a,l,!1),new cn(r,i,!1));return new um(n,c)}return s}function Qk(e,n,t,r,i,o){let s=xb(e,n,r,i,o);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,s),zk(s,t),Gk(s,t)}function Kk(e,n,t,r){let i=n._queryIdentifier,o=[],s=[],a=hr(e);if(i==="default")for(let[l,c]of e.views.entries())s=s.concat(j0(c,t,r)),V0(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(i);l&&(s=s.concat(j0(l,t,r)),V0(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!hr(e)&&o.push(new(Yk())(n._repo,n._path)),{removed:o,events:s}}function Nb(e){let n=[];for(let t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function ur(e,n){let t=null;for(let r of e.views.values())t=t||Wk(r,n);return t}function Rb(e,n){if(n._queryParams.loadsAllData())return Gu(e);{let r=n._queryIdentifier;return e.views.get(r)}}function Pb(e,n){return Rb(e,n)!=null}function hr(e){return Gu(e)!=null}function Gu(e){for(let n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}var Pu;function Jk(e){w(!Pu,"__referenceConstructor has already been defined"),Pu=e}function Xk(){return w(Pu,"Reference.ts has not been loaded"),Pu}var eF=1,Ou=class{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Xe(null),this.pendingWriteTree_=Rk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Gm(e,n,t,r,i){return Ck(e.pendingWriteTree_,n,t,r,i),i?wo(e,new go(Um(),n,t)):[]}function tF(e,n,t,r){wk(e.pendingWriteTree_,n,t,r);let i=Xe.fromObject(t);return wo(e,new ra(Um(),n,i))}function lr(e,n,t=!1){let r=Ek(e.pendingWriteTree_,n);if(Dk(e.pendingWriteTree_,n)){let o=new Xe(null);return r.snap!=null?o=o.set(K(),!0):Ae(r.children,s=>{o=o.set(new J(s),!0)}),wo(e,new tm(r.path,o,t))}else return[]}function ha(e,n,t){return wo(e,new go(Bm(),n,t))}function nF(e,n,t){let r=Xe.fromObject(t);return wo(e,new ra(Bm(),n,r))}function rF(e,n){return wo(e,new Su(Bm(),n))}function iF(e,n,t){let r=qm(e,t);if(r){let i=Ym(r),o=i.path,s=i.queryId,a=Je(o,n),l=new Su($m(s),a);return Zm(e,o,l)}else return[]}function ku(e,n,t,r,i=!1){let o=n._path,s=e.syncPointTree_.get(o),a=[];if(s&&(n._queryIdentifier==="default"||Pb(s,n))){let l=Kk(s,n,t,r);Zk(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,g)=>hr(g));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let g=aF(f);for(let v=0;v<g.length;++v){let y=g[v],E=y.query,M=Lb(e,y);e.listenProvider_.startListening(Zs(E),oa(e,E),M.hashFn,M.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(Zs(n),null):c.forEach(f=>{let g=e.queryToTagMap.get(Yu(f));e.listenProvider_.stopListening(Zs(f),g)}))}lF(e,c)}return a}function Ob(e,n,t,r){let i=qm(e,r);if(i!=null){let o=Ym(i),s=o.path,a=o.queryId,l=Je(s,n),c=new go($m(a),l,t);return Zm(e,s,c)}else return[]}function oF(e,n,t,r){let i=qm(e,r);if(i){let o=Ym(i),s=o.path,a=o.queryId,l=Je(s,n),c=Xe.fromObject(t),u=new ra($m(a),l,c);return Zm(e,s,u)}else return[]}function dm(e,n,t,r=!1){let i=n._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,g)=>{let v=Je(f,i);o=o||ur(g,v),s=s||hr(g)});let a=e.syncPointTree_.get(i);a?(s=s||hr(a),o=o||ur(a,K())):(a=new Ru,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=L.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((g,v)=>{let y=ur(v,K());y&&(o=o.updateImmediateChild(g,y))}));let c=Pb(a,n);if(!c&&!n._queryParams.loadsAllData()){let f=Yu(n);w(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let g=cF();e.queryToTagMap.set(f,g),e.tagToQueryMap.set(g,f)}let u=zu(e.pendingWriteTree_,i),d=Qk(a,n,t,u,o,l);if(!c&&!s&&!r){let f=Rb(a,n);d=d.concat(uF(e,n,f))}return d}function qu(e,n,t){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(n,(s,a)=>{let l=Je(s,n),c=ur(a,l);if(c)return c});return bb(i,n,o,t,!0)}function sF(e,n){let t=n._path,r=null;e.syncPointTree_.foreachOnPath(t,(c,u)=>{let d=Je(c,t);r=r||ur(u,d)});let i=e.syncPointTree_.get(t);i?r=r||ur(i,K()):(i=new Ru,e.syncPointTree_=e.syncPointTree_.set(t,i));let o=r!=null,s=o?new cn(r,!0,!1):null,a=zu(e.pendingWriteTree_,n._path),l=xb(i,n,a,o?s.getNode():L.EMPTY_NODE,o);return Hk(l)}function wo(e,n){return kb(n,e.syncPointTree_,null,zu(e.pendingWriteTree_,K()))}function kb(e,n,t,r){if(W(e.path))return Fb(e,n,t,r);{let i=n.get(K());t==null&&i!=null&&(t=ur(i,K()));let o=[],s=H(e.path),a=e.operationForChild(s),l=n.children.get(s);if(l&&a){let c=t?t.getImmediateChild(s):null,u=Ib(r,s);o=o.concat(kb(a,l,c,u))}return i&&(o=o.concat(zm(i,e,r,t))),o}}function Fb(e,n,t,r){let i=n.get(K());t==null&&i!=null&&(t=ur(i,K()));let o=[];return n.children.inorderTraversal((s,a)=>{let l=t?t.getImmediateChild(s):null,c=Ib(r,s),u=e.operationForChild(s);u&&(o=o.concat(Fb(u,a,l,c)))}),i&&(o=o.concat(zm(i,e,r,t))),o}function Lb(e,n){let t=n.query,r=oa(e,t);return{hashFn:()=>($k(n)||L.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?iF(e,t._path,r):rF(e,t._path);{let o=C1(i,t);return ku(e,t,null,o)}}}}function oa(e,n){let t=Yu(n);return e.queryToTagMap.get(t)}function Yu(e){return e._path.toString()+"$"+e._queryIdentifier}function qm(e,n){return e.tagToQueryMap.get(n)}function Ym(e){let n=e.indexOf("$");return w(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new J(e.substr(0,n))}}function Zm(e,n,t){let r=e.syncPointTree_.get(n);w(r,"Missing sync point for query tag that we're tracking");let i=zu(e.pendingWriteTree_,n);return zm(r,t,i,null)}function aF(e){return e.fold((n,t,r)=>{if(t&&hr(t))return[Gu(t)];{let i=[];return t&&(i=Nb(t)),Ae(r,(o,s)=>{i=i.concat(s)}),i}})}function Zs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Xk())(e._repo,e._path):e}function lF(e,n){for(let t=0;t<n.length;++t){let r=n[t];if(!r._queryParams.loadsAllData()){let i=Yu(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function cF(){return eF++}function uF(e,n,t){let r=n._path,i=oa(e,n),o=Lb(e,t),s=e.listenProvider_.startListening(Zs(n),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)w(!hr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!W(c)&&u&&hr(u))return[Gu(u).query];{let f=[];return u&&(f=f.concat(Nb(u).map(g=>g.query))),Ae(d,(g,v)=>{f=f.concat(v)}),f}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Zs(u),oa(e,u))}}return s}var fm=class e{constructor(n){this.node_=n}getImmediateChild(n){let t=this.node_.getImmediateChild(n);return new e(t)}node(){return this.node_}},hm=class e{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){let t=fe(this.path_,n);return new e(this.syncTree_,t)}node(){return qu(this.syncTree_,this.path_)}},dF=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},B0=function(e,n,t){if(!e||typeof e!="object")return e;if(w(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return fF(e[".sv"],n,t);if(typeof e[".sv"]=="object")return hF(e[".sv"],n);w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},fF=function(e,n,t){switch(e){case"timestamp":return t.timestamp;default:w(!1,"Unexpected server value: "+e)}},hF=function(e,n,t){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&w(!1,"Unexpected increment value: "+r);let i=n.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},Vb=function(e,n,t,r){return Km(n,new hm(t,e),r)},Qm=function(e,n,t){return Km(e,new fm(n),t)};function Km(e,n,t){let r=e.getPriority().val(),i=B0(r,n.getImmediateChild(".priority"),t),o;if(e.isLeafNode()){let s=e,a=B0(s.getValue(),n,t);return a!==s.getValue()||i!==s.getPriority().val()?new fo(a,he(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new fo(i))),s.forEachChild(se,(a,l)=>{let c=Km(l,n.getImmediateChild(a),t);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var sa=class{constructor(n="",t=null,r={children:{},childCount:0}){this.name=n,this.parent=t,this.node=r}};function Zu(e,n){let t=n instanceof J?n:new J(n),r=e,i=H(t);for(;i!==null;){let o=Fn(r.node.children,i)||{children:{},childCount:0};r=new sa(i,r,o),t=ie(t),i=H(t)}return r}function zr(e){return e.node.value}function Jm(e,n){e.node.value=n,pm(e)}function jb(e){return e.node.childCount>0}function pF(e){return zr(e)===void 0&&!jb(e)}function Qu(e,n){Ae(e.node.children,(t,r)=>{n(new sa(t,e,r))})}function Ub(e,n,t,r){t&&!r&&n(e),Qu(e,i=>{Ub(i,n,!0,r)}),t&&r&&n(e)}function gF(e,n,t){let r=t?e:e.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function pa(e){return new J(e.parent===null?e.name:pa(e.parent)+"/"+e.name)}function pm(e){e.parent!==null&&mF(e.parent,e.name,e)}function mF(e,n,t){let r=pF(t),i=gt(e.node.children,n);r&&i?(delete e.node.children[n],e.node.childCount--,pm(e)):!r&&!i&&(e.node.children[n]=t.node,e.node.childCount++,pm(e))}var vF=/[\[\].#$\/\u0000-\u001F\u007F]/,yF=/[\[\].#$\u0000-\u001F\u007F]/,Ig=10*1024*1024,Ku=function(e){return typeof e=="string"&&e.length!==0&&!vF.test(e)},Bb=function(e){return typeof e=="string"&&e.length!==0&&!yF.test(e)},_F=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Bb(e)},aa=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!$u(e)||e&&typeof e=="object"&&gt(e,".sv")},un=function(e,n,t,r){r&&n===void 0||ga(tt(e,"value"),n,t)},ga=function(e,n,t){let r=t instanceof J?new Vg(t,e):t;if(n===void 0)throw new Error(e+"contains undefined "+jr(r));if(typeof n=="function")throw new Error(e+"contains a function "+jr(r)+" with contents = "+n.toString());if($u(n))throw new Error(e+"contains "+n.toString()+" "+jr(r));if(typeof n=="string"&&n.length>Ig/3&&Io(n)>Ig)throw new Error(e+"contains a string greater than "+Ig+" utf8 bytes "+jr(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let i=!1,o=!1;if(Ae(n,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Ku(s)))throw new Error(e+" contains an invalid key ("+s+") "+jr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Z1(r,s),ga(e,a,r),Q1(r)}),i&&o)throw new Error(e+' contains ".value" child '+jr(r)+" in addition to actual children.")}},CF=function(e,n){let t,r;for(t=0;t<n.length;t++){r=n[t];let o=Ks(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Ku(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(Y1);let i=null;for(t=0;t<n.length;t++){if(r=n[t],i!==null&&Mt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},$b=function(e,n,t,r){if(r&&n===void 0)return;let i=tt(e,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(i+" must be an object containing the children to replace.");let o=[];Ae(n,(s,a)=>{let l=new J(s);if(ga(i,a,fe(t,l)),km(l)===".priority"&&!aa(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),CF(i,o)},Xm=function(e,n,t){if(!(t&&n===void 0)){if($u(n))throw new Error(tt(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!aa(n))throw new Error(tt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ma=function(e,n,t,r){if(!(r&&t===void 0)&&!Ku(t))throw new Error(tt(e,n)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Eo=function(e,n,t,r){if(!(r&&t===void 0)&&!Bb(t))throw new Error(tt(e,n)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wF=function(e,n,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Eo(e,n,t,r)},ut=function(e,n){if(H(n)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Hb=function(e,n){let t=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Ku(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!_F(t))throw new Error(tt(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var gm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Ju(e,n){let t=null;for(let r=0;r<n.length;r++){let i=n[r],o=i.getPath();t!==null&&!Fm(o,t.path)&&(e.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&e.eventLists_.push(t)}function Wb(e,n,t){Ju(e,t),zb(e,r=>Fm(r,n))}function dt(e,n,t){Ju(e,t),zb(e,r=>Mt(r,n)||Mt(n,r))}function zb(e,n){e.recursionDepth_++;let t=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;n(o)?(EF(e.eventLists_[r]),e.eventLists_[r]=null):t=!1}}t&&(e.eventLists_=[]),e.recursionDepth_--}function EF(e){for(let n=0;n<e.events.length;n++){let t=e.events[n];if(t!==null){e.events[n]=null;let r=t.getEventRunner();Br&&Me("event: "+t.toString()),_o(r)}}}var Gb="repo_interrupt",DF=25,mm=class{constructor(n,t,r,i){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Iu(),this.transactionQueueTree_=new sa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function bF(e,n,t){if(e.stats_=Om(e.repoInfo_),e.forceRestClient_||b1())e.server_=new Zg(e.repoInfo_,(r,i,o,s)=>{$0(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>H0(e,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ye(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Lm(e.repoInfo_,n,(r,i,o,s)=>{$0(e,r,i,o,s)},r=>{H0(e,r)},r=>{IF(e,r)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=S1(e.repoInfo_,()=>new em(e.stats_,e.server_)),e.infoData_=new Qg,e.infoSyncTree_=new Ou({startListening:(r,i,o,s)=>{let a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=ha(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),ev(e,"connected",!1),e.serverSyncTree_=new Ou({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);dt(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function qb(e){let t=e.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function va(e){return dF({timestamp:qb(e)})}function $0(e,n,t,r,i){e.dataUpdateCount++;let o=new J(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let s=[];if(i)if(r){let l=bo(t,c=>he(c));s=oF(e.serverSyncTree_,o,l,i)}else{let l=he(t);s=Ob(e.serverSyncTree_,o,l,i)}else if(r){let l=bo(t,c=>he(c));s=nF(e.serverSyncTree_,o,l)}else{let l=he(t);s=ha(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=vo(e,o)),dt(e.eventQueue_,a,s)}function H0(e,n){ev(e,"connected",n),n===!1&&MF(e)}function IF(e,n){Ae(n,(t,r)=>{ev(e,t,r)})}function ev(e,n,t){let r=new J("/.info/"+n),i=he(t);e.infoData_.updateSnapshot(r,i);let o=ha(e.infoSyncTree_,r,i);dt(e.eventQueue_,r,o)}function Xu(e){return e.nextWriteId_++}function SF(e,n,t){let r=sF(e.serverSyncTree_,n);return r!=null?Promise.resolve(r):e.server_.get(n).then(i=>{let o=he(i).withIndex(n._queryParams.getIndex());dm(e.serverSyncTree_,n,t,!0);let s;if(n._queryParams.loadsAllData())s=ha(e.serverSyncTree_,n._path,o);else{let a=oa(e.serverSyncTree_,n);s=Ob(e.serverSyncTree_,n._path,o,a)}return dt(e.eventQueue_,n._path,s),ku(e.serverSyncTree_,n,t,null,!0),o},i=>(Do(e,"get for query "+ye(n)+" failed: "+i),Promise.reject(new Error(i))))}function tv(e,n,t,r,i){Do(e,"set",{path:n.toString(),value:t,priority:r});let o=va(e),s=he(t,r),a=qu(e.serverSyncTree_,n),l=Qm(s,a,o),c=Xu(e),u=Gm(e.serverSyncTree_,n,l,c,!0);Ju(e.eventQueue_,u),e.server_.put(n.toString(),s.val(!0),(f,g)=>{let v=f==="ok";v||je("set at "+n+" failed: "+f);let y=lr(e.serverSyncTree_,c,!v);dt(e.eventQueue_,n,y),pr(e,i,f,g)});let d=rv(e,n);vo(e,d),dt(e.eventQueue_,d,[])}function TF(e,n,t,r){Do(e,"update",{path:n.toString(),value:t});let i=!0,o=va(e),s={};if(Ae(t,(a,l)=>{i=!1,s[a]=Vb(fe(n,a),he(l),e.serverSyncTree_,o)}),i)Me("update() called with empty data.  Don't do anything."),pr(e,r,"ok",void 0);else{let a=Xu(e),l=tF(e.serverSyncTree_,n,s,a);Ju(e.eventQueue_,l),e.server_.merge(n.toString(),t,(c,u)=>{let d=c==="ok";d||je("update at "+n+" failed: "+c);let f=lr(e.serverSyncTree_,a,!d),g=f.length>0?vo(e,n):n;dt(e.eventQueue_,g,f),pr(e,r,c,u)}),Ae(t,c=>{let u=rv(e,fe(n,c));vo(e,u)}),dt(e.eventQueue_,n,[])}}function MF(e){Do(e,"onDisconnectEvents");let n=va(e),t=Iu();Jg(e.onDisconnect_,K(),(i,o)=>{let s=Vb(i,o,e.serverSyncTree_,n);Co(t,i,s)});let r=[];Jg(t,K(),(i,o)=>{r=r.concat(ha(e.serverSyncTree_,i,o));let s=rv(e,i);vo(e,s)}),e.onDisconnect_=Iu(),dt(e.eventQueue_,K(),r)}function AF(e,n,t){e.server_.onDisconnectCancel(n.toString(),(r,i)=>{r==="ok"&&Kg(e.onDisconnect_,n),pr(e,t,r,i)})}function W0(e,n,t,r){let i=he(t);e.server_.onDisconnectPut(n.toString(),i.val(!0),(o,s)=>{o==="ok"&&Co(e.onDisconnect_,n,i),pr(e,r,o,s)})}function xF(e,n,t,r,i){let o=he(t,r);e.server_.onDisconnectPut(n.toString(),o.val(!0),(s,a)=>{s==="ok"&&Co(e.onDisconnect_,n,o),pr(e,i,s,a)})}function NF(e,n,t,r){if(Sa(t)){Me("onDisconnect().update() called with empty data.  Don't do anything."),pr(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(n.toString(),t,(i,o)=>{i==="ok"&&Ae(t,(s,a)=>{let l=he(a);Co(e.onDisconnect_,fe(n,s),l)}),pr(e,r,i,o)})}function RF(e,n,t){let r;H(n._path)===".info"?r=dm(e.infoSyncTree_,n,t):r=dm(e.serverSyncTree_,n,t),Wb(e.eventQueue_,n._path,r)}function vm(e,n,t){let r;H(n._path)===".info"?r=ku(e.infoSyncTree_,n,t):r=ku(e.serverSyncTree_,n,t),Wb(e.eventQueue_,n._path,r)}function Yb(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Gb)}function PF(e){e.persistentConnection_&&e.persistentConnection_.resume(Gb)}function Do(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),Me(t,...n)}function pr(e,n,t,r){n&&_o(()=>{if(t==="ok")n(null);else{let i=(t||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,n(s)}})}function OF(e,n,t,r,i,o){Do(e,"transaction on "+n);let s={path:n,update:t,onComplete:r,status:null,order:q0(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=nv(e,n,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ga("transaction failed: Data returned ",l,s.path),s.status=0;let c=Zu(e.transactionQueueTree_,n),u=zr(c)||[];u.push(s),Jm(c,u);let d;typeof l=="object"&&l!==null&&gt(l,".priority")?(d=Fn(l,".priority"),w(aa(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(qu(e.serverSyncTree_,n)||L.EMPTY_NODE).getPriority().val();let f=va(e),g=he(l,d),v=Qm(g,a,f);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=v,s.currentWriteId=Xu(e);let y=Gm(e.serverSyncTree_,n,v,s.currentWriteId,s.applyLocally);dt(e.eventQueue_,n,y),ed(e,e.transactionQueueTree_)}}function nv(e,n,t){return qu(e.serverSyncTree_,n,t)||L.EMPTY_NODE}function ed(e,n=e.transactionQueueTree_){if(n||td(e,n),zr(n)){let t=Qb(e,n);w(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&kF(e,pa(n),t)}else jb(n)&&Qu(n,t=>{ed(e,t)})}function kF(e,n,t){let r=t.map(c=>c.currentWriteId),i=nv(e,n,r),o=i,s=i.hash();for(let c=0;c<t.length;c++){let u=t[c];w(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Je(n,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=n;e.server_.put(l.toString(),a,c=>{Do(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<t.length;f++)t[f].status=2,u=u.concat(lr(e.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&d.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();td(e,Zu(e.transactionQueueTree_,n)),ed(e,e.transactionQueueTree_),dt(e.eventQueue_,n,u);for(let f=0;f<d.length;f++)_o(d[f])}else{if(c==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}vo(e,n)}},s)}function vo(e,n){let t=Zb(e,n),r=pa(t),i=Qb(e,t);return FF(e,i,r),r}function FF(e,n,t){if(n.length===0)return;let r=[],i=[],s=n.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<n.length;a++){let l=n[a],c=Je(t,l.path),u=!1,d;if(w(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(lr(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=DF)u=!0,d="maxretry",i=i.concat(lr(e.serverSyncTree_,l.currentWriteId,!0));else{let f=nv(e,l.path,s);l.currentInputSnapshot=f;let g=n[a].update(f.val());if(g!==void 0){ga("transaction failed: Data returned ",g,l.path);let v=he(g);typeof g=="object"&&g!=null&&gt(g,".priority")||(v=v.updatePriority(f.getPriority()));let E=l.currentWriteId,M=va(e),B=Qm(v,f,M);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=B,l.currentWriteId=Xu(e),s.splice(s.indexOf(E),1),i=i.concat(Gm(e.serverSyncTree_,l.path,B,l.currentWriteId,l.applyLocally)),i=i.concat(lr(e.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(lr(e.serverSyncTree_,l.currentWriteId,!0))}dt(e.eventQueue_,t,i),i=[],u&&(n[a].status=2,function(f){setTimeout(f,Math.floor(0))}(n[a].unwatcher),n[a].onComplete&&(d==="nodata"?r.push(()=>n[a].onComplete(null,!1,n[a].currentInputSnapshot)):r.push(()=>n[a].onComplete(new Error(d),!1,null))))}td(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)_o(r[a]);ed(e,e.transactionQueueTree_)}function Zb(e,n){let t,r=e.transactionQueueTree_;for(t=H(n);t!==null&&zr(r)===void 0;)r=Zu(r,t),n=ie(n),t=H(n);return r}function Qb(e,n){let t=[];return Kb(e,n,t),t.sort((r,i)=>r.order-i.order),t}function Kb(e,n,t){let r=zr(n);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Qu(n,i=>{Kb(e,i,t)})}function td(e,n){let t=zr(n);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,Jm(n,t.length>0?t:void 0)}Qu(n,r=>{td(e,r)})}function rv(e,n){let t=pa(Zb(e,n)),r=Zu(e.transactionQueueTree_,n);return gF(r,i=>{Sg(e,i)}),Sg(e,r),Ub(r,i=>{Sg(e,i)}),t}function Sg(e,n){let t=zr(n);if(t){let r=[],i=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(w(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(w(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),i=i.concat(lr(e.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&r.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Jm(n,void 0):t.length=o+1,dt(e.eventQueue_,pa(n),i);for(let s=0;s<r.length;s++)_o(r[s])}}function LF(e){let n="",t=e.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}n+="/"+i}return n}function VF(e){let n={};e.charAt(0)==="?"&&(e=e.substring(1));for(let t of e.split("&")){if(t.length===0)continue;let r=t.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):je(`Invalid query segment '${t}' in query '${e}'`)}return n}var ym=function(e,n){let t=jF(e),r=t.namespace;t.domain==="firebase.com"&&ln(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||g1();let i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new vu(t.host,t.secure,r,i,n,"",r!==t.subdomain),path:new J(t.pathString)}},jF=function(e){let n="",t="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),n=e.substring(0,Math.min(u,d)),u<d&&(i=LF(e.substring(u,d)));let f=VF(e.substring(Math.min(e.length,d)));c=n.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(n.substring(c+1),10)):c=n.length;let g=n.slice(0,c);if(g.toLowerCase()==="localhost")t="localhost";else if(g.split(".").length<=2)t=g;else{let v=n.indexOf(".");r=n.substring(0,v).toLowerCase(),t=n.substring(v+1),o=r}"ns"in f&&(o=f.ns)}return{host:n,port:l,domain:t,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var z0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",UF=function(){let e=0,n=[];return function(t){let r=t===e;e=t;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=z0.charAt(t%64),t=Math.floor(t/64);w(t===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&n[i]===63;i--)n[i]=0;n[i]++}else for(i=0;i<12;i++)n[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=z0.charAt(n[i]);return w(s.length===20,"nextPushId: Length should be 20."),s}}();var Fu=class{constructor(n,t,r,i){this.eventType=n,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){let n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ye(this.snapshot.exportVal())}},Lu=class{constructor(n,t,r){this.eventRegistration=n,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var la=class{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}};var Vu=class{constructor(n,t){this._repo=n,this._path=t}cancel(){let n=new Se;return AF(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){ut("OnDisconnect.remove",this._path);let n=new Se;return W0(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){ut("OnDisconnect.set",this._path),un("OnDisconnect.set",n,this._path,!1);let t=new Se;return W0(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}setWithPriority(n,t){ut("OnDisconnect.setWithPriority",this._path),un("OnDisconnect.setWithPriority",n,this._path,!1),Xm("OnDisconnect.setWithPriority",t,!1);let r=new Se;return xF(this._repo,this._path,n,t,r.wrapCallback(()=>{})),r.promise}update(n){ut("OnDisconnect.update",this._path),$b("OnDisconnect.update",n,this._path,!1);let t=new Se;return NF(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}};var et=class e{constructor(n,t,r,i){this._repo=n,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:km(this._path)}get ref(){return new ft(this._repo,this._path)}get _queryIdentifier(){let n=N0(this._queryParams),t=Pm(n);return t==="{}"?"default":t}get _queryObject(){return N0(this._queryParams)}isEqual(n){if(n=Ue(n),!(n instanceof e))return!1;let t=this._repo===n._repo,r=Fm(this._path,n._path),i=this._queryIdentifier===n._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+q1(this._path)}};function nd(e,n){if(e._orderByCalled===!0)throw new Error(n+": You can't combine multiple orderBy calls.")}function gr(e){let n=null,t=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(t=e.getIndexEndValue()),e.getIndex()===an){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==dr)throw new Error(r);if(typeof n!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Pn)throw new Error(r);if(typeof t!="string")throw new Error(i)}}else if(e.getIndex()===se){if(n!=null&&!aa(n)||t!=null&&!aa(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(w(e.getIndex()instanceof Js||e.getIndex()===jm,"unknown index type."),n!=null&&typeof n=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rd(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ft=class e extends et{constructor(n,t){super(n,t,new na,!1)}get parent(){let n=pb(this._path);return n===null?null:new e(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}},yo=class e{constructor(n,t,r){this._node=n,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){let t=new J(n),r=On(this.ref,n);return new e(this._node.getChild(t),r,se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>n(new e(i,On(this.ref,r),se)))}hasChild(n){let t=new J(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function id(e,n){return e=Ue(e),e._checkNotDeleted("ref"),n!==void 0?On(e._root,n):e._root}function od(e,n){e=Ue(e),e._checkNotDeleted("refFromURL");let t=ym(n,e._repo.repoInfo_.nodeAdmin);Hb("refFromURL",t);let r=t.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&ln("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),id(e,t.path.toString())}function On(e,n){return e=Ue(e),H(e._path)===null?wF("child","path",n,!1):Eo("child","path",n,!1),new ft(e._repo,fe(e._path,n))}function iv(e,n){e=Ue(e),ut("push",e._path),un("push",n,e._path,!0);let t=qb(e._repo),r=UF(t),i=On(e,r),o=On(e,r),s;return n!=null?s=ya(o,n).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function ov(e){return ut("remove",e._path),ya(e,null)}function ya(e,n){e=Ue(e),ut("set",e._path),un("set",n,e._path,!1);let t=new Se;return tv(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function sv(e,n){e=Ue(e),ut("setPriority",e._path),Xm("setPriority",n,!1);let t=new Se;return tv(e._repo,fe(e._path,".priority"),n,null,t.wrapCallback(()=>{})),t.promise}function av(e,n,t){if(ut("setWithPriority",e._path),un("setWithPriority",n,e._path,!1),Xm("setWithPriority",t,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let r=new Se;return tv(e._repo,e._path,n,t,r.wrapCallback(()=>{})),r.promise}function lv(e,n){$b("update",n,e._path,!1);let t=new Se;return TF(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}function cv(e){e=Ue(e);let n=new la(()=>{}),t=new ca(n);return SF(e._repo,e,t).then(r=>new yo(r,new ft(e._repo,e._path),e._queryParams.getIndex()))}var ca=class e{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,t){let r=t._queryParams.getIndex();return new Fu("value",this,new yo(n.snapshotNode,new ft(t._repo,t._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new Lu(this,n,t):null}matches(n){return n instanceof e?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},ju=class e{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t=n==="children_added"?"child_added":n;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new Lu(this,n,t):null}createEvent(n,t){w(n.childName!=null,"Child events should have a childName.");let r=On(new ft(t._repo,t._path),n.childName),i=t._queryParams.getIndex();return new Fu(n.type,this,new yo(n.snapshotNode,r,i),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof e?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function _a(e,n,t,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=t,c=(u,d)=>{vm(e._repo,e,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}let s=new la(t,o||void 0),a=n==="value"?new ca(s):new ju(n,s);return RF(e._repo,e,a),()=>vm(e._repo,e,a)}function Ca(e,n,t,r){return _a(e,"value",n,t,r)}function sd(e,n,t,r){return _a(e,"child_added",n,t,r)}function ad(e,n,t,r){return _a(e,"child_changed",n,t,r)}function ld(e,n,t,r){return _a(e,"child_moved",n,t,r)}function cd(e,n,t,r){return _a(e,"child_removed",n,t,r)}function ud(e,n,t){let r=null,i=t?new la(t):null;n==="value"?r=new ca(i):n&&(r=new ju(n,i)),vm(e._repo,e,r)}var ht=class{},Uu=class extends ht{constructor(n,t){super(),this._value=n,this._key=t,this.type="endAt"}_apply(n){un("endAt",this._value,n._path,!0);let t=Yg(n._queryParams,this._value,this._key);if(rd(t),gr(t),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new et(n._repo,n._path,t,n._orderByCalled)}};function uv(e,n){return ma("endAt","key",n,!0),new Uu(e,n)}var _m=class extends ht{constructor(n,t){super(),this._value=n,this._key=t,this.type="endBefore"}_apply(n){un("endBefore",this._value,n._path,!1);let t=fk(n._queryParams,this._value,this._key);if(rd(t),gr(t),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new et(n._repo,n._path,t,n._orderByCalled)}};function dv(e,n){return ma("endBefore","key",n,!0),new _m(e,n)}var Bu=class extends ht{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAt"}_apply(n){un("startAt",this._value,n._path,!0);let t=qg(n._queryParams,this._value,this._key);if(rd(t),gr(t),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new et(n._repo,n._path,t,n._orderByCalled)}};function fv(e=null,n){return ma("startAt","key",n,!0),new Bu(e,n)}var Cm=class extends ht{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAfter"}_apply(n){un("startAfter",this._value,n._path,!1);let t=dk(n._queryParams,this._value,this._key);if(rd(t),gr(t),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new et(n._repo,n._path,t,n._orderByCalled)}};function hv(e,n){return ma("startAfter","key",n,!0),new Cm(e,n)}var wm=class extends ht{constructor(n){super(),this._limit=n,this.type="limitToFirst"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new et(n._repo,n._path,ck(n._queryParams,this._limit),n._orderByCalled)}};function pv(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wm(e)}var Em=class extends ht{constructor(n){super(),this._limit=n,this.type="limitToLast"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new et(n._repo,n._path,uk(n._queryParams,this._limit),n._orderByCalled)}};function gv(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Em(e)}var Dm=class extends ht{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){nd(n,"orderByChild");let t=new J(this._path);if(W(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Js(t),i=Hu(n._queryParams,r);return gr(i),new et(n._repo,n._path,i,!0)}};function mv(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Eo("orderByChild","path",e,!1),new Dm(e)}var bm=class extends ht{constructor(){super(...arguments),this.type="orderByKey"}_apply(n){nd(n,"orderByKey");let t=Hu(n._queryParams,an);return gr(t),new et(n._repo,n._path,t,!0)}};function vv(){return new bm}var Im=class extends ht{constructor(){super(...arguments),this.type="orderByPriority"}_apply(n){nd(n,"orderByPriority");let t=Hu(n._queryParams,se);return gr(t),new et(n._repo,n._path,t,!0)}};function yv(){return new Im}var Sm=class extends ht{constructor(){super(...arguments),this.type="orderByValue"}_apply(n){nd(n,"orderByValue");let t=Hu(n._queryParams,jm);return gr(t),new et(n._repo,n._path,t,!0)}};function _v(){return new Sm}var Tm=class extends ht{constructor(n,t){super(),this._value=n,this._key=t,this.type="equalTo"}_apply(n){if(un("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Uu(this._value,this._key)._apply(new Bu(this._value,this._key)._apply(n))}};function Cv(e,n){return ma("equalTo","key",n,!0),new Tm(e,n)}function pt(e,...n){let t=Ue(e);for(let r of n)t=r._apply(t);return t}qk(ft);Jk(ft);var BF="FIREBASE_DATABASE_EMULATOR_HOST",Mm={},$F=!1;function HF(e,n,t,r){e.repoInfo_=new vu(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function wv(e,n,t,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=ym(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[BF]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=ym(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new Gs(Gs.OWNER):new Rg(e.name,e.options,n);Hb("Invalid Firebase Database URL",s),W(s.path)||ln("Database URL must point to the root of a Firebase Database (not including a child path).");let d=zF(a,e,u,new Ng(e.name,t));return new Am(d,e)}function WF(e,n){let t=Mm[n];(!t||t[e.key]!==e)&&ln(`Database ${n}(${e.repoInfo_}) has already been deleted.`),Yb(e),delete t[e.key]}function zF(e,n,t,r){let i=Mm[n.name];i||(i={},Mm[n.name]=i);let o=i[e.toURLString()];return o&&ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new mm(e,$F,t,r),i[e.toURLString()]=o,o}var Am=class{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ft(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(WF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&ln("Cannot call "+n+" on a deleted database.")}};function Jb(){hb.IS_TRANSPORT_INITIALIZED&&je("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ev(){Jb(),Qs.forceDisallow()}function Dv(){Jb(),ao.forceDisallow(),Qs.forceAllow()}function Xb(e=To(),n){let t=_d(e,"database").getImmediate({identifier:n});if(!t._instanceStarted){let r=Uv("database");r&&dd(t,...r)}return t}function dd(e,n,t,r={}){e=Ue(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&ln("Cannot call useEmulator() after instance has already been initialized.");let i=e._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Gs(Gs.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Bv(r.mockUserToken,e.app.options.projectId);o=new Gs(s)}HF(i,n,t,o)}function bv(e){e=Ue(e),e._checkNotDeleted("goOffline"),Yb(e._repo)}function Iv(e){e=Ue(e),e._checkNotDeleted("goOnline"),PF(e._repo)}function Sv(e,n){Z0(e,n)}function GF(e){Rm(Kv),So(new fn("database",(n,{instanceIdentifier:t})=>{let r=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return wv(r,i,o,t)},"PUBLIC").setMultipleInstances(!0)),Be(p0,g0,e),Be(p0,g0,"esm2017")}var qF={".sv":"timestamp"};function Tv(){return qF}function Mv(e){return{".sv":{increment:e}}}var xm=class{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Av(e,n,t){var r;if(e=Ue(e),ut("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let i=(r=t?.applyLocally)!==null&&r!==void 0?r:!0,o=new Se,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new yo(u,new ft(e._repo,e._path),se),o.resolve(new xm(c,d)))},a=Ca(e,()=>{});return OF(e._repo,e._path,n,s,a,i),o.promise}Lm.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)};Lm.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)};GF();var YF="@firebase/database-compat",ZF="1.0.8";var QF=new Zr("@firebase/database-compat"),eI=function(e){let n="FIREBASE WARNING: "+e;QF.warn(n)};var KF=function(e,n,t,r){if(!(r&&t===void 0)&&typeof t!="boolean")throw new Error(tt(e,n)+"must be a boolean.")},JF=function(e,n,t){if(!(t&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(tt(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var xv=class{constructor(n){this._delegate=n}cancel(n){R("OnDisconnect.cancel",0,1,arguments.length),De("OnDisconnect.cancel","onComplete",n,!0);let t=this._delegate.cancel();return n&&t.then(()=>n(null),r=>n(r)),t}remove(n){R("OnDisconnect.remove",0,1,arguments.length),De("OnDisconnect.remove","onComplete",n,!0);let t=this._delegate.remove();return n&&t.then(()=>n(null),r=>n(r)),t}set(n,t){R("OnDisconnect.set",1,2,arguments.length),De("OnDisconnect.set","onComplete",t,!0);let r=this._delegate.set(n);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(n,t,r){R("OnDisconnect.setWithPriority",2,3,arguments.length),De("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(n,t);return r&&i.then(()=>r(null),o=>r(o)),i}update(n,t){if(R("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){let i={};for(let o=0;o<n.length;++o)i[""+o]=n[o];n=i,eI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}De("OnDisconnect.update","onComplete",t,!0);let r=this._delegate.update(n);return t&&r.then(()=>t(null),i=>t(i)),r}};var Nv=class{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return R("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Gr=class e{constructor(n,t){this._database=n,this._delegate=t}val(){return R("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return R("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return R("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return R("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return R("DataSnapshot.child",0,1,arguments.length),n=String(n),Eo("DataSnapshot.child","path",n,!1),new e(this._database,this._delegate.child(n))}hasChild(n){return R("DataSnapshot.hasChild",1,1,arguments.length),Eo("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return R("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return R("DataSnapshot.forEach",1,1,arguments.length),De("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(t=>n(new e(this._database,t)))}hasChildren(){return R("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return R("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return R("DataSnapshot.ref",0,0,arguments.length),new kn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},fd=class e{constructor(n,t){this.database=n,this._delegate=t}on(n,t,r,i){var o;R("Query.on",2,4,arguments.length),De("Query.on","callback",t,!1);let s=e.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{t.call(s.context,new Gr(this.database,c),u)};a.userCallback=t,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(n){case"value":return Ca(this._delegate,a,l),t;case"child_added":return sd(this._delegate,a,l),t;case"child_removed":return cd(this._delegate,a,l),t;case"child_changed":return ad(this._delegate,a,l),t;case"child_moved":return ld(this._delegate,a,l),t;default:throw new Error(tt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,t,r){if(R("Query.off",0,3,arguments.length),JF("Query.off",n,!0),De("Query.off","callback",t,!0),vd("Query.off","context",r,!0),t){let i=()=>{};i.userCallback=t,i.context=r,ud(this._delegate,n,i)}else ud(this._delegate,n)}get(){return cv(this._delegate).then(n=>new Gr(this.database,n))}once(n,t,r,i){R("Query.once",1,4,arguments.length),De("Query.once","callback",t,!0);let o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Se,a=(c,u)=>{let d=new Gr(this.database,c);t&&t.call(o.context,d,u),s.resolve(d)};a.userCallback=t,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(n){case"value":Ca(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":sd(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":cd(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":ad(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":ld(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(tt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(n){return R("Query.limitToFirst",1,1,arguments.length),new e(this.database,pt(this._delegate,pv(n)))}limitToLast(n){return R("Query.limitToLast",1,1,arguments.length),new e(this.database,pt(this._delegate,gv(n)))}orderByChild(n){return R("Query.orderByChild",1,1,arguments.length),new e(this.database,pt(this._delegate,mv(n)))}orderByKey(){return R("Query.orderByKey",0,0,arguments.length),new e(this.database,pt(this._delegate,vv()))}orderByPriority(){return R("Query.orderByPriority",0,0,arguments.length),new e(this.database,pt(this._delegate,yv()))}orderByValue(){return R("Query.orderByValue",0,0,arguments.length),new e(this.database,pt(this._delegate,_v()))}startAt(n=null,t){return R("Query.startAt",0,2,arguments.length),new e(this.database,pt(this._delegate,fv(n,t)))}startAfter(n=null,t){return R("Query.startAfter",0,2,arguments.length),new e(this.database,pt(this._delegate,hv(n,t)))}endAt(n=null,t){return R("Query.endAt",0,2,arguments.length),new e(this.database,pt(this._delegate,uv(n,t)))}endBefore(n=null,t){return R("Query.endBefore",0,2,arguments.length),new e(this.database,pt(this._delegate,dv(n,t)))}equalTo(n,t){return R("Query.equalTo",1,2,arguments.length),new e(this.database,pt(this._delegate,Cv(n,t)))}toString(){return R("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return R("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if(R("Query.isEqual",1,1,arguments.length),!(n instanceof e)){let t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,t,r){let i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,De(n,"cancel",i.cancel,!0),i.context=r,vd(n,"context",i.context,!0);else if(t)if(typeof t=="object"&&t!==null)i.context=t;else if(typeof t=="function")i.cancel=t;else throw new Error(tt(n,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new kn(this.database,new ft(this._delegate._repo,this._delegate._path))}},kn=class e extends fd{constructor(n,t){super(n,new et(t._repo,t._path,new na,!1)),this.database=n,this._delegate=t}getKey(){return R("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return R("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,On(this._delegate,n))}getParent(){R("Reference.parent",0,0,arguments.length);let n=this._delegate.parent;return n?new e(this.database,n):null}getRoot(){return R("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(n,t){R("Reference.set",1,2,arguments.length),De("Reference.set","onComplete",t,!0);let r=ya(this._delegate,n);return t&&r.then(()=>t(null),i=>t(i)),r}update(n,t){if(R("Reference.update",1,2,arguments.length),Array.isArray(n)){let i={};for(let o=0;o<n.length;++o)i[""+o]=n[o];n=i,eI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ut("Reference.update",this._delegate._path),De("Reference.update","onComplete",t,!0);let r=lv(this._delegate,n);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(n,t,r){R("Reference.setWithPriority",2,3,arguments.length),De("Reference.setWithPriority","onComplete",r,!0);let i=av(this._delegate,n,t);return r&&i.then(()=>r(null),o=>r(o)),i}remove(n){R("Reference.remove",0,1,arguments.length),De("Reference.remove","onComplete",n,!0);let t=ov(this._delegate);return n&&t.then(()=>n(null),r=>n(r)),t}transaction(n,t,r){R("Reference.transaction",1,3,arguments.length),De("Reference.transaction","transactionUpdate",n,!1),De("Reference.transaction","onComplete",t,!0),KF("Reference.transaction","applyLocally",r,!0);let i=Av(this._delegate,n,{applyLocally:r}).then(o=>new Nv(o.committed,new Gr(this.database,o.snapshot)));return t&&i.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),i}setPriority(n,t){R("Reference.setPriority",1,2,arguments.length),De("Reference.setPriority","onComplete",t,!0);let r=sv(this._delegate,n);return t&&r.then(()=>t(null),i=>t(i)),r}push(n,t){R("Reference.push",0,2,arguments.length),De("Reference.push","onComplete",t,!0);let r=iv(this._delegate,n),i=r.then(s=>new e(this.database,s));t&&i.then(()=>t(null),s=>t(s));let o=new e(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return ut("Reference.onDisconnect",this._delegate._path),new xv(new Vu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var qr=class{constructor(n,t){this._delegate=n,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ev,forceLongPolling:Dv}}useEmulator(n,t,r={}){dd(this._delegate,n,t,r)}ref(n){if(R("database.ref",0,1,arguments.length),n instanceof kn){let t=od(this._delegate,n.toString());return new kn(this,t)}else{let t=id(this._delegate,n);return new kn(this,t)}}refFromURL(n){R("database.refFromURL",1,1,arguments.length);let r=od(this._delegate,n);return new kn(this,r)}goOffline(){return R("database.goOffline",0,0,arguments.length),bv(this._delegate)}goOnline(){return R("database.goOnline",0,0,arguments.length),Iv(this._delegate)}};qr.ServerValue={TIMESTAMP:Tv(),increment:e=>Mv(e)};function XF({app:e,url:n,version:t,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){Rm(t);let a=new yd("database-standalone"),l=new Ta("auth-internal",a);l.setComponent(new fn("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new Ta("app-check-internal",a),c.setComponent(new fn("app-check-internal",()=>i,"PRIVATE"))),{instance:new qr(wv(e,l,c,n,s),e),namespace:o}}var eL=Object.freeze({__proto__:null,initStandalone:XF});var tL=qr.ServerValue;function nL(e){e.INTERNAL.registerComponent(new fn("database-compat",(n,{instanceIdentifier:t})=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("database").getImmediate({identifier:t});return new qr(i,r)},"PUBLIC").setServiceProps({Reference:kn,Query:fd,Database:qr,DataSnapshot:Gr,enableLogging:Sv,INTERNAL:eL,ServerValue:tL}).setMultipleInstances(!0)),e.registerVersion(YF,ZF)}nL(xt);function wa(e,n,t="on",r=Ro){return new V(i=>{let o=null;return o=e[t](n,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),t==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),t==="on"?{unsubscribe(){o!=null&&e.off(n,o)}}:{unsubscribe(){}}}).pipe(N(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:n,payload:o,prevKey:s,key:a}}),Oo())}function rL(e){return typeof e=="string"}function iL(e){return typeof e.exportVal=="function"}function oI(e){return e==null}function sI(e){return typeof e.set=="function"}function tI(e,n){return sI(n)?n:e.ref(n)}function aI(e,n){if(rL(e))return n.stringCase();if(sI(e))return n.firebaseCase();if(iL(e))return n.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function lI(e){return(oI(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function cI(e,n,t){n=lI(n);let r=n.map(i=>wa(e,i,"on",t));return li(...r)}function oL(e,n,t){let r=cI(e,n).pipe(ui((i,o)=>[...i,o],[]));return aL(e,r,t)}function sL(e,n){return wa(e,"value","on",n).pipe(N(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}function aL(e,n,t){return sL(e,t).pipe(qd(n),N(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Wd(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),N(i=>i.actions))}function nI(e,n){return function(r,i){return aI(r,{stringCase:()=>e.child(r)[n](i),firebaseCase:()=>r[n](i),snapshotCase:()=>r.ref[n](i)})}}function lL(e){return function(t){return t?aI(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function cL(e,n,t){return wa(e,"value","once",t).pipe(oe(r=>{let i=[A(r)];return n.forEach(o=>i.push(wa(e,o,"on",t))),li(...i).pipe(ui(dL,[]))}),Bd())}function uI(e,n){let t=e.length;for(let r=0;r<t;r++)if(e[r].payload.key===n)return r;return-1}function uL(e,n){if(oI(n))return 0;{let t=uI(e,n);return t===-1?e.length:t+1}}function dL(e,n){let{payload:t,prevKey:r,key:i}=n,o=uI(e,i),s=uL(e,r);switch(n.type){case"value":if(n.payload?.exists()){let a=null;n.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==r&&(e=e.filter(l=>l.payload.key!==t.key),e.splice(s,0,n));else{if(r==null)return[n,...e];e=e.slice(),e.splice(s,0,n)}return e;case"child_removed":return e.filter(a=>a.payload.key!==t.key);case"child_changed":return e.map(a=>a.payload.key===i?n:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function rI(e,n,t){return n=lI(n),cL(e,n,t)}function fL(e,n){let t=n.schedulers.outsideAngular,r=n.schedulers.ngZone.run(()=>e.ref);return{query:e,update:nI(r,"update"),set:nI(r,"set"),push:i=>r.push(i),remove:lL(r),snapshotChanges(i){return rI(e,i,t).pipe(on)},stateChanges(i){return cI(e,i,t).pipe(on)},auditTrail(i){return oL(e,i,t).pipe(on)},valueChanges(i,o){return rI(e,i,t).pipe(N(a=>a.map(l=>o&&o.idField?G(C({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),on)}}}function iI(e,n){return function(){return wa(e,"value","on",n)}}function hL(e,n){return{query:e,snapshotChanges(){return iI(e,n.schedulers.outsideAngular)().pipe(on)},update(t){return e.ref.update(t)},set(t){return e.ref.set(t)},remove(){return e.ref.remove()},valueChanges(){return iI(e,n.schedulers.outsideAngular)().pipe(on,N(r=>r.payload.exists()?r.payload.val():null))}}}var pL=new b("angularfire2.realtimeDatabaseURL"),gL=new b("angularfire2.database.use-emulator"),mL=(()=>{class e{schedulers;database;constructor(t,r,i,o,s,a,l,c,u,d,f,g,v,y,E){this.schedulers=a;let M=l,B=hu(t,s,r);c&&_g(B,s,u,f,g,v,d,y),this.database=pu(`${B.name}.database.${i}`,"AngularFireDatabase",B.name,()=>{let T=s.runOutsideAngular(()=>B.database(i||void 0));return M&&T.useEmulator(...M),T},[M])}list(t,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>tI(this.database,t)),o=i;return r&&(o=r(i)),fL(o,this)}object(t){let r=this.schedulers.ngZone.runOutsideAngular(()=>tI(this.database,t));return hL(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||e)(D(oo),D(fu,8),D(pL,8),D(Re),D(Z),D(Rn),D(gL,8),D(h0,8),D(hg,8),D(pg,8),D(gg,8),D(mg,8),D(vg,8),D(yg,8),D(rn,8))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),dI=(()=>{class e{constructor(){xt.registerVersion("angularfire",Nn.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ye({type:e});static \u0275inj=qe({providers:[mL]})}return e})();var Rv={production:!1,firebaseConfig:{apiKey:"AIzaSyAco4UFYRdlBYSyH6mq86n1w_7fRJaGX-8",authDomain:"nahome-limo.firebaseapp.com",databaseURL:"https://nahome-limo-default-rtdb.firebaseio.com",projectId:"nahome-limo",storageBucket:"nahome-limo.firebasestorage.app",messagingSenderId:"379603856111",appId:"1:379603856111:web:30042eea4b6aa3e0aac91a",measurementId:"G-JKJZR5WLNW"}};var vV="auth";var hd=class{constructor(){return Ls(vV)}};var Ea=class{constructor(n){return n}},fI="database",Pv=class{constructor(){return Ls(fI)}};var Ov=new b("angularfire2.database-instances");function yV(e,n){let t=ig(fI,e,n);return t&&new Ea(t)}function _V(e){return(n,t)=>{let r=n.runOutsideAngular(()=>e(t));return new Ea(r)}}var CV={provide:Pv,deps:[[new Et,Ov]]},wV={provide:Ea,useFactory:yV,deps:[[new Et,Ov],Vr]};function hI(e,...n){return Be("angularfire",Nn.full,"rtdb"),Qt([wV,CV,{provide:Ov,useFactory:_V(e),multi:!0,deps:[Z,Oe,Rn,js,[new Et,hd],[new Et,rn],...n]}])}var pI=Vs(Xb,!0);var gI={providers:[xw({eventCoalescing:!0}),XE(ng),eE(),{provide:oo,useValue:Rv.firebaseConfig},KD(()=>JD(Rv.firebaseConfig)),hI(()=>pI()),dI]};var pd=class e{title="nahome-limo";ngOnInit(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=it({type:e,selectors:[["app-root"]],standalone:!0,features:[ot],decls:20,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container","hr-liner"],["href","/",1,"navbar-brand","ml-2"],["src","./assets/nahome-logo.png","alt","Brand Logo",2,"height","80px"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["routerLink","home",1,"nav-link"],["routerLink","about-us",1,"nav-link"],["routerLink","contact",1,"nav-link"],[1,"btn","btn-primary","me-sm-2"]],template:function(t,r){t&1&&(h(0,"nav",0)(1,"div",1)(2,"a",2),S(3,"img",3),p(),h(4,"button",4),S(5,"span",5),p(),h(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),m(10,"Home"),p()(),h(11,"li",8)(12,"a",10),m(13,"About"),p()(),h(14,"li",8)(15,"a",11),m(16,"Contact"),p()()(),h(17,"button",12),m(18,"Call: 303-333-3333"),p()()()(),S(19,"router-outlet"))},dependencies:[xp,Jo,KE],styles:["button[_ngcontent-%COMP%]{border:3px solid grey}span[_ngcontent-%COMP%]{border:2px solid grey!important;background-color:#646464}.navbar-collapse[_ngcontent-%COMP%]{background-color:#212529}.me-auto[_ngcontent-%COMP%]{padding-left:30px}.navbar-brand[_ngcontent-%COMP%]{color:#fff}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin-right:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;box-shadow:0 0 10px #e2e2e233!important;color:#000}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{text-transform:uppercase;color:#fff!important;font-size:16px!important}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#da9100!important}.bg-light[_ngcontent-%COMP%]{background-color:#212529!important;height:100px}"]})};lE(pd,gI).catch(e=>console.error(e));
